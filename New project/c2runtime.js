// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,P,da,ea,ga,S,ha,ia,ja,ka,ma,na,T,qa,sa,ua,va,wa,xa,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,U,Ia,Ka,La,Ma,Na,V,Oa,Pa,Qa,Ta,W,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc={},cc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(h){return h.__proto__}:function(h){return h.constructor.prototype});
(function(){function h(d,n,k,a){this.set(d,n,k,a)}function g(){this.qb=this.pb=this.sb=this.rb=this.xb=this.wb=this.Ga=this.Fa=0}function e(d,n,k,a){d<n?k<a?(v=d<k?d:k,y=n>a?n:a):(v=d<a?d:a,y=n>k?n:k):k<a?(v=n<k?n:k,y=d>a?d:a):(v=n<a?n:a,y=d>k?d:k)}function m(){this.items=this.Zc=null;this.Lf=0;n&&(this.Zc=new Set);this.lg=[];this.ae=!0}function s(d){k[C++]=d}function c(){this.ga=this.tj=this.y=this.Tj=0}function b(d){this.Pa=[];this.Mh=this.Oh=this.Ph=this.Nh=0;this.xh(d)}function a(d,n){this.Yj=
d;this.Xj=n;this.cells={}}function u(d,n){this.Yj=d;this.Xj=n;this.cells={}}function t(d,n,k){var a;return N.length?(a=N.pop(),a.Ek=d,a.x=n,a.y=k,a):new aa(d,n,k)}function f(d,n,k){this.Ek=d;this.x=n;this.y=k;this.bb=new ba}function l(d,n,k){var a;return z.length?(a=z.pop(),a.Ek=d,a.x=n,a.y=k,a):new ca(d,n,k)}function w(d,n,k){this.Ek=d;this.x=n;this.y=k;this.bb=[];this.Kf=!0;this.md=new ba;this.qg=!1}function r(d,n){return d.cd-n.cd}P=function(d){window.console&&window.console.log&&window.console.log(d)};
da=function(d){window.console&&window.console.error&&window.console.error(d)};ea=function(d){return"undefined"===typeof d};ga=function(d){return"number"===typeof d};S=function(d){return"string"===typeof d};ha=function(d){return 0<d&&0===(d-1&d)};ia=function(d){--d;for(var n=1;32>n;n<<=1)d|=d>>n;return d+1};ja=function(d){return 0>d?-d:d};ka=function(d,n){return d>n?d:n};ma=function(d,n){return d<n?d:n};na=Math.PI;T=function(d){return 0<=d?d|0:(d|0)-1};qa=function(d){var n=d|0;return n===d?n:n+1};
sa=function(d,n,k,a,f,b,p,c){var C,l,q,r;d<k?(l=d,C=k):(l=k,C=d);f<p?(r=f,q=p):(r=p,q=f);if(C<r||l>q)return!1;n<a?(l=n,C=a):(l=a,C=n);b<c?(r=b,q=c):(r=c,q=b);if(C<r||l>q)return!1;C=f-d+p-k;l=b-n+c-a;d=k-d;n=a-n;f=p-f;b=c-b;c=ja(n*f-b*d);return ja(f*l-b*C)>c?!1:ja(d*l-n*C)<=c};h.prototype.set=function(d,n,k,a){this.left=d;this.top=n;this.right=k;this.bottom=a};h.prototype.Yh=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};h.prototype.width=function(){return this.right-
this.left};h.prototype.height=function(){return this.bottom-this.top};h.prototype.offset=function(d,n){this.left+=d;this.top+=n;this.right+=d;this.bottom+=n;return this};h.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,this.bottom=d)};h.prototype.tt=function(d){return!(d.right<this.left||d.bottom<this.top||d.left>this.right||d.top>this.bottom)};h.prototype.ut=function(d,n,k){return!(d.right+
n<this.left||d.bottom+k<this.top||d.left+n>this.right||d.top+k>this.bottom)};h.prototype.zb=function(d,n){return d>=this.left&&d<=this.right&&n>=this.top&&n<=this.bottom};h.prototype.hi=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};ua=h;g.prototype.nf=function(d){this.Fa=d.left;this.Ga=d.top;this.wb=d.right;this.xb=d.top;this.rb=d.right;this.sb=d.bottom;this.pb=d.left;this.qb=d.bottom};g.prototype.wp=function(d,n){if(0===n)this.nf(d);else{var k=
Math.sin(n),a=Math.cos(n),f=d.left*k,b=d.top*k,p=d.right*k,k=d.bottom*k,c=d.left*a,C=d.top*a,l=d.right*a,a=d.bottom*a;this.Fa=c-b;this.Ga=C+f;this.wb=l-b;this.xb=C+p;this.rb=l-k;this.sb=a+p;this.pb=c-k;this.qb=a+f}};g.prototype.offset=function(d,n){this.Fa+=d;this.Ga+=n;this.wb+=d;this.xb+=n;this.rb+=d;this.sb+=n;this.pb+=d;this.qb+=n;return this};var v=0,y=0;g.prototype.Xm=function(d){e(this.Fa,this.wb,this.rb,this.pb);d.left=v;d.right=y;e(this.Ga,this.xb,this.sb,this.qb);d.top=v;d.bottom=y};g.prototype.zb=
function(d,n){var k=this.wb-this.Fa,a=this.xb-this.Ga,f=this.rb-this.Fa,b=this.sb-this.Ga,p=d-this.Fa,c=n-this.Ga,C=k*k+a*a,l=k*f+a*b,a=k*p+a*c,q=f*f+b*b,r=f*p+b*c,z=1/(C*q-l*l),k=(q*a-l*r)*z,C=(C*r-l*a)*z;if(0<=k&&0<C&&1>k+C)return!0;k=this.pb-this.Fa;a=this.qb-this.Ga;C=k*k+a*a;l=k*f+a*b;a=k*p+a*c;z=1/(C*q-l*l);k=(q*a-l*r)*z;C=(C*r-l*a)*z;return 0<=k&&0<C&&1>k+C};g.prototype.Zd=function(d,n){if(n)switch(d){case 0:return this.Fa;case 1:return this.wb;case 2:return this.rb;case 3:return this.pb;case 4:return this.Fa;
default:return this.Fa}else switch(d){case 0:return this.Ga;case 1:return this.xb;case 2:return this.sb;case 3:return this.qb;case 4:return this.Ga;default:return this.Ga}};g.prototype.Fo=function(){return(this.Fa+this.wb+this.rb+this.pb)/4};g.prototype.Go=function(){return(this.Ga+this.xb+this.sb+this.qb)/4};g.prototype.Tn=function(d){var n=d.Fo(),k=d.Go();if(this.zb(n,k))return!0;n=this.Fo();k=this.Go();if(d.zb(n,k))return!0;var a,f,b,p,c,C,l,q;for(l=0;4>l;l++)for(q=0;4>q;q++)if(n=this.Zd(l,!0),
k=this.Zd(l,!1),a=this.Zd(l+1,!0),f=this.Zd(l+1,!1),b=d.Zd(q,!0),p=d.Zd(q,!1),c=d.Zd(q+1,!0),C=d.Zd(q+1,!1),sa(n,k,a,f,b,p,c,C))return!0;return!1};va=g;wa=function(d,n,k){return Math.max(Math.min(d,255),0)|Math.max(Math.min(n,255),0)<<8|Math.max(Math.min(k,255),0)<<16};xa=function(d){return d&255};Aa=function(d){return(d&65280)>>8};Ba=function(d){return(d&16711680)>>16};Ca=function(d,n){for(var k in n)n.hasOwnProperty(k)&&(d[k]=n[k]);return d};Da=function(d,n){var k,a;n=T(n);if(!(0>n||n>=d.length)){k=
n;for(a=d.length-1;k<a;k++)d[k]=d[k+1];d.length=a}};Ea=function(d,n){d.length=n.length;var k,a;k=0;for(a=n.length;k<a;k++)d[k]=n[k]};Fa=function(d,n){d.push.apply(d,n)};Ga=function(d,n){var k,a;k=0;for(a=d.length;k<a;++k)if(d[k]===n)return k;return-1};Ha=function(d,n){var k=Ga(d,n);-1!==k&&Da(d,k)};U=function(d){return d/(180/na)};Ia=function(d){return 180/na*d};Ka=function(d){d%=360;0>d&&(d+=360);return d};La=function(d){d%=2*na;0>d&&(d+=2*na);return d};Ma=function(d){return Ka(Ia(d))};Na=function(d){return La(U(d))};
V=function(d,n,k,a){return Math.atan2(a-n,k-d)};Oa=function(d,n){if(d===n)return 0;var k=Math.sin(d),a=Math.cos(d),f=Math.sin(n),b=Math.cos(n),k=k*f+a*b;return 1<=k?0:-1>=k?na:Math.acos(k)};Pa=function(d,n,k){var a=Math.sin(d),f=Math.cos(d),b=Math.sin(n),p=Math.cos(n);return Math.acos(a*b+f*p)>k?0<f*b-a*p?La(d+k):La(d-k):La(n)};Qa=function(d,n){var k=Math.sin(d),a=Math.cos(d),f=Math.sin(n),b=Math.cos(n);return 0>=a*f-k*b};Ta=function(d,n,k,a,f,b){if(0===k)return b?d:n;var p=Math.sin(k);k=Math.cos(k);
d-=a;n-=f;var c=d*p;d=d*k-n*p;n=n*k+c;return b?d+a:n+f};W=function(d,n,k,a){d=k-d;n=a-n;return Math.sqrt(d*d+n*n)};Ua=function(d,n){return!d!==!n};Va=function(d){for(var n in d)if(d.hasOwnProperty(n))return!0;return!1};Wa=function(d){for(var n in d)d.hasOwnProperty(n)&&delete d[n]};var B=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var d=window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==
typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-B};var p=!1,q=p=!1,d=!1;"undefined"!==typeof window&&(p=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),p=!p&&/safari/i.test(navigator.userAgent),q=/(iphone|ipod|ipad)/i.test(navigator.userAgent),d=window.c2ejecta);var n=!p&&!d&&!q&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;m.prototype.contains=function(d){return this.Kd()?!1:n?this.Zc.has(d):this.items&&
this.items.hasOwnProperty(d)};m.prototype.add=function(d){if(n)this.Zc.has(d)||(this.Zc.add(d),this.ae=!1);else{var k=d.toString(),a=this.items;a?a.hasOwnProperty(k)||(a[k]=d,this.Lf++,this.ae=!1):(this.items={},this.items[k]=d,this.Lf=1,this.ae=!1)}};m.prototype.remove=function(d){if(!this.Kd())if(n)this.Zc.has(d)&&(this.Zc["delete"](d),this.ae=!1);else if(this.items){d=d.toString();var k=this.items;k.hasOwnProperty(d)&&(delete k[d],this.Lf--,this.ae=!1)}};m.prototype.clear=function(){this.Kd()||
(n?this.Zc.clear():(this.items=null,this.Lf=0),this.lg.length=0,this.ae=!0)};m.prototype.Kd=function(){return 0===this.count()};m.prototype.count=function(){return n?this.Zc.size:this.Lf};var k=null,C=0;m.prototype.Mu=function(){if(!this.ae){if(n)this.lg.length=this.Zc.size,k=this.lg,C=0,this.Zc.forEach(s),k=null,C=0;else{var d=this.lg;d.length=this.Lf;var a,f=0,b=this.items;if(b)for(a in b)b.hasOwnProperty(a)&&(d[f++]=b[a])}this.ae=!0}};m.prototype.Vd=function(){this.Mu();return this.lg};ba=m;var Y=
new ba;Ya=function(d){var n,k;n=0;for(k=d.length;n<k;++n)Y.add(d[n]);Ea(d,Y.Vd());Y.clear()};Za=function(d,k){n?$a(d,k.Zc):ab(d,k.Vd())};$a=function(d,n){var k,a,f,b;a=k=0;for(f=d.length;k<f;++k)b=d[k],n.has(b)||(d[a++]=b);d.length=a};ab=function(d,n){var k,a,f,b;a=k=0;for(f=d.length;k<f;++k)b=d[k],-1===Ga(n,b)&&(d[a++]=b);d.length=a};c.prototype.add=function(d){this.y=d-this.Tj;this.tj=this.ga+this.y;this.Tj=this.tj-this.ga-this.y;this.ga=this.tj};c.prototype.reset=function(){this.ga=this.tj=this.y=
this.Tj=0};bb=c;cb=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.xh=function(d){this.ip=d;this.Fc=d.length/2;this.Pa.length=d.length;this.Rh=this.Sh=-1;this.$m=0};b.prototype.le=function(){return!this.ip.length};b.prototype.na=function(){for(var d=this.Pa,n=d[0],k=n,a=d[1],f=a,b,p,c=1,C=this.Fc;c<C;++c)p=2*c,b=d[p],p=d[p+1],b<n&&(n=b),b>k&&(k=b),p<a&&(a=p),p>f&&(f=p);this.Nh=n;this.Oh=k;this.Ph=a;this.Mh=f};b.prototype.nf=function(d,n,k){this.Pa.length=8;this.Fc=4;var a=
this.Pa;a[0]=d.left-n;a[1]=d.top-k;a[2]=d.right-n;a[3]=d.top-k;a[4]=d.right-n;a[5]=d.bottom-k;a[6]=d.left-n;a[7]=d.bottom-k;this.Sh=d.right-d.left;this.Rh=d.bottom-d.top;this.na()};b.prototype.ze=function(d,n,k,a,f){this.Pa.length=8;this.Fc=4;var b=this.Pa;b[0]=d.Fa-n;b[1]=d.Ga-k;b[2]=d.wb-n;b[3]=d.xb-k;b[4]=d.rb-n;b[5]=d.sb-k;b[6]=d.pb-n;b[7]=d.qb-k;this.Sh=a;this.Rh=f;this.na()};b.prototype.vp=function(d){this.Fc=d.Fc;Ea(this.Pa,d.Pa);this.Nh=d.Nh;this.Ph-d.Ph;this.Oh=d.Oh;this.Mh=d.Mh};b.prototype.$d=
function(d,n,k){if(this.Sh!==d||this.Rh!==n||this.$m!==k){this.Sh=d;this.Rh=n;this.$m=k;var a,f,b,p,c,C=0,l=1,q=this.ip,r=this.Pa;0!==k&&(C=Math.sin(k),l=Math.cos(k));k=0;for(b=this.Fc;k<b;k++)a=2*k,f=a+1,p=q[a]*d,c=q[f]*n,r[a]=p*l-c*C,r[f]=c*l+p*C;this.na()}};b.prototype.zb=function(d,n){var k=this.Pa;if(d===k[0]&&n===k[1])return!0;var a,f,b,p=this.Fc,c=this.Nh-110,C=this.Ph-101,l=this.Oh+131,q=this.Mh+120,r,z,e=0,x=0;for(a=0;a<p;a++)f=2*a,b=(a+1)%p*2,r=k[f],f=k[f+1],z=k[b],b=k[b+1],sa(c,C,d,n,r,
f,z,b)&&e++,sa(l,q,d,n,r,f,z,b)&&x++;return 1===e%2||1===x%2};b.prototype.Ng=function(d,n,k){var a=d.Pa,f=this.Pa;if(this.zb(a[0]+n,a[1]+k)||d.zb(f[0]-n,f[1]-k))return!0;var b,p,c,C,l,q,r,z,e,x,u,N;b=0;for(C=this.Fc;b<C;b++)for(p=2*b,c=(b+1)%C*2,z=f[p],p=f[p+1],e=f[c],x=f[c+1],c=0,r=d.Fc;c<r;c++)if(l=2*c,q=(c+1)%r*2,u=a[l]+n,l=a[l+1]+k,N=a[q]+n,q=a[q+1]+k,sa(z,p,e,x,u,l,N,q))return!0;return!1};db=b;a.prototype.ge=function(d,n,k){var a;a=this.cells[d];return a?(a=a[n])?a:k?(a=t(this,d,n),this.cells[d][n]=
a):null:k?(a=t(this,d,n),this.cells[d]={},this.cells[d][n]=a):null};a.prototype.$b=function(d){return T(d/this.Yj)};a.prototype.ac=function(d){return T(d/this.Xj)};a.prototype.update=function(d,n,k){var a,f,b,p,c;if(n)for(a=n.left,f=n.right;a<=f;++a)for(b=n.top,p=n.bottom;b<=p;++b)if(!k||!k.zb(a,b))if(c=this.ge(a,b,!1))c.remove(d),c.Kd()&&(c.bb.clear(),1E3>N.length&&N.push(c),this.cells[a][b]=null);if(k)for(a=k.left,f=k.right;a<=f;++a)for(b=k.top,p=k.bottom;b<=p;++b)n&&n.zb(a,b)||this.ge(a,b,!0).Nk(d)};
a.prototype.ij=function(d,n){var k,a,f,b,p,c;k=this.$b(d.left);f=this.ac(d.top);a=this.$b(d.right);for(p=this.ac(d.bottom);k<=a;++k)for(b=f;b<=p;++b)(c=this.ge(k,b,!1))&&c.dump(n)};eb=a;u.prototype.ge=function(d,n,k){var a;a=this.cells[d];return a?(a=a[n])?a:k?(a=l(this,d,n),this.cells[d][n]=a):null:k?(a=l(this,d,n),this.cells[d]={},this.cells[d][n]=a):null};u.prototype.$b=function(d){return T(d/this.Yj)};u.prototype.ac=function(d){return T(d/this.Xj)};u.prototype.update=function(d,n,k){var a,f,b,
p,c;if(n)for(a=n.left,f=n.right;a<=f;++a)for(b=n.top,p=n.bottom;b<=p;++b)if(!k||!k.zb(a,b))if(c=this.ge(a,b,!1))c.remove(d),c.Kd()&&(c.reset(),1E3>z.length&&z.push(c),this.cells[a][b]=null);if(k)for(a=k.left,f=k.right;a<=f;++a)for(b=k.top,p=k.bottom;b<=p;++b)n&&n.zb(a,b)||this.ge(a,b,!0).Nk(d)};u.prototype.ij=function(d,n,k,a,f){var b,p;d=this.$b(d);n=this.ac(n);k=this.$b(k);for(b=this.ac(a);d<=k;++d)for(a=n;a<=b;++a)(p=this.ge(d,a,!1))&&p.dump(f)};u.prototype.Gt=function(d){var n,k,a,f,b;n=d.left;
a=d.top;k=d.right;for(f=d.bottom;n<=k;++n)for(d=a;d<=f;++d)if(b=this.ge(n,d,!1))b.Kf=!1};fb=u;var N=[];f.prototype.Kd=function(){return this.bb.Kd()};f.prototype.Nk=function(d){this.bb.add(d)};f.prototype.remove=function(d){this.bb.remove(d)};f.prototype.dump=function(d){Fa(d,this.bb.Vd())};aa=f;var z=[];w.prototype.Kd=function(){if(!this.bb.length)return!0;if(this.bb.length>this.md.count())return!1;this.pk();return!0};w.prototype.Nk=function(d){this.md.contains(d)?(this.md.remove(d),this.md.Kd()&&
(this.qg=!1)):this.bb.length?(this.bb[this.bb.length-1].hd()>d.hd()&&(this.Kf=!1),this.bb.push(d)):(this.bb.push(d),this.Kf=!0)};w.prototype.remove=function(d){this.md.add(d);this.qg=!0;30<=this.md.count()&&this.pk()};w.prototype.pk=function(){this.qg&&(this.md.count()===this.bb.length?this.reset():(Za(this.bb,this.md),this.md.clear(),this.qg=!1))};w.prototype.$r=function(){this.Kf||(this.bb.sort(r),this.Kf=!0)};w.prototype.reset=function(){this.bb.length=0;this.Kf=!0;this.md.clear();this.qg=!1};
w.prototype.dump=function(d){this.pk();this.$r();this.bb.length&&d.push(this.bb)};ca=w;var x="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");gb=function(d){return 0>=d||11<=d?"source-over":x[d-1]};hb=function(d,n,k){if(k)switch(d.ub=k.ONE,d.tb=k.ONE_MINUS_SRC_ALPHA,n){case 1:d.ub=k.ONE;d.tb=k.ONE;break;case 3:d.ub=k.ONE;d.tb=k.ZERO;break;case 4:d.ub=k.ONE_MINUS_DST_ALPHA;d.tb=k.ONE;break;case 5:d.ub=k.DST_ALPHA;d.tb=k.ZERO;
break;case 6:d.ub=k.ZERO;d.tb=k.SRC_ALPHA;break;case 7:d.ub=k.ONE_MINUS_DST_ALPHA;d.tb=k.ZERO;break;case 8:d.ub=k.ZERO;d.tb=k.ONE_MINUS_SRC_ALPHA;break;case 9:d.ub=k.DST_ALPHA;d.tb=k.ONE_MINUS_SRC_ALPHA;break;case 10:d.ub=k.ONE_MINUS_DST_ALPHA,d.tb=k.SRC_ALPHA}};ib=function(d){return Math.round(1E6*d)/1E6};jb=function(d,k){return"string"!==typeof d||"string"!==typeof k||d.length!==k.length?!1:d===k?!0:d.toLowerCase()===k.toLowerCase()};kb=function(d){d=d.target;return!d||d===document||d===window||
document&&document.body&&d===document.body||jb(d.tagName,"canvas")?!0:!1}})();var dc="undefined"!==typeof Float32Array?Float32Array:Array;function ec(h){var g=new dc(3);h&&(g[0]=h[0],g[1]=h[1],g[2]=h[2]);return g}function fc(h){var g=new dc(16);h&&(g[0]=h[0],g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=h[6],g[7]=h[7],g[8]=h[8],g[9]=h[9],g[10]=h[10],g[11]=h[11],g[12]=h[12],g[13]=h[13],g[14]=h[14],g[15]=h[15]);return g}
function gc(h,g){g[0]=h[0];g[1]=h[1];g[2]=h[2];g[3]=h[3];g[4]=h[4];g[5]=h[5];g[6]=h[6];g[7]=h[7];g[8]=h[8];g[9]=h[9];g[10]=h[10];g[11]=h[11];g[12]=h[12];g[13]=h[13];g[14]=h[14];g[15]=h[15]}function hc(h,g){var e=g[0],m=g[1];g=g[2];h[0]*=e;h[1]*=e;h[2]*=e;h[3]*=e;h[4]*=m;h[5]*=m;h[6]*=m;h[7]*=m;h[8]*=g;h[9]*=g;h[10]*=g;h[11]*=g}
function ic(h,g,e,m){m||(m=fc());var s,c,b,a,u,t,f,l,w=h[0],r=h[1];h=h[2];c=e[0];b=e[1];s=e[2];e=g[1];t=g[2];w===g[0]&&r===e&&h===t?(h=m,h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1):(e=w-g[0],t=r-g[1],f=h-g[2],l=1/Math.sqrt(e*e+t*t+f*f),e*=l,t*=l,f*=l,g=b*f-s*t,s=s*e-c*f,c=c*t-b*e,(l=Math.sqrt(g*g+s*s+c*c))?(l=1/l,g*=l,s*=l,c*=l):c=s=g=0,b=t*c-f*s,a=f*g-e*c,u=e*s-t*g,(l=Math.sqrt(b*b+a*a+u*u))?(l=1/l,b*=l,a*=l,u*=l):u=a=b=0,
m[0]=g,m[1]=b,m[2]=e,m[3]=0,m[4]=s,m[5]=a,m[6]=t,m[7]=0,m[8]=c,m[9]=u,m[10]=f,m[11]=0,m[12]=-(g*w+s*r+c*h),m[13]=-(b*w+a*r+u*h),m[14]=-(e*w+t*r+f*h),m[15]=1)}
(function(){function h(c){this.je=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.an=ec([0,0,100]);this.po=ec([0,0,0]);this.Vp=ec([0,1,0]);this.vm=ec([1,1,1]);this.rn=!0;this.ml=fc();this.Dc=fc();this.fo=fc();this.ek=fc();this.p=c;this.Pn()}function g(c,b,a){this.p=c;this.yh=b;this.name=a;this.Cc=c.getAttribLocation(b,"aPos");this.re=c.getAttribLocation(b,"aTex");this.no=c.getUniformLocation(b,"matP");this.Ti=c.getUniformLocation(b,"matMV");this.Rf=
c.getUniformLocation(b,"opacity");this.oo=c.getUniformLocation(b,"samplerFront");this.dh=c.getUniformLocation(b,"samplerBack");this.ff=c.getUniformLocation(b,"destStart");this.ef=c.getUniformLocation(b,"destEnd");this.jl=c.getUniformLocation(b,"seconds");this.il=c.getUniformLocation(b,"pixelWidth");this.hl=c.getUniformLocation(b,"pixelHeight");this.bh=c.getUniformLocation(b,"layerScale");this.ah=c.getUniformLocation(b,"layerAngle");this.fh=c.getUniformLocation(b,"viewOrigin");this.eh=c.getUniformLocation(b,
"scrollPos");this.mt=!!(this.il||this.hl||this.jl||this.dh||this.ff||this.ef||this.bh||this.ah||this.fh||this.eh);this.xo=this.yo=-999;this.Vi=1;this.to=this.so=0;this.vo=this.ro=this.qo=1;this.Ao=this.zo=this.Co=this.Bo=this.uo=0;this.Zk=[];this.wo=fc();this.Rf&&c.uniform1f(this.Rf,1);this.oo&&c.uniform1i(this.oo,0);this.dh&&c.uniform1i(this.dh,1);this.ff&&c.uniform2f(this.ff,0,0);this.ef&&c.uniform2f(this.ef,1,1);this.bh&&c.uniform1f(this.bh,1);this.ah&&c.uniform1f(this.ah,0);this.fh&&c.uniform2f(this.fh,
0,0);this.eh&&c.uniform2f(this.eh,0,0);this.Se=!1}function e(c,b){this.type=c;this.n=b;this.p=b.p;this.jc=this.pc=this.Vo=0;this.ea=this.ad=null;this.xp=[]}h.prototype.Pn=function(){var c=this.p,b;this.ho=1;this.Ze=this.ne=null;this.bi=1;c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.disable(c.CULL_FACE);c.disable(c.DEPTH_TEST);this.io=c.ONE;this.bo=c.ONE_MINUS_SRC_ALPHA;this.Fl=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Fl);this.Ih=
Array(4);this.Dh=Array(4);for(b=0;4>b;b++)this.Ih[b]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Ih[b]),this.Dh[b]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Dh[b]);this.Bd=0;this.pt=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.pt);this.Fj=new Float32Array(16E3);this.uj=new Float32Array(16E3);this.Xt=new Float32Array(32E3);for(var a=new Uint16Array(12E3),e=b=0;12E3>b;)a[b++]=e,a[b++]=e+1,a[b++]=e+2,a[b++]=e,a[b++]=e+2,a[b++]=e+3,e+=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,a,
c.STATIC_DRAW);this.Gl=this.qc=0;this.Ya=[];b=this.dk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Ya.push(b);b=this.dk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ya.push(b);for(var t in jc)jc.hasOwnProperty(t)&&this.Ya.push(this.dk(jc[t],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",t));c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,null);this.ed=[];this.Nc=0;this.Cb=!1;this.mn=this.Vg=-1;this.zg=null;this.Cs=c.createFramebuffer();this.np=null;this.De=ec([0,0,0]);this.Do=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Do&&
(this.Do=2048);this.rd(0)};g.prototype.mm=function(c){var b=this.wo;if(b[0]!==c[0]||b[1]!==c[1]||b[2]!==c[2]||b[3]!==c[3]||b[4]!==c[4]||b[5]!==c[5]||b[6]!==c[6]||b[7]!==c[7]||b[8]!==c[8]||b[9]!==c[9]||b[10]!==c[10]||b[11]!==c[11]||b[12]!==c[12]||b[13]!==c[13]||b[14]!==c[14]||b[15]!==c[15])gc(c,this.wo),this.p.uniformMatrix4fv(this.Ti,!1,c)};h.prototype.dk=function(c,b,a){var e=this.p,t=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(t,c.src);e.compileShader(t);if(!e.getShaderParameter(t,e.COMPILE_STATUS))return e.deleteShader(t),
null;var f=e.createShader(e.VERTEX_SHADER);e.shaderSource(f,b);e.compileShader(f);if(!e.getShaderParameter(f,e.COMPILE_STATUS))return e.deleteShader(t),e.deleteShader(f),null;b=e.createProgram();e.attachShader(b,t);e.attachShader(b,f);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(t),e.deleteShader(f),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(t);e.deleteShader(f);a=new g(e,b,a);a.lk=c.lk||0;a.mk=c.mk||0;a.ln=!!c.ln;a.Um=!!c.Um;a.R=c.R||[];c=0;for(t=
a.R.length;c<t;c++)a.R[c][1]=e.getUniformLocation(b,a.R[c][0]),a.Zk.push(0),e.uniform1f(a.R[c][1],0);return a};h.prototype.Bk=function(c){var b,a;b=0;for(a=this.Ya.length;b<a;b++)if(this.Ya[b].name===c)return b;return-1};h.prototype.hp=function(c,b,a){var e=this.Dc,t=this.ml,f=[0,0,0,0,0,0,0,0];f[0]=e[0]*c+e[4]*b+e[12];f[1]=e[1]*c+e[5]*b+e[13];f[2]=e[2]*c+e[6]*b+e[14];f[3]=e[3]*c+e[7]*b+e[15];f[4]=t[0]*f[0]+t[4]*f[1]+t[8]*f[2]+t[12]*f[3];f[5]=t[1]*f[0]+t[5]*f[1]+t[9]*f[2]+t[13]*f[3];f[6]=t[2]*f[0]+
t[6]*f[1]+t[10]*f[2]+t[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],a[0]=(.5*f[4]+.5)*this.width,a[1]=(.5*f[5]+.5)*this.height)};h.prototype.dg=function(c,b,a){if(this.width!==c||this.height!==b||a){this.Fd();this.width=c;this.height=b;this.p.viewport(0,0,c,b);b=c/b;var e=this.ml,t;t=1*Math.tan(45*Math.PI/360);b*=t;c=-b;a=-t;e||(e=fc());var f=b-c,l=t-a;e[0]=2/f;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/l;e[6]=0;e[7]=0;e[8]=(b+c)/f;e[9]=(t+a)/l;e[10]=-1001/999;e[11]=-1;e[12]=
0;e[13]=0;e[14]=-2E3/999;e[15]=0;ic(this.an,this.po,this.Vp,this.Dc);c=[0,0];b=[0,0];this.hp(0,0,c);this.hp(1,1,b);this.vm[0]=1/(b[0]-c[0]);this.vm[1]=-1/(b[1]-c[1]);c=0;for(b=this.Ya.length;c<b;c++)a=this.Ya[c],a.Se=!1,a.no&&(this.p.useProgram(a.yh),this.p.uniformMatrix4fv(a.no,!1,this.ml));this.p.useProgram(this.Ya[this.Vg].yh);this.p.bindTexture(this.p.TEXTURE_2D,null);this.p.activeTexture(this.p.TEXTURE1);this.p.bindTexture(this.p.TEXTURE_2D,null);this.p.activeTexture(this.p.TEXTURE0);this.Ze=
this.ne=null}};h.prototype.pd=function(){ic(this.an,this.po,this.Vp,this.Dc);hc(this.Dc,this.vm)};h.prototype.translate=function(c,b){if(0!==c||0!==b){this.De[0]=c;this.De[1]=b;this.De[2]=0;var a=this.Dc,e=this.De,t=e[0],f=e[1],e=e[2];a[12]=a[0]*t+a[4]*f+a[8]*e+a[12];a[13]=a[1]*t+a[5]*f+a[9]*e+a[13];a[14]=a[2]*t+a[6]*f+a[10]*e+a[14];a[15]=a[3]*t+a[7]*f+a[11]*e+a[15]}};h.prototype.scale=function(c,b){if(1!==c||1!==b)this.De[0]=c,this.De[1]=b,this.De[2]=1,hc(this.Dc,this.De)};h.prototype.Pl=function(c){if(0!==
c){var b=this.Dc,a,e=Math.sin(c);c=Math.cos(c);var t=b[0],f=b[1],l=b[2],w=b[3],r=b[4],v=b[5],h=b[6],g=b[7];a?b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]):a=b;a[0]=t*c+r*e;a[1]=f*c+v*e;a[2]=l*c+h*e;a[3]=w*c+g*e;a[4]=t*-e+r*c;a[5]=f*-e+v*c;a[6]=l*-e+h*c;a[7]=w*-e+g*c}};h.prototype.vd=function(){for(var c=!1,b=0;16>b;b++)if(this.fo[b]!==this.Dc[b]){c=!0;break}c&&(c=this.Gc(),c.type=5,c.ea?gc(this.Dc,c.ea):c.ea=fc(this.Dc),gc(this.Dc,this.fo),this.Cb=
!1)};e.prototype.Qr=function(){this.p.bindTexture(this.p.TEXTURE_2D,this.ad)};e.prototype.Rr=function(){var c=this.p;c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,this.ad);c.activeTexture(c.TEXTURE0)};e.prototype.Nr=function(){var c=this.Vo,b=this.n;b.bi=c;b=b.zg;b.Rf&&b.Vi!==c&&(b.Vi=c,this.p.uniform1f(b.Rf,c))};e.prototype.Kr=function(){this.p.drawElements(this.p.TRIANGLES,this.jc,this.p.UNSIGNED_SHORT,2*this.pc)};e.prototype.Mr=function(){this.p.blendFunc(this.pc,this.jc)};e.prototype.Sr=
function(){var c,b,a,e=this.n.Ya,h=this.n.mn;c=0;for(b=e.length;c<b;c++)a=e[c],c===h&&a.Ti?(a.mm(this.ea),a.Se=!0):a.Se=!1;gc(this.ea,this.n.ek)};e.prototype.Lr=function(){var c=this.p,b=this.n;this.ad?(b.Ze===this.ad&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,null),b.Ze=null,c.activeTexture(c.TEXTURE0)),c.bindFramebuffer(c.FRAMEBUFFER,b.Cs),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.ad,0)):(c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,
null,0),c.bindFramebuffer(c.FRAMEBUFFER,null))};e.prototype.Ir=function(){var c=this.p;0===this.pc?(c.clearColor(this.ea[0],this.ea[1],this.ea[2],this.ea[3]),c.clear(c.COLOR_BUFFER_BIT)):(c.enable(c.SCISSOR_TEST),c.scissor(this.ea[0],this.ea[1],this.ea[2],this.ea[3]),c.clearColor(0,0,0,0),c.clear(this.p.COLOR_BUFFER_BIT),c.disable(c.SCISSOR_TEST))};e.prototype.Jr=function(){var c=this.p,b=this.n,a=b.Ya[1];c.useProgram(a.yh);!a.Se&&a.Ti&&(a.mm(b.ek),a.Se=!0);c.enableVertexAttribArray(a.Cc);c.bindBuffer(c.ARRAY_BUFFER,
b.Fl);c.vertexAttribPointer(a.Cc,4,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,this.pc/4,this.jc);a=b.zg;c.useProgram(a.yh);0<=a.Cc&&(c.enableVertexAttribArray(a.Cc),c.bindBuffer(c.ARRAY_BUFFER,b.Ih[b.Bd]),c.vertexAttribPointer(a.Cc,2,c.FLOAT,!1,0,0));0<=a.re&&(c.enableVertexAttribArray(a.re),c.bindBuffer(c.ARRAY_BUFFER,b.Dh[b.Bd]),c.vertexAttribPointer(a.re,2,c.FLOAT,!1,0,0))};e.prototype.Or=function(){var c=this.p,b=this.n,a=b.Ya[this.pc];b.mn=this.pc;b.zg=a;c.useProgram(a.yh);!a.Se&&a.Ti&&(a.mm(b.ek),
a.Se=!0);a.Rf&&a.Vi!==b.bi&&(a.Vi=b.bi,c.uniform1f(a.Rf,b.bi));0<=a.Cc&&(c.enableVertexAttribArray(a.Cc),c.bindBuffer(c.ARRAY_BUFFER,b.Ih[b.Bd]),c.vertexAttribPointer(a.Cc,2,c.FLOAT,!1,0,0));0<=a.re&&(c.enableVertexAttribArray(a.re),c.bindBuffer(c.ARRAY_BUFFER,b.Dh[b.Bd]),c.vertexAttribPointer(a.re,2,c.FLOAT,!1,0,0))};e.prototype.Pr=function(){var c,b,a=this.n.zg,e=this.p;c=this.ea;a.dh&&this.n.Ze!==this.ad&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.ad),this.n.Ze=this.ad,e.activeTexture(e.TEXTURE0));
var h=c[0];a.il&&h!==a.yo&&(a.yo=h,e.uniform1f(a.il,h));h=c[1];a.hl&&h!==a.xo&&(a.xo=h,e.uniform1f(a.hl,h));h=c[2];b=c[3];!a.ff||h===a.so&&b===a.to||(a.so=h,a.to=b,e.uniform2f(a.ff,h,b));h=c[4];b=c[5];!a.ef||h===a.qo&&b===a.ro||(a.qo=h,a.ro=h,e.uniform2f(a.ef,h,b));h=c[6];a.bh&&h!==a.vo&&(a.vo=h,e.uniform1f(a.bh,h));h=c[7];a.ah&&h!==a.uo&&(a.uo=h,e.uniform1f(a.ah,h));h=c[8];b=c[9];!a.fh||h===a.Bo&&b===a.Co||(a.Bo=h,a.Co=b,e.uniform2f(a.fh,h,b));h=c[10];b=c[11];!a.eh||h===a.zo&&b===a.Ao||(a.zo=h,a.Ao=
b,e.uniform2f(a.eh,h,b));a.jl&&e.uniform1f(a.jl,Xa()/1E3);if(a.R.length)for(c=0,b=a.R.length;c<b;c++)h=this.xp[c],h!==a.Zk[c]&&(a.Zk[c]=h,e.uniform1f(a.R[c][1],h))};h.prototype.Gc=function(){this.Nc===this.ed.length&&this.ed.push(new e(0,this));return this.ed[this.Nc++]};h.prototype.Fd=function(){if(0!==this.Nc&&!this.p.isContextLost()){var c=this.p;0<this.Gl&&(c.bindBuffer(c.ARRAY_BUFFER,this.Fl),c.bufferData(c.ARRAY_BUFFER,this.Xt.subarray(0,this.Gl),c.STREAM_DRAW),b&&0<=b.Cc&&"<point>"===b.name&&
c.vertexAttribPointer(b.Cc,4,c.FLOAT,!1,0,0));if(0<this.qc){var b=this.zg;c.bindBuffer(c.ARRAY_BUFFER,this.Ih[this.Bd]);c.bufferData(c.ARRAY_BUFFER,this.Fj.subarray(0,this.qc),c.STREAM_DRAW);b&&0<=b.Cc&&"<point>"!==b.name&&c.vertexAttribPointer(b.Cc,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.Dh[this.Bd]);c.bufferData(c.ARRAY_BUFFER,this.uj.subarray(0,this.qc),c.STREAM_DRAW);b&&0<=b.re&&"<point>"!==b.name&&c.vertexAttribPointer(b.re,2,c.FLOAT,!1,0,0)}for(var a,c=0,b=this.Nc;c<b;c++)switch(a=
this.ed[c],a.type){case 1:a.Kr();break;case 2:a.Qr();break;case 3:a.Nr();break;case 4:a.Mr();break;case 5:a.Sr();break;case 6:a.Lr();break;case 7:a.Ir();break;case 8:a.Jr();break;case 9:a.Or();break;case 10:a.Pr();break;case 11:a.Rr()}this.Gl=this.qc=this.Nc=0;this.Cb=!1;this.Bd++;4<=this.Bd&&(this.Bd=0)}};h.prototype.ye=function(c){if(c!==this.ho){var b=this.Gc();b.type=3;this.ho=b.Vo=c;this.Cb=!1}};h.prototype.Xa=function(c){if(c!==this.ne){var b=this.Gc();b.type=2;this.ne=b.ad=c;this.Cb=!1}};h.prototype.xe=
function(c,b){if(c!==this.io||b!==this.bo){var a=this.Gc();a.type=4;a.pc=c;a.jc=b;this.io=c;this.bo=b;this.Cb=!1}};h.prototype.sp=function(){this.xe(this.p.ONE,this.p.ONE_MINUS_SRC_ALPHA)};h.prototype.Zf=function(c,b,a,e,h,f,l,w){15992<=this.qc&&this.Fd();var r=this.qc,v=this.Fj,g=this.uj;if(this.Cb)this.ed[this.Nc-1].jc+=6;else{var m=this.Gc();m.type=1;m.pc=r/4*3;m.jc=6;this.Cb=!0}v[r]=c;g[r++]=0;v[r]=b;g[r++]=0;v[r]=a;g[r++]=1;v[r]=e;g[r++]=0;v[r]=h;g[r++]=1;v[r]=f;g[r++]=1;v[r]=l;g[r++]=0;v[r]=
w;g[r++]=1;this.qc=r};h.prototype.od=function(c,b,a,e,h,f,l,w,r){15992<=this.qc&&this.Fd();var v=this.qc,g=this.Fj,m=this.uj;if(this.Cb)this.ed[this.Nc-1].jc+=6;else{var p=this.Gc();p.type=1;p.pc=v/4*3;p.jc=6;this.Cb=!0}var p=r.left,q=r.top,d=r.right;r=r.bottom;g[v]=c;m[v++]=p;g[v]=b;m[v++]=q;g[v]=a;m[v++]=d;g[v]=e;m[v++]=q;g[v]=h;m[v++]=d;g[v]=f;m[v++]=r;g[v]=l;m[v++]=p;g[v]=w;m[v++]=r;this.qc=v};h.prototype.kp=function(c,b,a,e,h,f,l,w,r,v,g,m,p){15992<=this.qc&&this.Fd();var q=this.qc,d=this.Fj,
n=this.uj;if(this.Cb)this.ed[this.Nc-1].jc+=6;else{var k=this.Gc();k.type=1;k.pc=q/4*3;k.jc=6;this.Cb=!0}d[q]=c;n[q++]=r;d[q]=b;n[q++]=v;d[q]=a;n[q++]=g;d[q]=e;n[q++]=0;d[q]=h;n[q++]=m;d[q]=f;n[q++]=0;d[q]=l;n[q++]=p;d[q]=w;n[q++]=0;this.qc=q};h.prototype.hn=function(c){var b=c.length/2-2,a=b-1,e=c[0],h=c[1],f,l,w,r,v,g,m;for(f=0;f<b;f+=2)l=2*f,w=c[l+2],r=c[l+3],v=c[l+4],g=c[l+5],f===a?this.Zf(e,h,w,r,v,g,v,g):(m=c[l+6],l=c[l+7],this.Zf(e,h,w,r,v,g,m,l))};h.prototype.rd=function(c){if(this.Vg!==c){if(!this.Ya[c]){if(0===
this.Vg)return;c=0}var b=this.Gc();b.type=9;this.Vg=b.pc=c;this.Cb=!1}};h.prototype.qh=function(c){c=this.Ya[c];return!(!c.ff&&!c.ef)};h.prototype.Il=function(c){c=this.Ya[c];return!!(c.ff||c.ef||c.ln)};h.prototype.du=function(c){c=this.Ya[c];return 0!==c.lk||0!==c.mk};h.prototype.Ss=function(c){return this.Ya[c].lk};h.prototype.Ts=function(c){return this.Ya[c].mk};h.prototype.Us=function(c,b){return this.Ya[c].R[b][2]};h.prototype.fj=function(c){return this.Ya[c].Um};h.prototype.bg=function(c,b,
a,e,h,f,l,w,r,v,g,m,p,q){var d=this.Ya[this.Vg],n,k;if(d.mt||q.length){n=this.Gc();n.type=10;n.ea?gc(this.Dc,n.ea):n.ea=fc();k=n.ea;k[0]=b;k[1]=a;k[2]=e;k[3]=h;k[4]=f;k[5]=l;k[6]=w;k[7]=r;k[8]=v;k[9]=g;k[10]=m;k[11]=p;n.ad=d.dh?c:null;if(q.length)for(a=n.xp,a.length=q.length,c=0,b=q.length;c<b;c++)a[c]=q[c];this.Cb=!1}};h.prototype.clear=function(c,b,a,e){var h=this.Gc();h.type=7;h.pc=0;h.ea||(h.ea=fc());h.ea[0]=c;h.ea[1]=b;h.ea[2]=a;h.ea[3]=e;this.Cb=!1};h.prototype.clearRect=function(c,b,a,e){if(!(0>
a||0>e)){var h=this.Gc();h.type=7;h.pc=1;h.ea||(h.ea=fc());h.ea[0]=c;h.ea[1]=b;h.ea[2]=a;h.ea[3]=e;this.Cb=!1}};h.prototype.cu=function(){this.Fd();this.p.flush()};var m=[],s={};h.prototype.yr=function(){m.length=0;s={}};h.prototype.Ri=function(c,b,a,e){b=!!b;a=!!a;var h=c.src+","+b+","+a+(b?",undefined":""),f=null;if("undefined"!==typeof c.src&&s.hasOwnProperty(h))return f=s[h],f.Qh++,f;this.Fd();var l=this.p,w=ha(c.width)&&ha(c.height),f=l.createTexture();l.bindTexture(l.TEXTURE_2D,f);l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var r=l.RGBA,v=l.RGBA,g=l.UNSIGNED_BYTE;if(e&&!this.je)switch(e){case 1:v=r=l.RGB;break;case 2:g=l.UNSIGNED_SHORT_4_4_4_4;break;case 3:g=l.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=r=l.RGB,g=l.UNSIGNED_SHORT_5_6_5}if(!w&&b){e=document.createElement("canvas");e.width=ia(c.width);e.height=ia(c.height);var B=e.getContext("2d");B.webkitImageSmoothingEnabled=a;B.mozImageSmoothingEnabled=a;B.msImageSmoothingEnabled=a;B.imageSmoothingEnabled=a;B.drawImage(c,0,0,c.width,c.height,0,0,e.width,e.height);l.texImage2D(l.TEXTURE_2D,
0,r,v,g,e)}else l.texImage2D(l.TEXTURE_2D,0,r,v,g,c);b?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));a?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),w&&this.rn?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),l.generateMipmap(l.TEXTURE_2D)):l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MIN_FILTER,l.LINEAR)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST));l.bindTexture(l.TEXTURE_2D,null);this.ne=null;f.ug=c.width;f.tg=c.height;f.Qh=1;f.Zm=h;m.push(f);return s[h]=f};h.prototype.Pc=function(c,b,a,e,h){this.Fd();var f=this.p;this.je&&(e=!1);var l=f.createTexture();f.bindTexture(f.TEXTURE_2D,l);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,c,b,0,f.RGBA,e?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);h?(f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,a?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,a?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.ne=null;l.ug=c;l.tg=b;m.push(l);return l};h.prototype.qm=function(c,b,a){this.Fd();var e=this.p;this.je&&(a=
!1);e.bindTexture(e.TEXTURE_2D,b);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,a?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,c)}catch(h){console&&console.error&&console.error("Error updating WebGL texture: ",h)}e.bindTexture(e.TEXTURE_2D,null);this.ne=null};h.prototype.deleteTexture=function(c){c&&("undefined"!==typeof c.Qh&&1<c.Qh?c.Qh--:(this.Fd(),c===this.ne&&(this.p.bindTexture(this.p.TEXTURE_2D,null),this.ne=null),c===this.Ze&&(this.p.activeTexture(this.p.TEXTURE1),
this.p.bindTexture(this.p.TEXTURE_2D,null),this.p.activeTexture(this.p.TEXTURE0),this.Ze=null),Ha(m,c),"undefined"!==typeof c.Zm&&delete s[c.Zm],this.p.deleteTexture(c)))};h.prototype.qd=function(c){if(c!==this.np){var b=this.Gc();b.type=6;this.np=b.ad=c;this.Cb=!1}};lb=h})();
(function(){function h(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function g(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function e(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var n=this;this.Ac=(this.Pg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.kb=!!d.dc;this.Ff="undefined"!==typeof window.AppMobi||this.kb;this.zc=!!window.c2cocoonjs;this.Sc=!!window.c2ejecta;this.zc&&(CocoonJS.App.onSuspended.addEventListener(function(){n.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){n.setSuspended(!1)}));this.Sc&&(document.addEventListener("pagehide",function(){n.setSuspended(!0)}),document.addEventListener("pageshow",
function(){n.setSuspended(!1)}),document.addEventListener("resize",function(){n.setSize(window.innerWidth,window.innerHeight)}));this.ra=this.kb||this.zc||this.Sc;this.je=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Wn=/tizen/i.test(navigator.userAgent);this.yi=/android/i.test(navigator.userAgent)&&!this.Wn&&!this.je;this.Wk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.je;this.ao=/ipad/i.test(navigator.userAgent);this.Fi=this.Wk||this.ao||this.Sc;this.Ct=this.Wk&&/os\s6/i.test(navigator.userAgent);this.Og=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.je;this.Qk=/amazonwebappplatform/i.test(navigator.userAgent);this.xt=/firefox/i.test(navigator.userAgent);this.Vn=/safari/i.test(navigator.userAgent)&&!this.Og&&!this.je;this.At=/windows/i.test(navigator.userAgent);this.ke="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Yn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Zn=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Hf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Bi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Xn=this.Yn||this.Zn||this.Bi;this.wt=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.Ai=this.yi&&!this.Og&&!this.Pg&&!this.xt&&!this.Qk&&!this.ra;this.devicePixelRatio=1;this.Uc=this.Ac||this.Pg||this.Ff||this.zc||this.yi||this.Fi||this.Hf||this.Bi||this.wt||this.Wn||this.Sc;this.Uc||(this.Uc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.ke||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.ke=!0);this.canvas=d;this.bn=document.getElementById("c2canvasdiv");this.ja=this.n=this.p=null;this.sk="";this.li=!1;this.Po=this.Qo=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.kb&&(window.c2runtime=this);this.ke&&(window.ondragover=function(d){d.preventDefault();return!1},window.ondrop=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());
this.Ai&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=d.width;this.height=d.height;this.N=this.width;this.M=this.height;this.$h=this.width;this.Zh=this.height;this.Xg=window.innerWidth;this.Wg=window.innerHeight;this.Es=!1;this.la=!0;this.Rg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.Ma=[];this.bl={};this.Wc=[];this.kk={};this.Gd=[];this.ng=[];this.Bj=[];this.hr=[];this.ir=[];this.Xl=this.Dp=null;
this.Le={};this.Rk=this.he=!1;this.Tc=0;this.Tk=!1;this.Qc=[];this.Ld=this.Eb=this.Oi=this.Tl="";this.Ah=this.Bp=!1;this.bk=this.gh=this.ee=this.Ne=0;this.hg=1;this.mc=new bb;this.wd=new bb;this.Xi=this.ni=this.Cg=this.td=this.bf=this.rk=this.Ji=0;this.vg=null;this.hk=[];this.jk=[];this.ii=-1;this.kl=[[]];this.im=this.Ui=0;this.hj(null);this.Dg=this.Ko=this.jh=0;this.Bh=[];this.fm=this.Kl=-1;this.Ug=!0;this.Qf=0;this.Qg=!1;this.Fu=0;this.yf=null;this.Ia=this.Ef=!1;this.Oo=new ba;this.tl=new ba;this.ul=
new ba;this.jj=[];this.$c=new db([]);this.am=new db([]);this.xf=[];this.vi={};this.zf={};this.wf={};this.mg={};this.Wm={};this.lo=this.Ni=this.Rb=this.nc=this.ko=this.Mi=this.qa=null;this.kg=this.Vk=!1;this.tk=[null,null];this.Qe=0;this.ok="";this.Nd={};this.pj=this.Pf=null;this.Wi=[];this.ku()}}function m(d){d.target.result.createObjectStore("saves",{keyPath:"slot"})}function s(d,n,k,a){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=m;f.onerror=a;f.onsuccess=function(f){f=f.target.result;
f.onerror=a;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,data:n}).onsuccess=k}}function c(d,n,k){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=m;a.onerror=k;a.onsuccess=function(a){a=a.target.result;a.onerror=k;var f=a.transaction(["saves"]).objectStore("saves").get(d);f.onsuccess=function(){f.result?n(f.result.data):n(null)}}}function b(){P("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?
window.location.reload(!0):window.location+="?continuous"}function a(d){var n,k={};for(n in d)!d.hasOwnProperty(n)||d[n]instanceof ba||d[n]&&"undefined"!==typeof d[n].Yv||(k[n]=d[n]);return k}e.prototype.ku=function(){var d=this,n;n=this.Hf?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var k="data.js";if(this.Yn||this.Hf||this.Bi)k="data.json";n.open("GET",k,!0);var a=!1;if(!this.ra&&"response"in n&&"responseType"in n)try{n.responseType="json",a="json"===n.responseType}catch(f){a=!1}if(!a&&
"responseType"in n)try{n.responseType="text"}catch(b){}if("overrideMimeType"in n)try{n.overrideMimeType("application/json; charset=utf-8")}catch(p){}this.Hf?n.onreadystatechange=function(){4===n.readyState&&d.Qi(JSON.parse(n.responseText))}:(n.onload=function(){if(a)d.Qi(n.response);else if(d.Sc){var k=n.responseText,k=k.substr(k.indexOf("{"));d.Qi(JSON.parse(k))}else d.Qi(JSON.parse(n.responseText))},n.onerror=function(d){da("Error requesting "+k+":");da(d)});n.send()};e.prototype.qt=function(){var d=
this,n,k,a,f,b,p,c,l,e;this.devicePixelRatio=(this.Xe=(!this.ra||this.Sc)&&this.Ou&&!this.Ai)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ob();k=!(!this.Es&&(!this.Nj||this.ke||this.Xn||this.Hf||this.Pg||this.Ac||this.Qk));0<this.Hb&&this.setSize(h(),g(),!0);try{this.Yr&&(this.zc||this.Sc||!this.ra)&&(n={alpha:k,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.p=this.canvas.getContext("webgl",n)||this.canvas.getContext("experimental-webgl",
n))}catch(q){}if(this.p){this.ra||(this.lb=document.createElement("canvas"),jQuery(this.lb).appendTo(this.canvas.parentNode),this.lb.oncontextmenu=function(){return!1},this.lb.onselectstart=function(){return!1},this.lb.width=this.$h,this.lb.height=this.Zh,jQuery(this.lb).css({width:this.$h+"px",height:this.Zh+"px"}),this.gp(),this.El=this.lb.getContext("2d"));this.n=new lb(this.p,this.Uc);this.n.dg(this.canvas.width,this.canvas.height);this.n.rn=0!==this.Tr;this.ja=null;this.canvas.addEventListener("webglcontextlost",
function(k){k.preventDefault();d.Lt();P("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){d.n.Pn();d.n.dg(d.n.width,d.n.height,!0);d.nc=null;d.Rb=null;d.tk[0]=null;d.tk[1]=null;d.Mt();d.la=!0;P("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);n=0;for(k=this.q.length;n<k;n++)for(b=this.q[n],a=0,f=b.G.length;a<f;a++)c=b.G[a],c.nb=this.n.Bk(c.id),this.kg=this.kg||this.n.qh(c.nb);n=0;for(k=this.Wc.length;n<
k;n++){l=this.Wc[n];a=0;for(f=l.G.length;a<f;a++)c=l.G[a],c.nb=this.n.Bk(c.id);a=0;for(f=l.O.length;a<f;a++)for(e=l.O[a],b=0,p=e.G.length;b<p;b++)c=e.G[b],c.nb=this.n.Bk(c.id),this.kg=this.kg||this.n.qh(c.nb)}}else{if(0<this.Hb&&this.kb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ja=AppMobi.canvas.getContext("2d");try{this.ja.samplingMode=this.X?"smooth":"sharp",this.ja.globalScale=1,this.ja.HTML5CompatibilityMode=!0,this.ja.imageSmoothingEnabled=
this.X}catch(r){}0!==this.width&&0!==this.height&&(this.ja.width=this.width,this.ja.height=this.height)}this.ja||(n=this.zc?{antialias:!!this.X,alpha:k}:{alpha:k},this.ja=this.canvas.getContext("2d",n),this.ja.webkitImageSmoothingEnabled=this.X,this.ja.mozImageSmoothingEnabled=this.X,this.ja.msImageSmoothingEnabled=this.X,this.ja.imageSmoothingEnabled=this.X);this.El=this.lb=null}this.Mp=function(k){d.fb(!1,k)};window==window.top||this.ra||this.Xn||this.Hf||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.zc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(P("Reloading for continuous preview"),this.Oi="__c2_continuouspreview",this.Ah=!0),this.Vt&&!this.Uc&&(jQuery(window).focus(function(){d.setSuspended(!1)}),jQuery(window).blur(function(){d.setSuspended(!0)})));this.ra||(n=function(d){if(kb(d)&&
document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(k){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",n):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",n):document.addEventListener("touchstart",n),document.addEventListener("mousedown",n));0===this.Hb&&this.Xe&&1<this.devicePixelRatio&&this.setSize(this.Wa,this.Va,!0);this.Rp();this.jt();
this.go();this.B={}};e.prototype.setSize=function(d,n,k){var a=0,f=0,b=0,p=0,p=0,c=this.Ct&&this.Vn&&!navigator.standalone&&!this.ra&&!this.Ac;c&&(n+=60);if(this.Xg!==d||this.Wg!==n||k){this.Xg=d;this.Wg=n;var l=this.Hb,e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Qg)&&!this.Ac;if(e||0!==this.Hb||k)e&&0<this.Qe&&(l=this.Qe),k=this.devicePixelRatio,4<=l?(b=this.Wa/this.Va,d/n>b?(b*=n,5===l?(p=b*k/this.Wa,1<p?p=Math.floor(p):1>p&&
(p=1/Math.ceil(1/p)),b=this.Wa*p/k,p=this.Va*p/k,a=(d-b)/2,f=(n-p)/2,d=b,n=p):(a=(d-b)/2,d=b)):(p=d/b,5===l?(p=p*k/this.Va,1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p)),b=this.Wa*p/k,p=this.Va*p/k,a=(d-b)/2,f=(n-p)/2,d=b):f=(n-p)/2,n=p),e&&!this.ke&&(f=a=0)):this.ke&&this.Qg&&0===this.xn&&(a=Math.floor((d-this.Wa)/2),f=Math.floor((n-this.Va)/2),d=this.Wa,n=this.Va),2>l&&(this.sg=k),this.Xe&&this.ao&&1<k&&(1024<=d&&(d=1023),1024<=n&&(n=1023)),this.$h=Math.round(d),this.Zh=Math.round(n),this.width=
Math.round(d*k),this.height=Math.round(n*k),this.la=!0,this.cq?(this.N=this.width,this.M=this.height,this.yc=!0):this.width<this.Wa&&this.height<this.Va||1===l?(this.N=this.width,this.M=this.height,this.yc=!0):(this.N=this.Wa,this.M=this.Va,this.yc=!1,2===l?(b=this.Wa/this.Va,l=this.Xg/this.Wg,l<b?this.N=this.M*l:l>b&&(this.M=this.N/l)):3===l&&(b=this.Wa/this.Va,l=this.Xg/this.Wg,l>b?this.N=this.M*l:l<b&&(this.M=this.N/l))),this.bn&&!this.ra&&(jQuery(this.bn).css({width:Math.round(d)+"px",height:Math.round(n)+
"px","margin-left":Math.floor(a)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(d)+"px",height:Math.round(n)+"px"})),this.canvas&&(this.canvas.width=Math.round(d*k),this.canvas.height=Math.round(n*k),this.Sc?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(d)+"px",this.canvas.style.height=Math.round(n)+"px"):this.Xe&&!this.ra&&jQuery(this.canvas).css({width:Math.round(d)+
"px",height:Math.round(n)+"px"})),this.lb&&(this.lb.width=Math.round(d),this.lb.height=Math.round(n),jQuery(this.lb).css({width:Math.round(d)+"px",height:Math.round(n)+"px"})),this.n&&this.n.dg(Math.round(d*k),Math.round(n*k)),this.kb&&this.ja&&(this.ja.width=Math.round(d),this.ja.height=Math.round(n)),this.ja&&(this.ja.webkitImageSmoothingEnabled=this.X,this.ja.mozImageSmoothingEnabled=this.X,this.ja.msImageSmoothingEnabled=this.X,this.ja.imageSmoothingEnabled=this.X),this.Rp(),this.ra||!c&&!this.Wk||
window.setTimeout(function(){window.scrollTo(0,1)},100)}};e.prototype.Rp=function(){if(this.kr&&0!==this.Cl){var d="portrait";2===this.Cl&&(d="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(d):screen.lockOrientation?screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};e.prototype.Lt=function(){this.n.yr();this.Vk=!0;var d,
n,k;d=0;for(n=this.q.length;d<n;d++)k=this.q[d],k.kh&&k.kh()};e.prototype.Mt=function(){this.Vk=!1;var d,n,k;d=0;for(n=this.q.length;d<n;d++)k=this.q[d],k.Zi&&k.Zi()};e.prototype.gp=function(){if(!this.ra){var d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Qg)&&!this.Ac?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.lb).css(d)}};var u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;e.prototype.setSuspended=function(d){var n;if(d&&!this.Rg)for(P("[Construct 2] Suspending"),this.Rg=!0,-1!==this.Kl&&u&&u(this.Kl),-1!==this.fm&&clearTimeout(this.fm),d=0,n=this.Bh.length;d<n;d++)this.Bh[d](!0);else if(!d&&this.Rg){P("[Construct 2] Resuming");this.Rg=!1;this.Ji=Xa();this.bf=Xa();d=this.gh=this.ni=0;for(n=this.Bh.length;d<n;d++)this.Bh[d](!1);this.fb(!1)}};e.prototype.Rm=function(d){this.Bh.push(d)};
e.prototype.Xd=function(d){return this.Wi[d]};e.prototype.Qi=function(d){d&&d.project||da("Project model unavailable");d=d.project;this.name=d[0];this.wn=d[1];this.Hb=d[12];this.xn=d[12];this.Wa=d[10];this.Va=d[11];this.cp=this.Wa/2;this.dp=this.Va/2;this.ra&&!this.Sc&&(4<=d[12]||0===d[12])&&(P("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.xn=this.Hb=3);this.pm=d[18];this.$g=d[19];0===this.$g&&(this.Pf=new Image,this.Pf.src=
"loading-logo.png");this.jh=d[21];this.Wi=kc();this.sd=new X(this);var n,k,a,f,b,p,c,l,e;n=0;for(k=d[2].length;n<k;n++)c=d[2][n],a=this.Xd(c[0]),mb(c,a.prototype),e=new a(this),e.oj=c[1],e.me=c[2],e.Io=c[9],e.P&&e.P(),this.plugins.push(e);this.Wi=kc();n=0;for(k=d[3].length;n<k;n++){c=d[3][n];b=this.Xd(c[1]);e=null;a=0;for(f=this.plugins.length;a<f;a++)if(this.plugins[a]instanceof b){e=this.plugins[a];break}var q=new e.pa(e);q.name=c[0];q.A=c[2];q.Ok=c[3].slice(0);q.Qu=c[3].length;q.lr=c[4];q.Gs=c[5];
q.T=c[11];q.A?(q.Tf=[],q.Hd=this.Dg++,q.xa=null):(q.Tf=null,q.Hd=-1,q.xa=[]);q.ji=null;q.Bf=null;q.sn=null;q.lc=!1;q.Qb=null;c[6]?(q.cm=c[6][0],q.dm=c[6][1],q.em=c[6][2]):(q.cm=null,q.dm=0,q.em=0);q.Ob=c[7]?c[7]:null;q.index=n;q.d=[];q.di=[];q.Be=[new nb(q)];q.Ed=0;q.wc=null;q.Gr=0;q.fg=!0;q.Cj=ob;q.Ks=pb;q.Ps=qb;q.aa=rb;q.sh=sb;q.gj=ub;q.lf=vb;q.qi=wb;q.uk=xb;q.yk=yb;q.Mc=zb;q.En=Ab;q.Vh=new eb(this.Wa,this.Va);q.Kh=!0;q.Lh=!1;q.B={};q.toString=Bb;q.Ma=[];a=0;for(f=c[8].length;a<f;a++){l=c[8][a];
var r=this.Xd(l[1]),h=null;b=0;for(p=this.Ma.length;b<p;b++)if(this.Ma[b]instanceof r){h=this.Ma[b];break}h||(h=new r(this),h.rl=[],h.ql=new ba,h.P&&h.P(),this.Ma.push(h),lc&&h instanceof lc&&(this.Dp=h),cc.Du&&h instanceof cc.Du&&(this.Xl=h));-1===h.rl.indexOf(q)&&h.rl.push(q);b=new h.pa(h,q);b.name=l[0];b.T=l[2];b.P();q.Ma.push(b)}q.global=c[9];q.Sk=c[10];q.G=[];a=0;for(f=c[12].length;a<f;a++)q.G.push({id:c[12][a][0],name:c[12][a][1],nb:-1,cc:!0,index:a});q.kw=c[13];this.pm&&!q.A&&!q.Sk&&e.me||
q.P();q.name&&(this.types[q.name]=q);this.q.push(q);e.oj&&(a=new e.ca(q),a.uid=this.jh++,a.jp=this.Ko++,a.Ue=0,a.Hg=Cb,a.toString=Db,a.K=c[14],a.P(),q.d.push(a),this.Nd[a.uid.toString()]=a)}n=0;for(k=d[4].length;n<k;n++)for(b=d[4][n],p=this.q[b[0]],a=1,f=b.length;a<f;a++)c=this.q[b[a]],c.xa.push(p),p.Tf.push(c);n=0;for(k=d[27].length;n<k;n++){b=d[27][n];p=[];a=0;for(f=b.length;a<f;a++)p.push(this.q[b[a]]);a=0;for(f=p.length;a<f;a++)p[a].lc=!0,p[a].Qb=p}if(0<this.Dg)for(n=0,k=this.q.length;n<k;n++)if(c=
this.q[n],!c.A&&c.xa.length){c.ji=Array(this.Dg);c.Bf=Array(this.Dg);c.sn=Array(this.Dg);q=[];a=h=r=l=0;for(f=c.xa.length;a<f;a++)for(e=c.xa[a],c.ji[e.Hd]=l,l+=e.Qu,c.Bf[e.Hd]=r,r+=e.lr,c.sn[e.Hd]=h,h+=e.Gs,b=0,p=e.G.length;b<p;b++)q.push(Ca({},e.G[b]));c.G=q.concat(c.G);a=0;for(f=c.G.length;a<f;a++)c.G[a].index=a}n=0;for(k=d[5].length;n<k;n++)c=d[5][n],a=new Eb(this,c),this.bl[a.name]=a,this.Wc.push(a);n=0;for(k=d[6].length;n<k;n++)c=d[6][n],a=new Fb(this,c),this.kk[a.name]=a,this.Gd.push(a);n=0;
for(k=this.Gd.length;n<k;n++)this.Gd[n].La();n=0;for(k=this.Gd.length;n<k;n++)this.Gd[n].lm();n=0;for(k=this.Bj.length;n<k;n++)this.Bj[n].La();this.Bj.length=0;this.jr=d[7];this.ok=d[8];this.nd=d[9];this.sg=1;this.Yr=d[13];this.X=d[14];this.Nj=d[15];this.Ou=d[17];this.Cl=d[20];this.kr=0<this.Cl;this.Vt=d[22];this.yc=this.cq=d[23];this.Tr=d[24];this.au=d[25];this.qj=Date.now();this.Wi.length=0;this.qt()};var t=!1;e.prototype.tm=function(d,a){d.cocoonLazyLoad=!0;d.onerror=function(k){t=d.Ym=!0;console&&
console.error&&console.error("Error loading image '"+d.src+"': ",k)};this.Sc?d.src=a:d.src||("undefined"!==typeof XAPKReader?XAPKReader.get(a,function(k){d.src=k},function(k){t=d.Ym=!0;console&&console.error&&console.error("Error extracting image '"+a+"' from expansion file: ",k)}):d.src=a);this.ng.push(d)};e.prototype.Ds=function(d){var a,k;a=0;for(k=this.ng.length;a<k;a++)if(this.ng[a].Ar===d)return this.ng[a];return null};var f=0,l=!1;e.prototype.jt=function(){this.yf&&(f=this.yf.zu(this.jr))};
e.prototype.Vm=function(){var d=f,a=0,k=0,b=!0,p,c,k=0;for(p=this.ng.length;k<p;k++){c=this.ng[k];var q=c.ck;if(!q||0>=q)q=5E4;d+=q;c.src&&(c.complete||c.loaded)&&!c.Ym?a+=q:b=!1}b&&this.au&&this.yf&&(l||(this.yf.Gu(),l=!0),k=this.yf.Rs(),a+=k,k<f&&(b=!1));this.mf=0==d?0:a/d;return b};e.prototype.go=function(){if(this.ja||this.n){var d=this.ja||this.El;this.lb&&this.gp();this.mf=0;this.jo=-1;if(this.Vm())this.kt();else{var a=Date.now()-this.qj;if(d){var k=this.width,f=this.height,b=this.devicePixelRatio;
this.lb&&(k=this.$h,f=this.Zh,b=1);if(3!==this.$g&&(this.zc||500<=a&&this.jo!=this.mf)){d.clearRect(0,0,k,f);var a=k/2,f=f/2,k=0===this.$g&&this.Pf.complete,p=40*b,c=0,q=80*b,l;k&&(q=this.Pf.width*b,l=this.Pf.height*b,p=q/2,c=l/2,d.drawImage(this.Pf,T(a-p),T(f-c),q,l));1>=this.$g?(a=T(a-p)+.5,f=T(f+(c+(k?12*b:0)))+.5,d.fillStyle=t?"red":"DodgerBlue",d.fillRect(a,f,Math.floor(q*this.mf),6*b),d.strokeStyle="black",d.strokeRect(a,f,q,6*b),d.strokeStyle="white",d.strokeRect(a-1*b,f-1*b,q+2*b,8*b)):2===
this.$g&&(d.font=this.Sc?"12pt ArialMT":"12pt Arial",d.fillStyle=t?"#f00":"#999",d.jw="middle",b=Math.round(100*this.mf)+"%",k=d.measureText?d.measureText(b):null,d.fillText(b,a-(k?k.width:0)/2,f))}this.jo=this.mf}setTimeout(function(d){return function(){d.go()}}(this),this.zc?10:100)}}};e.prototype.kt=function(){this.lb&&(this.canvas.parentNode.removeChild(this.lb),this.lb=this.El=null);this.qj=Date.now();this.bf=Xa();var d,a,k;if(this.pm)for(d=0,a=this.q.length;d<a;d++)k=this.q[d],k.A||k.Sk||!k.ka.me||
k.P();else this.Ug=!1;d=0;for(a=this.Wc.length;d<a;d++)this.Wc[d].Cr();2<=this.Hb&&(d=this.Wa/this.Va,a=this.width/this.height,this.sg=2!==this.Hb&&a>d||2===this.Hb&&a<d?this.height/this.Va:this.width/this.Wa);this.wn?this.bl[this.wn].Zl():this.Wc[0].Zl();this.pm||(this.Qf=1,this.trigger(X.prototype.i.zm,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();d=0;for(a=this.q.length;d<a;d++)k=this.q[d],k.Kt&&k.Kt();document.hidden||document.webkitHidden||document.mozHidden||
document.msHidden?window.cr_setSuspended(!0):this.fb(!1);this.kb&&AppMobi.webview.execute("onGameReady();")};var w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.fb=function(d,a,k){if(this.qa){var b=Xa();if(k||!this.Rg||d){d||(w?this.Kl=w(this.Mp):this.fm=setTimeout(this.Mp,this.Uc?1:16));a=a||b;var f=this.Hb;((k=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
!!document.msFullscreenElement)&&!this.Ac)||this.Qg)&&0<this.Qe&&(f=this.Qe);0<f&&(!this.Fi||window.self!==window.top)&&(f=window.innerHeight,this.Xg===window.innerWidth&&this.Wg===f||this.setSize(h(),g()));this.ra||(k?(this.li||(this.sk=jQuery(this.canvas).css("margin")||"0",this.li=!0),this.Og||this.ke||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):
this.li?(this.Og||this.ke||jQuery(this.canvas).css("margin",this.sk),this.sk="",this.li=!1,0===this.Hb&&this.setSize(Math.round(this.Qo/this.devicePixelRatio),Math.round(this.Po/this.devicePixelRatio),!0)):(this.Qo=this.width,this.Po=this.height));this.Ug&&(k=this.Vm(),this.Qf=this.mf,k&&(this.Ug=!1,this.mf=1,this.trigger(X.prototype.i.zm,null)));this.Ft(a);!this.la&&!this.zc||this.Vk||this.Ah||d||(this.la=!1,this.n?this.fc():this.Rc(),this.pj&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.pj[0],
this.pj[1]),this.trigger(X.prototype.i.vq,null)),this.pj=null));this.dw||(this.td++,this.Cg++,this.ni++);this.gh+=Xa()-b}}};e.prototype.Ft=function(d){var a,k,b,f,p,c,q,l;1E3<=d-this.bf&&(this.bf+=1E3,1E3<=d-this.bf&&(this.bf=d),this.rk=this.ni,this.ni=0,this.bk=this.gh,this.gh=0);0!==this.Ji&&(a=d-this.Ji,0>a&&(a=0),this.ee=a/1E3,.5<this.ee?this.ee=0:.1<this.ee&&(this.ee=.1));this.Ji=d;this.Ne=this.ee*this.hg;this.mc.add(this.Ne);this.wd.add(this.ee);d=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement||this.Qg)&&!this.Ac;2<=this.Hb||d&&0<this.Qe?(a=this.Wa/this.Va,k=this.width/this.height,b=this.Hb,d&&0<this.Qe&&(b=this.Qe),this.sg=2!==b&&k>a||2===b&&k<a?this.height/this.Va:this.width/this.Wa,this.qa&&(this.qa.qp(this.qa.scrollX),this.qa.rp(this.qa.scrollY))):this.sg=this.Xe?this.devicePixelRatio:1;this.ob();this.Tc++;this.sd.pu();this.Tc--;this.ob();this.Tc++;k=this.Oo.Vd();d=0;for(a=k.length;d<a;d++)k[d].gw();d=0;for(a=this.q.length;d<a;d++)if(c=
this.q[d],!c.A&&(c.Ma.length||c.xa.length))for(k=0,b=c.d.length;k<b;k++)for(q=c.d[k],f=0,p=q.L.length;f<p;f++)q.L[f].fb();d=0;for(a=this.q.length;d<a;d++)if(c=this.q[d],!c.A&&(c.Ma.length||c.xa.length))for(k=0,b=c.d.length;k<b;k++)for(q=c.d[k],f=0,p=q.L.length;f<p;f++)l=q.L[f],l.$t&&l.$t();k=this.tl.Vd();d=0;for(a=k.length;d<a;d++)k[d].fb();this.Tc--;this.lt();for(d=0;this.vg&&10>d++;)this.qn(this.vg);d=0;for(a=this.Gd.length;d<a;d++)this.Gd[d].Hk=!1;this.qa.Oe&&this.qa.Oe.Qa();this.jj.length=0;this.Tc++;
d=0;for(a=this.q.length;d<a;d++)if(c=this.q[d],!c.A&&(c.Ma.length||c.xa.length))for(k=0,b=c.d.length;k<b;k++)for(q=c.d[k],f=0,p=q.L.length;f<p;f++)l=q.L[f],l.wj&&l.wj();k=this.ul.Vd();d=0;for(a=k.length;d<a;d++)k[d].wj();this.Tc--};e.prototype.qn=function(d){var a=this.qa;this.qa.Hu();var k,f,b,p,c,q,l;if(this.n)for(k=0,f=this.q.length;k<f;k++)c=this.q[k],c.A||!c.km||c.global&&0!==c.d.length||-1!==d.Mg.indexOf(c)||c.km();a==d&&(this.sd.Zb.length=0);d.Zl();k=0;for(f=this.q.length;k<f;k++)if(c=this.q[k],
c.global||c.ka.oj)for(d=0,a=c.d.length;d<a;d++)if(q=c.d[d],q.xl&&q.xl(),q.L)for(b=0,p=q.L.length;b<p;b++)l=q.L[b],l.xl&&l.xl();this.la=!0;this.ob()};e.prototype.Eh=function(d){this.tl.add(d)};e.prototype.Lp=function(d){this.ul.add(d)};e.prototype.wk=function(d){return d&&-1!==d.ih?this.ee*d.ih:this.Ne};e.prototype.Rc=function(){this.qa.Rc(this.ja);this.kb&&this.ja.present()};e.prototype.fc=function(){this.qa.fc(this.n);this.n.cu()};e.prototype.Pm=function(d){d&&this.hk.push(d)};e.prototype.si=function(d){d=
d.toString();return this.Nd.hasOwnProperty(d)?this.Nd[d]:null};var r=[];e.prototype.Fe=function(d){var a,k;a=d.type.name;var f=null;if(this.Le.hasOwnProperty(a)){if(f=this.Le[a],f.contains(d))return}else f=r.length?r.pop():new ba,this.Le[a]=f;f.add(d);this.he=!0;if(d.lc)for(a=0,k=d.siblings.length;a<k;a++)this.Fe(d.siblings[a]);this.Rk&&f.lg.push(d);this.Tc++;this.trigger(Object.getPrototypeOf(d.type.ka).i.xq,d);this.Tc--};e.prototype.ob=function(){if(this.he){var d,a,k,f,b,p;this.Rk=!0;k=0;for(b=
this.Qc.length;k<b;++k)for(d=this.Qc[k],a=d.type,a.d.push(d),f=0,p=a.xa.length;f<p;++f)a.xa[f].d.push(d),a.xa[f].fg=!0;this.Qc.length=0;this.pq();Wa(this.Le);this.he=this.Rk=!1}};e.prototype.pq=function(){for(var d in this.Le)this.Le.hasOwnProperty(d)&&this.hq(this.Le[d])};e.prototype.hq=function(d){var a=d.Vd(),k=a[0].type,f,b,p,c,q,l;Za(k.d,d);k.fg=!0;0===k.d.length&&(k.Lh=!1);f=0;for(b=k.xa.length;f<b;++f)l=k.xa[f],Za(l.d,d),l.fg=!0;f=0;for(b=this.sd.Zb.length;f<b;++f)if(q=this.sd.Zb[f],q.Xb.hasOwnProperty(k.index)&&
Za(q.Xb[k.index].We,d),!k.A)for(p=0,c=k.xa.length;p<c;++p)l=k.xa[p],q.Xb.hasOwnProperty(l.index)&&Za(q.Xb[l.index].We,d);if(q=a[0].j){if(q.bd)for(p=q.d,f=0,b=p.length;f<b;++f)c=p[f],d.contains(c)&&(c.na(),q.Wb.update(c,c.Mb,null),c.Mb.set(0,0,-1,-1));Za(q.d,d);q.wh(0)}for(f=0;f<a.length;++f)this.gq(a[f],k);d.clear();r.push(d);this.la=!0};e.prototype.gq=function(d,a){var k,f,b;k=0;for(f=this.hk.length;k<f;++k)this.hk[k](d);d.be&&a.Vh.update(d,d.be,null);(k=d.j)&&k.$f(d,!0);if(d.L)for(k=0,f=d.L.length;k<
f;++k)b=d.L[k],b.Xf&&b.Xf(),b.behavior.ql.remove(d);this.Oo.remove(d);this.tl.remove(d);this.ul.remove(d);d.Xf&&d.Xf();this.Nd.hasOwnProperty(d.uid.toString())&&delete this.Nd[d.uid.toString()];this.Xi--;100>a.di.length&&a.di.push(d)};e.prototype.jn=function(d,a,k,f){if(d.A){var b=T(Math.random()*d.Tf.length);return this.jn(d.Tf[b],a,k,f)}return d.wc?this.de(d.wc,a,!1,k,f,!1):null};var v=[];e.prototype.de=function(d,a,k,f,b,p){var c,q,l,e;if(!d)return null;var r=this.q[d[1]],h=r.ka.me;if(this.Ug&&
h&&!r.Sk||h&&!this.n&&11===d[0][11])return null;var w=a;h||(a=null);var g;r.di.length?(g=r.di.pop(),g.Hc=!0,r.ka.ca.call(g,r)):(g=new r.ka.ca(r),g.Hc=!1);g.uid=!k||p||this.Nd.hasOwnProperty(d[2].toString())?this.jh++:d[2];this.Nd[g.uid.toString()]=g;g.jp=this.Ko++;g.Ue=r.d.length;c=0;for(q=this.Qc.length;c<q;++c)this.Qc[c].type===r&&g.Ue++;g.Hg=Cb;g.toString=Db;l=d[3];if(g.Hc)Wa(g.B);else{g.B={};if("undefined"!==typeof cr_is_preview)for(g.Sn=[],g.Sn.length=l.length,c=0,q=l.length;c<q;c++)g.Sn[c]=
l[c][1];g.Ta=[];g.Ta.length=l.length}c=0;for(q=l.length;c<q;c++)g.Ta[c]=l[c][0];if(h){var m=d[0];g.x=ea(f)?m[0]:f;g.y=ea(b)?m[1]:b;g.z=m[2];g.width=m[3];g.height=m[4];g.depth=m[5];g.k=m[6];g.opacity=m[7];g.Ib=m[8];g.Jb=m[9];g.Gb=m[10];c=m[11];!this.n&&r.G.length&&(g.Gb=c);g.wg=gb(g.Gb);this.p&&hb(g,g.Gb,this.p);if(g.Hc){c=0;for(q=m[12].length;c<q;c++)for(l=0,e=m[12][c].length;l<e;l++)g.Da[c][l]=m[12][c][l];g.wa.set(0,0,0,0);g.be.set(0,0,-1,-1);g.Mb.set(0,0,-1,-1);g.gb.nf(g.wa);g.Rj.length=0}else{g.Da=
m[12].slice(0);c=0;for(q=g.Da.length;c<q;c++)g.Da[c]=m[12][c].slice(0);g.Z=[];g.Yd=[];g.Yd.length=r.G.length;g.wa=new ua(0,0,0,0);g.be=new ua(0,0,-1,-1);g.Mb=new ua(0,0,-1,-1);g.gb=new va;g.Rj=[];g.V=Gb;g.Xv=Hb;g.zb=Ib;g.na=Jb;g.Nu=Kb;g.$p=Lb;g.hd=Mb}g.rf=!1;g.Ku=0;g.Ju=0;g.Iu=null;14===m.length&&(g.rf=!0,g.Ku=m[13][0],g.Ju=m[13][1],g.Iu=m[13][2]);c=0;for(q=r.G.length;c<q;c++)g.Yd[c]=!0;g.Ud=Nb;g.Ud();g.aq=!!g.Z.length;g.Qj=!0;g.Wj=!0;r.Kh=!0;g.visible=!0;g.ih=-1;g.j=a;g.cd=a.d.length;"undefined"===
typeof g.H&&(g.H=null);this.la=g.Ad=!0}var y;c=v.length=0;for(q=r.xa.length;c<q;c++)v.push.apply(v,r.xa[c].Ma);v.push.apply(v,r.Ma);if(g.Hc)for(c=0,q=v.length;c<q;c++){var u=v[c];y=g.L[c];y.Hc=!0;u.behavior.ca.call(y,u,g);m=d[4][c];l=0;for(e=m.length;l<e;l++)y.K[l]=m[l];y.P();u.behavior.ql.add(g)}else for(g.L=[],c=0,q=v.length;c<q;c++)u=v[c],y=new u.behavior.ca(u,g),y.Hc=!1,y.K=d[4][c].slice(0),y.P(),g.L.push(y),u.behavior.ql.add(g);m=d[5];if(g.Hc)for(c=0,q=m.length;c<q;c++)g.K[c]=m[c];else g.K=m.slice(0);
this.Qc.push(g);this.he=!0;a&&(a.rg(g,!0),1!==a.Kb||1!==a.Lb)&&(r.Lh=!0);this.Xi++;if(r.lc){if(g.lc=!0,g.Hc?g.siblings.length=0:g.siblings=[],!k&&!p){c=0;for(q=r.Qb.length;c<q;c++)if(r.Qb[c]!==r){if(!r.Qb[c].wc)return null;g.siblings.push(this.de(r.Qb[c].wc,w,!1,h?g.x:f,h?g.y:b,!0))}c=0;for(q=g.siblings.length;c<q;c++)for(g.siblings[c].siblings.push(g),l=0;l<q;l++)c!==l&&g.siblings[c].siblings.push(g.siblings[l])}}else g.lc=!1,g.siblings=null;g.P();c=0;for(q=g.L.length;c<q;c++)g.L[c].Zt&&g.L[c].Zt();
return g};e.prototype.Fg=function(d){var a,k;a=0;for(k=this.qa.O.length;a<k;a++){var f=this.qa.O[a];if(jb(f.name,d))return f}return null};e.prototype.Jd=function(d){d=T(d);0>d&&(d=0);d>=this.qa.O.length&&(d=this.qa.O.length-1);return this.qa.O[d]};e.prototype.$j=function(d){var a,k;a=0;for(k=d.length;a<k;a++)d[a].aa().ma=!0};e.prototype.sh=function(d){var a,k;a=0;for(k=d.length;a<k;a++)d[a].sh()};e.prototype.gj=function(d){var a,k;a=0;for(k=d.length;a<k;a++)d[a].gj()};e.prototype.lf=function(d){var a,
k;a=0;for(k=d.length;a<k;a++)d[a].lf()};e.prototype.Xp=function(d){if(d.Kh){var a,k,f=d.d;a=0;for(k=f.length;a<k;++a)f[a].$p();f=this.Qc;a=0;for(k=f.length;a<k;++a)f[a].type===d&&f[a].$p();d.Kh=!1}};e.prototype.An=function(d,a,k,f){var b,c,p=d?1!==d.Kb||1!==d.Lb:!1;if(a.A)for(d=0,b=a.Tf.length;d<b;++d)c=a.Tf[d],p||c.Lh?Fa(f,c.d):(this.Xp(c),c.Vh.ij(k,f));else p||a.Lh?Fa(f,a.d):(this.Xp(a),a.Vh.ij(k,f))};e.prototype.Kn=function(d,a,k,f){var b,c;b=0;for(c=a.length;b<c;++b)this.An(d,a[b],k,f)};e.prototype.Vs=
function(d,a,k){var f=this.Dp;f&&this.Kn(d,f.rl,a,k)};e.prototype.Ch=function(d,a,k){var f=d.aa(),b,c,p,q,l,e;if(f.ma)for(f.ma=!1,b=f.d.length=0,q=d.d.length;b<q;b++)p=d.d[b],p.na(),l=p.j.hb(a,k,!0),e=p.j.hb(a,k,!1),p.zb(l,e)&&f.d.push(p);else{b=c=0;for(q=f.d.length;b<q;b++)p=f.d[b],p.na(),l=p.j.hb(a,k,!0),e=p.j.hb(a,k,!1),p.zb(l,e)&&(f.d[c]=f.d[b],c++);f.d.length=c}d.Mc();return f.Gk()};e.prototype.pf=function(d,a){if(!(d&&a&&d!==a&&d.Ad&&a.Ad))return!1;d.na();a.na();var k=d.j,f=a.j,b,c,p,q,l,e,
r,g;if(k===f||k.Kb===f.Kb&&f.Lb===f.Lb&&k.scale===f.scale&&k.k===f.k&&k.yb===f.yb){if(!d.wa.tt(a.wa)||!d.gb.Tn(a.gb)||d.rf&&a.rf)return!1;if(d.rf)return this.Hp(d,a);if(a.rf)return this.Hp(a,d);r=d.H&&!d.H.le();b=a.H&&!a.H.le();if(!r&&!b)return!0;r?(d.H.$d(d.width,d.height,d.k),r=d.H):(this.$c.ze(d.gb,d.x,d.y,d.width,d.height),r=this.$c);b?(a.H.$d(a.width,a.height,a.k),g=a.H):(this.$c.ze(a.gb,a.x,a.y,a.width,a.height),g=this.$c);return r.Ng(g,a.x-d.x,a.y-d.y)}r=d.H&&!d.H.le();b=a.H&&!a.H.le();r?(d.H.$d(d.width,
d.height,d.k),this.$c.vp(d.H)):this.$c.ze(d.gb,d.x,d.y,d.width,d.height);r=this.$c;b?(a.H.$d(a.width,a.height,a.k),this.am.vp(a.H)):this.am.ze(a.gb,a.x,a.y,a.width,a.height);g=this.am;b=0;for(c=r.Fc;b<c;b++)p=2*b,q=p+1,l=r.Pa[p],e=r.Pa[q],r.Pa[p]=k.ya(l+d.x,e+d.y,!0),r.Pa[q]=k.ya(l+d.x,e+d.y,!1);r.na();b=0;for(c=g.Fc;b<c;b++)p=2*b,q=p+1,l=g.Pa[p],e=g.Pa[q],g.Pa[p]=f.ya(l+a.x,e+a.y,!0),g.Pa[q]=f.ya(l+a.x,e+a.y,!1);g.na();return r.Ng(g,0,0)};var y=new va;new ua(0,0,0,0);var B=[];e.prototype.Hp=function(d,
a){var k,f,b,c,p=a.wa,q=d.x,l=d.y;d.Bn(p,B);var e=a.H&&!a.H.le();k=0;for(f=B.length;k<f;++k)if(b=B[k],c=b.lp,p.ut(c,q,l)&&(y.nf(c),y.offset(q,l),y.Tn(a.gb)))if(e)if(a.H.$d(a.width,a.height,a.k),b.kf){if(b.kf.Ng(a.H,a.x-(q+c.left),a.y-(l+c.top)))return B.length=0,!0}else{if(this.$c.ze(y,0,0,c.right-c.left,c.bottom-c.top),this.$c.Ng(a.H,a.x,a.y))return B.length=0,!0}else if(b.kf){if(this.$c.ze(a.gb,0,0,a.width,a.height),b.kf.Ng(this.$c,-(q+c.left),-(l+c.top)))return B.length=0,!0}else return B.length=
0,!0;B.length=0;return!1};e.prototype.Sp=function(d,a){if(!a)return!1;var k,f,b,c,p;k=0;for(f=d.Ma.length;k<f;k++)if(d.Ma[k].behavior instanceof a)return!0;if(!d.A)for(k=0,f=d.xa.length;k<f;k++)for(p=d.xa[k],b=0,c=p.Ma.length;b<c;b++)if(p.Ma[b].behavior instanceof a)return!0;return!1};e.prototype.Tp=function(d){return this.Sp(d,cc.tv)};e.prototype.jm=function(d){return this.Sp(d,cc.uv)};var p=[];e.prototype.qf=function(d){var a,k,f;d.na();this.Vs(d.j,d.wa,p);a=0;for(k=p.length;a<k;++a)if(f=p[a],f.B.solidEnabled&&
this.pf(d,f))return p.length=0,f;p.length=0;return null};e.prototype.gu=function(d,a,k,f){f=f||50;var b=d.x,c=d.y,p,q=null,l=null;for(p=0;p<f;p++)if(d.x=b+a*p,d.y=c+k*p,d.V(),!this.pf(d,q)&&((q=this.qf(d))&&(l=q),!q&&!q))return l&&this.eu(d,a,k,l),!0;d.x=b;d.y=c;d.V();return!1};e.prototype.eu=function(d,a,k,f){var b=2,c,p=!1;c=!1;for(var q=d.x,l=d.y;16>=b;)c=1/b,b*=2,d.x+=a*c*(p?1:-1),d.y+=k*c*(p?1:-1),d.V(),this.pf(d,f)?c=p=!0:(c=p=!1,q=d.x,l=d.y);c&&(d.x=q,d.y=l,d.V())};e.prototype.hu=function(d){var a=
0,k=d.x,f=d.y,b=0,c=0,p=0,q=this.qf(d);if(q){for(;100>=a;){switch(b){case 0:c=0;p=-1;a++;break;case 1:c=1;p=-1;break;case 2:c=1;p=0;break;case 3:p=c=1;break;case 4:c=0;p=1;break;case 5:c=-1;p=1;break;case 6:c=-1;p=0;break;case 7:p=c=-1}b=(b+1)%8;d.x=T(k+c*a);d.y=T(f+p*a);d.V();if(!this.pf(d,q)&&(q=this.qf(d),!q))return}d.x=k;d.y=f;d.V()}};e.prototype.ju=function(d,a){d.Ad&&a.Ad&&this.jj.push([d,a])};e.prototype.ur=function(d,a){var k,f,b;k=0;for(f=this.jj.length;k<f;k++)if(b=this.jj[k],b[0]==d&&b[1]==
a||b[0]==a&&b[1]==d)return!0;return!1};e.prototype.sr=function(d,a,k){var f=d.x,b=d.y,c=ka(10,W(a,k,f,b)),p=V(a,k,f,b),q=this.qf(d);if(!q)return La(p+na);var l=q,e,r,g,h,v=U(5);for(e=1;36>e;e++)if(r=p-e*v,d.x=a+Math.cos(r)*c,d.y=k+Math.sin(r)*c,d.V(),!this.pf(d,l)&&(l=this.qf(d),!l)){g=r;break}36===e&&(g=La(p+na));l=q;for(e=1;36>e;e++)if(r=p+e*v,d.x=a+Math.cos(r)*c,d.y=k+Math.sin(r)*c,d.V(),!this.pf(d,l)&&(l=this.qf(d),!l)){h=r;break}36===e&&(h=La(p+na));d.x=f;d.y=b;d.V();if(h===g)return h;d=Oa(h,
g)/2;d=Qa(h,g)?La(g+d+na):La(h+d);g=Math.cos(p);p=Math.sin(p);h=Math.cos(d);d=Math.sin(d);a=g*h+p*d;return V(0,0,g-2*a*h,p-2*a*d)};var q=-1;e.prototype.trigger=function(d,a,k){if(!this.qa)return!1;var f=this.qa.Oe;if(!f)return!1;var b=!1,c,p,l;q++;var e=f.gk;p=0;for(l=e.length;p<l;++p)c=this.Pp(d,a,e[p],k),b=b||c;c=this.Pp(d,a,f,k);q--;return b||c};e.prototype.Pp=function(d,a,k,f){var b=!1,c,p,q,l;if(a)for(q=this.hm(d,a,a.type.name,k,f),b=b||q,l=a.type.xa,c=0,p=l.length;c<p;++c)q=this.hm(d,a,l[c].name,
k,f),b=b||q;else q=this.hm(d,a,"system",k,f),b=b||q;return b};e.prototype.hm=function(d,a,k,f,b){var c,p=!1,q=!1,q="undefined"!==typeof b,l=(q?f.un:f.Qp)[k];if(!l)return p;var e=null;f=0;for(c=l.length;f<c;++f)if(l[f].method==d){e=l[f].Bg;break}if(!e)return p;d=q?e[b]:e;if(!d)return null;f=0;for(c=d.length;f<c;f++)b=d[f][0],q=d[f][1],q=this.Bs(a,k,b,q),p=p||q;return p};e.prototype.Bs=function(d,a,k,f){var b,c,p=!1;this.im++;var l=this.Bb().vc;l&&this.sh(l.Ae);var e=1<this.im;this.sh(k.Ae);e&&this.fu();
var r=this.hj(k);r.vc=k;d&&(b=this.types[a].aa(),b.ma=!1,b.d.length=1,b.d[0]=d,this.types[a].Mc());d=!0;if(k.parent){a=r.Gp;for(b=k.parent;b;)a.push(b),b=b.parent;a.reverse();b=0;for(c=a.length;b<c;b++)if(!a[b].ru()){d=!1;break}}d&&(this.Cg++,k.Xc?k.qu(f):k.Qa(),p=p||r.$e);this.cj();e&&this.Yt();this.lf(k.Ae);l&&this.lf(l.Ae);this.he&&0===this.Tc&&0===q&&!this.Tk&&this.ob();this.im--;return p};e.prototype.vk=function(){var d=this.Bb();return d.vc.Za[d.Ra]};e.prototype.fu=function(){this.Ui++;this.Ui>=
this.kl.length&&this.kl.push([])};e.prototype.Yt=function(){this.Ui--};e.prototype.Cn=function(){return this.kl[this.Ui]};e.prototype.hj=function(d){this.ii++;this.ii>=this.jk.length&&this.jk.push(new Ob);var a=this.Bb();a.reset(d);return a};e.prototype.cj=function(){this.ii--};e.prototype.Bb=function(){return this.jk[this.ii]};e.prototype.Dn=function(d,a){for(var k,f,b,c,p,q;a;){k=0;for(f=a.Ic.length;k<f;k++)if(q=a.Ic[k],q instanceof Pb&&jb(d,q.name))return q;a=a.parent}k=0;for(f=this.Gd.length;k<
f;k++)for(p=this.Gd[k],b=0,c=p.fe.length;b<c;b++)if(q=p.fe[b],q instanceof Pb&&jb(d,q.name))return q;return null};e.prototype.Fn=function(d){var a,f;a=0;for(f=this.Wc.length;a<f;a++)if(this.Wc[a].T===d)return this.Wc[a];return null};e.prototype.ti=function(d){var a,f;a=0;for(f=this.q.length;a<f;a++)if(this.q[a].T===d)return this.q[a];return null};e.prototype.Ls=function(d){var a,f;a=0;for(f=this.xf.length;a<f;a++)if(this.xf[a].T===d)return this.xf[a];return null};e.prototype.lt=function(){var d=this,
a=this.Tl,f=this.Ld,p=this.Oi,q=!1;this.Bp&&(q=!0,a="__c2_continuouspreview",this.Bp=!1);if(a.length){this.ob();f=this.vu();if(window.indexedDB&&!this.zc)s(a,f,function(){P("Saved state to IndexedDB storage ("+f.length+" bytes)");d.Ld=f;d.trigger(X.prototype.i.Mj,null);d.Ld="";q&&b()},function(c){try{localStorage.setItem("__c2save_"+a,f),P("Saved state to WebStorage ("+f.length+" bytes)"),d.Ld=f,d.trigger(X.prototype.i.Mj,null),d.Ld="",q&&b()}catch(p){P("Failed to save game state: "+c+"; "+p)}});
else try{localStorage.setItem("__c2save_"+a,f),P("Saved state to WebStorage ("+f.length+" bytes)"),d.Ld=f,this.trigger(X.prototype.i.Mj,null),d.Ld="",q&&b()}catch(l){P("Error saving to WebStorage: "+l)}this.Eb=this.Oi=this.Tl=""}p.length&&(window.indexedDB&&!this.zc?c(p,function(a){a?(d.Eb=a,P("Loaded state from IndexedDB storage ("+d.Eb.length+" bytes)")):(d.Eb=localStorage.getItem("__c2save_"+p)||"",P("Loaded state from WebStorage ("+d.Eb.length+" bytes)"));d.Ah=!1;d.Eb.length||d.trigger(X.prototype.i.Lj,
null)},function(){d.Eb=localStorage.getItem("__c2save_"+p)||"";P("Loaded state from WebStorage ("+d.Eb.length+" bytes)");d.Ah=!1;d.Eb.length||d.trigger(X.prototype.i.Lj,null)}):(this.Eb=localStorage.getItem("__c2save_"+p)||"",P("Loaded state from WebStorage ("+this.Eb.length+" bytes)"),this.Ah=!1,d.Eb.length||d.trigger(X.prototype.i.Lj,null)),this.Tl=this.Oi="");this.Eb.length&&(this.ob(),this.Et(this.Eb),this.Ld=this.Eb,this.trigger(X.prototype.i.Kq,null),this.Eb=this.Ld="")};e.prototype.vu=function(){var d,
f,b,c,p,q,l,e={c2save:!0,version:1,rt:{time:this.mc.ga,walltime:this.wd.ga,timescale:this.hg,tickcount:this.td,execcount:this.Cg,next_uid:this.jh,running_layout:this.qa.T,start_time_offset:Date.now()-this.qj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(f=this.q.length;d<f;d++)if(p=this.q[d],!p.A&&!this.Tp(p)){q={instances:[]};Va(p.B)&&(q.ex=a(p.B));b=0;for(c=p.d.length;b<c;b++)q.instances.push(this.Sl(p.d[b]));e.types[p.T.toString()]=q}d=0;for(f=this.Wc.length;d<f;d++)b=
this.Wc[d],e.layouts[b.T.toString()]=b.Fb();c=e.events.groups;d=0;for(f=this.xf.length;d<f;d++)b=this.xf[d],c[b.T.toString()]=this.vi[b.Jg].Ig;f=e.events.cnds;for(l in this.zf)this.zf.hasOwnProperty(l)&&(d=this.zf[l],Va(d.B)&&(f[l]={ex:a(d.B)}));f=e.events.acts;for(l in this.wf)this.wf.hasOwnProperty(l)&&(d=this.wf[l],Va(d.B)&&(f[l]={ex:d.B}));f=e.events.vars;for(l in this.mg)this.mg.hasOwnProperty(l)&&(d=this.mg[l],d.Ci||d.parent&&!d.Tg||(f[l]=d.data));e.system=this.sd.Fb();return JSON.stringify(e)};
e.prototype.mp=function(){var d,a,f,b,c,p;this.Nd={};d=0;for(a=this.q.length;d<a;d++)if(f=this.q[d],!f.A)for(b=0,c=f.d.length;b<c;b++)p=f.d[b],this.Nd[p.uid.toString()]=p};e.prototype.Et=function(d){d=JSON.parse(d);if(d.c2save&&!(1<d.version)){var a=d.rt;this.mc.reset();this.mc.ga=a.time;this.wd.reset();this.wd.ga=a.walltime||0;this.hg=a.timescale;this.td=a.tickcount;this.Cg=a.execcount;this.qj=Date.now()-a.start_time_offset;var f=a.running_layout;if(f!==this.qa.T)if(f=this.Fn(f))this.qn(f);else return;
var b,c,p,q,l,e,r;e=d.types;for(c in e)if(e.hasOwnProperty(c)&&(q=this.ti(parseInt(c,10)))&&!q.A&&!this.Tp(q)){e[c].ex?q.B=e[c].ex:Wa(q.B);l=q.d;p=e[c].instances;f=0;for(b=ma(l.length,p.length);f<b;f++)this.Pi(l[f],p[f]);f=p.length;for(b=l.length;f<b;f++)this.Fe(l[f]);f=l.length;for(b=p.length;f<b;f++){l=null;if(q.ka.me&&(l=this.qa.ri(p[f].w.l),!l))continue;l=this.de(q.wc,l,!1,0,0,!0);this.Pi(l,p[f])}q.fg=!0}this.ob();this.mp();b=d.layouts;for(c in b)b.hasOwnProperty(c)&&(f=this.Fn(parseInt(c,10)))&&
f.Sb(b[c]);b=d.events.groups;for(c in b)b.hasOwnProperty(c)&&(f=this.Ls(parseInt(c,10)))&&this.vi[f.Jg]&&this.vi[f.Jg].xu(b[c]);f=d.events.cnds;for(c in f)f.hasOwnProperty(c)&&this.zf.hasOwnProperty(c)&&(this.zf[c].B=f[c].ex);f=d.events.acts;for(c in f)f.hasOwnProperty(c)&&this.wf.hasOwnProperty(c)&&(this.wf[c].B=f[c].ex);f=d.events.vars;for(c in f)f.hasOwnProperty(c)&&this.mg.hasOwnProperty(c)&&(this.mg[c].data=f[c]);this.jh=a.next_uid;this.sd.Sb(d.system);f=0;for(b=this.q.length;f<b;f++)if(q=this.q[f],
!q.A)for(c=0,d=q.d.length;c<d;c++){l=q.d[c];if(q.lc)for(e=l.Hg(),a=l.siblings.length=0,p=q.Qb.length;a<p;a++)r=q.Qb[a],q!==r&&l.siblings.push(r.d[e]);l.xd&&l.xd();if(l.L)for(a=0,p=l.L.length;a<p;a++)e=l.L[a],e.xd&&e.xd()}this.la=!0}};e.prototype.Sl=function(d,f){var b,c,p,q,l;q=d.type;p=q.ka;var e={};f?e.c2=!0:e.uid=d.uid;Va(d.B)&&(e.ex=a(d.B));if(d.Ta&&d.Ta.length)for(e.ivs={},b=0,c=d.Ta.length;b<c;b++)e.ivs[d.type.Ok[b].toString()]=d.Ta[b];if(p.me){p={x:d.x,y:d.y,w:d.width,h:d.height,l:d.j.T,zi:d.hd()};
0!==d.k&&(p.a=d.k);1!==d.opacity&&(p.o=d.opacity);.5!==d.Ib&&(p.hX=d.Ib);.5!==d.Jb&&(p.hY=d.Jb);0!==d.Gb&&(p.bm=d.Gb);d.visible||(p.v=d.visible);d.Ad||(p.ce=d.Ad);-1!==d.ih&&(p.mts=d.ih);if(q.G.length)for(p.fx=[],b=0,c=q.G.length;b<c;b++)l=q.G[b],p.fx.push({name:l.name,active:d.Yd[l.index],params:d.Da[l.index]});e.w=p}if(d.L&&d.L.length)for(e.behs={},b=0,c=d.L.length;b<c;b++)q=d.L[b],q.Fb&&(e.behs[q.type.T.toString()]=q.Fb());d.Fb&&(e.data=d.Fb());return e};e.prototype.Ns=function(d,a){var f,b;f=
0;for(b=d.Ok.length;f<b;f++)if(d.Ok[f]===a)return f;return-1};e.prototype.Js=function(d,a){var f,b;f=0;for(b=d.L.length;f<b;f++)if(d.L[f].type.T===a)return f;return-1};e.prototype.Pi=function(d,a,f){var b,c,p,q,l;l=d.type;p=l.ka;if(f){if(!a.c2)return}else d.uid=a.uid;a.ex?d.B=a.ex:Wa(d.B);if(c=a.ivs)for(b in c)c.hasOwnProperty(b)&&(f=this.Ns(l,parseInt(b,10)),0>f||f>=d.Ta.length||(d.Ta[f]=c[b]));if(p.me){p=a.w;d.j.T!==p.l&&(f=d.j,d.j=this.qa.ri(p.l),d.j?(f.$f(d,!0),d.j.rg(d,!0),d.V(),d.j.wh(0)):(d.j=
f,this.Fe(d)));d.x=p.x;d.y=p.y;d.width=p.w;d.height=p.h;d.cd=p.zi;d.k=p.hasOwnProperty("a")?p.a:0;d.opacity=p.hasOwnProperty("o")?p.o:1;d.Ib=p.hasOwnProperty("hX")?p.hX:.5;d.Jb=p.hasOwnProperty("hY")?p.hY:.5;d.visible=p.hasOwnProperty("v")?p.v:!0;d.Ad=p.hasOwnProperty("ce")?p.ce:!0;d.ih=p.hasOwnProperty("mts")?p.mts:-1;d.Gb=p.hasOwnProperty("bm")?p.bm:0;d.wg=gb(d.Gb);this.p&&hb(d,d.Gb,this.p);d.V();if(p.hasOwnProperty("fx"))for(f=0,c=p.fx.length;f<c;f++)q=l.yk(p.fx[f].name),0>q||(d.Yd[q]=p.fx[f].active,
d.Da[q]=p.fx[f].params);d.Ud()}if(l=a.behs)for(b in l)l.hasOwnProperty(b)&&(p=this.Js(d,parseInt(b,10)),0>p||d.L[p].Sb(l[b]));a.data&&d.Sb(a.data)};Qb=function(d){return new e(document.getElementById(d))};Rb=function(d,a){return new e({dc:!0,width:d,height:a})};window.cr_createRuntime=Qb;window.cr_createDCRuntime=Rb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var d=document.createElement("screencanvas")||document.createElement("canvas");d.iw=!0;document.body.appendChild(d);d=new e(d);
window.c2runtime=d;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return d};window.createEjectaRuntime=function(){var d=new e(document.getElementById("canvas"));window.c2runtime=d;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return d}})();
window.cr_getC2Runtime=function(){var h=document.getElementById("c2canvas");return h?h.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(h,g){if(0!==h&&0!==g){var e=window.cr_getC2Runtime();e&&e.setSize(h,g)}};window.cr_setSuspended=function(h){var g=window.cr_getC2Runtime();g&&g.setSuspended(h)};
(function(){function h(a,b){this.b=a;this.Oe=null;this.scrollX=this.b.Wa/2;this.scrollY=this.b.Va/2;this.scale=1;this.k=0;this.Cf=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Up=b[3];this.yp=b[4];this.T=b[5];var c=b[6],e,g;this.O=[];this.Mg=[];e=0;for(g=c.length;e<g;e++){var h=new Sb(this,c[e]);h.Mo=e;this.O.push(h)}c=b[7];this.Ve=[];e=0;for(g=c.length;e<g;e++){var h=c[e],m=this.b.q[h[1]];m.wc||(m.wc=h);this.Ve.push(h);-1===this.Mg.indexOf(m)&&this.Mg.push(m)}this.G=[];this.Z=[];this.Da=
[];e=0;for(g=b[8].length;e<g;e++)this.G.push({id:b[8][e][0],name:b[8][e][1],nb:-1,cc:!0,index:e}),this.Da.push(b[8][e][2].slice(0));this.Ud();this.ve=new ua(0,0,1,1);this.Ll=new ua(0,0,1,1);this.ue={}}function g(a,b){return a.cd-b.cd}function e(a,b){this.ab=a;this.b=a.b;this.d=[];this.scale=1;this.k=0;this.Me=!1;this.Sd=new ua(0,0,0,0);this.Np=new va;this.Aa=this.ua=this.Ba=this.ta=0;this.sf=!1;this.Wd=-1;this.name=b[0];this.index=b[1];this.T=b[2];this.visible=b[3];this.Pb=b[4];this.Td=b[5];this.Kb=
b[6];this.Lb=b[7];this.opacity=b[8];this.qk=b[9];this.bd=b[10];this.yb=b[11];this.Gb=b[12];this.Xr=b[13];this.wg="source-over";this.tb=this.ub=0;this.Wb=null;this.Nf=m();this.Od=!0;this.Ii=new ua(0,0,-1,-1);this.uc=new ua(0,0,-1,-1);this.bd&&(this.Wb=new fb(this.b.Wa,this.b.Va));this.we=!1;var c=b[14],e,g;this.Ep=[];this.kc=[];this.xg=[];e=0;for(g=c.length;e<g;e++){var h=c[e],u=this.b.q[h[1]];u.wc||(u.wc=h,u.Gr=this.index);this.kc.push(h);-1===this.ab.Mg.indexOf(u)&&this.ab.Mg.push(u)}Ea(this.Ep,
this.kc);this.G=[];this.Z=[];this.Da=[];e=0;for(g=b[15].length;e<g;e++)this.G.push({id:b[15][e][0],name:b[15][e][1],nb:-1,cc:!0,index:e}),this.Da.push(b[15][e][2].slice(0));this.Ud();this.ve=new ua(0,0,1,1);this.Ll=new ua(0,0,1,1)}function m(){return a.length?a.pop():[]}function s(f){f.length=0;a.push(f)}h.prototype.uu=function(a){var b=a.type.T.toString();this.ue.hasOwnProperty(b)||(this.ue[b]=[]);this.ue[b].push(this.b.Sl(a))};h.prototype.Ln=function(){var a=this.O[0];return!a.Td&&1===a.opacity&&
!a.qk&&a.visible};h.prototype.Ud=function(){this.Z.length=0;var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],c.cc&&this.Z.push(c)};h.prototype.xk=function(a){var b,c,e;b=0;for(c=this.G.length;b<c;b++)if(e=this.G[b],e.name===a)return e;return null};var c=[],b=!0;h.prototype.Zl=function(){this.yp&&(this.Oe=this.b.kk[this.yp],this.Oe.lm());this.b.qa=this;this.scrollX=this.b.Wa/2;this.scrollY=this.b.Va/2;var a,e,h,r,v,m,u;a=0;for(h=this.b.q.length;a<h;a++)if(e=this.b.q[a],!e.A)for(v=e.d,e=0,r=v.length;e<
r;e++)if(m=v[e],m.j){var p=m.j.Mo;p>=this.O.length&&(p=this.O.length-1);m.j=this.O[p];-1===m.j.d.indexOf(m)&&m.j.d.push(m);m.j.sf=!0}if(!b)for(a=0,h=this.O.length;a<h;++a)this.O[a].d.sort(g);c.length=0;this.nr();a=0;for(h=this.O.length;a<h;a++)m=this.O[a],m.Dr(),m.nm();v=!1;if(!this.Cf){for(u in this.ue)if(this.ue.hasOwnProperty(u)&&(e=this.b.ti(parseInt(u,10)))&&!e.A&&this.b.jm(e)){r=this.ue[u];a=0;for(h=r.length;a<h;a++){m=null;if(e.ka.me&&(m=this.ri(r[a].w.l),!m))continue;m=this.b.de(e.wc,m,!1,
0,0,!0);this.b.Pi(m,r[a]);v=!0;c.push(m)}r.length=0}a=0;for(h=this.O.length;a<h;a++)this.O[a].d.sort(g),this.O[a].sf=!0}v&&(this.b.ob(),this.b.mp());for(a=0;a<c.length;a++)if(m=c[a],m.type.lc)for(h=m.Hg(),e=0,r=m.type.Qb.length;e<r;e++)u=m.type.Qb[e],m.type!==u&&(u.d.length>h?m.siblings.push(u.d[h]):u.wc&&(v=this.b.de(u.wc,m.j,!0,m.x,m.y,!0),this.b.ob(),u.Cj(),m.siblings.push(v),c.push(v)));a=0;for(h=this.Ve.length;a<h;a++)this.b.de(this.Ve[a],null,!0);this.b.vg=null;this.b.ob();if(this.b.ja&&!this.b.ra)for(a=
0,h=this.b.q.length;a<h;a++)u=this.b.q[a],!u.A&&u.d.length&&u.Hl&&u.Hl(this.b.ja);a=0;for(h=c.length;a<h;a++)m=c[a],this.b.trigger(Object.getPrototypeOf(m.type.ka).i.Jj,m);c.length=0;this.b.trigger(X.prototype.i.Jq,null);this.Cf=!1};h.prototype.Cr=function(){var a,b,c,e,g;b=a=0;for(c=this.Ve.length;a<c;a++)e=this.Ve[a],g=this.b.q[e[1]],g.global?this.b.de(e,null,!0):(this.Ve[b]=e,b++);this.Ve.length=b};h.prototype.Hu=function(){this.b.trigger(X.prototype.i.Iq,null);this.b.sd.Zb.length=0;var a,c,e,
r,g,h;if(!this.Cf)for(a=0,c=this.O.length;a<c;a++)for(this.O[a].om(),g=this.O[a].d,e=0,r=g.length;e<r;e++)h=g[e],h.type.global||this.b.jm(h.type)&&this.uu(h);a=0;for(c=this.O.length;a<c;a++){g=this.O[a].d;e=0;for(r=g.length;e<r;e++)h=g[e],h.type.global||this.b.Fe(h);this.b.ob();g.length=0;this.O[a].sf=!0}a=0;for(c=this.b.q.length;a<c;a++)if(g=this.b.q[a],!(g.global||g.ka.me||g.ka.oj||g.A)){e=0;for(r=g.d.length;e<r;e++)this.b.Fe(g.d[e]);this.b.ob()}b=!1};new ua(0,0,0,0);h.prototype.Rc=function(a){var b,
c=a,e=!1,g=!this.b.yc;g&&(this.b.Ni||(this.b.Ni=document.createElement("canvas"),b=this.b.Ni,b.width=this.b.N,b.height=this.b.M,this.b.lo=b.getContext("2d"),e=!0),b=this.b.Ni,c=this.b.lo,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.X,c.mozImageSmoothingEnabled=this.b.X,c.msImageSmoothingEnabled=this.b.X,c.imageSmoothingEnabled=this.b.X));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Nj&&!this.Ln()&&
c.clearRect(0,0,this.b.N,this.b.M);var h,m,e=0;for(h=this.O.length;e<h;e++)m=this.O[e],m.visible&&0<m.opacity&&11!==m.Gb&&(m.d.length||!m.Td)?m.Rc(c):m.nm();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};h.prototype.fc=function(a){var b=0<this.Z.length||this.b.kg||!this.b.yc;if(b){this.b.Rb||(this.b.Rb=a.Pc(this.b.N,this.b.M,this.b.X));if(this.b.Rb.ug!==this.b.N||this.b.Rb.tg!==this.b.M)a.deleteTexture(this.b.Rb),this.b.Rb=a.Pc(this.b.N,this.b.M,this.b.X);a.qd(this.b.Rb);this.b.yc||a.dg(this.b.N,
this.b.M)}else this.b.Rb&&(a.qd(null),a.deleteTexture(this.b.Rb),this.b.Rb=null);this.b.Nj&&!this.Ln()&&a.clear(0,0,0,0);var c,e,g;c=0;for(e=this.O.length;c<e;c++)g=this.O[c],g.visible&&0<g.opacity&&(g.d.length||!g.Td)?g.fc(a):g.nm();b&&(0===this.Z.length||1===this.Z.length&&this.b.yc?(1===this.Z.length?(b=this.Z[0].index,a.rd(this.Z[0].nb),a.bg(null,1/this.b.N,1/this.b.M,0,0,1,1,this.scale,this.k,0,0,this.b.N/2,this.b.M/2,this.Da[b]),a.fj(this.Z[0].nb)&&(this.b.la=!0)):a.rd(0),this.b.yc||a.dg(this.b.width,
this.b.height),a.qd(null),a.ye(1),a.Xa(this.b.Rb),a.sp(),a.pd(),a.vd(),b=this.b.width/2,c=this.b.height/2,a.Zf(-b,c,b,c,b,-c,-b,-c),a.Xa(null)):this.Ml(a,null,null,null))};h.prototype.Gg=function(){return 0<this.Z.length||this.b.kg||!this.b.yc?this.b.Rb:null};h.prototype.Gn=function(){var a=this.O[0].ic(),b,c,e;b=1;for(c=this.O.length;b<c;b++)e=this.O[b],(0!==e.Kb||0!==e.Lb)&&e.ic()<a&&(a=e.ic());return a};h.prototype.qp=function(a){if(!this.Up){var b=1/this.Gn()*this.b.N/2;a>this.width-b&&(a=this.width-
b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.la=!0)};h.prototype.rp=function(a){if(!this.Up){var b=1/this.Gn()*this.b.M/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.la=!0)};h.prototype.nr=function(){this.qp(this.scrollX);this.rp(this.scrollY)};h.prototype.Ml=function(a,b,c,e){var g=c?c.Z:b?b.Z:this.Z,h=1,m=0,p=0,q=0,d=this.b.N,n=this.b.M;c?(h=c.j.ic(),m=c.j.Oa(),p=c.j.ta,q=c.j.ua,d=c.j.Ba,n=c.j.Aa):b&&(h=b.ic(),m=b.Oa(),p=b.ta,q=b.ua,d=b.Ba,n=
b.Aa);var k=this.b.tk,u,t,s,z,x=0,oa=1,H,D=this.b.N,A=this.b.M,F=D/2,J=A/2,Q=b?b.ve:this.ve,E=b?b.Ll:this.Ll,M=0,R=0,G=0,K=0,I=D,pa=D,L=A,ta=A,la=s=0,ya=c?c.j.Oa():0;if(c){u=0;for(t=g.length;u<t;u++)s+=a.Ss(g[u].nb),la+=a.Ts(g[u].nb);z=c.wa;M=b.ya(z.left,z.top,!0,!0);G=b.ya(z.left,z.top,!1,!0);I=b.ya(z.right,z.bottom,!0,!0);L=b.ya(z.right,z.bottom,!1,!0);0!==ya&&(u=b.ya(z.right,z.top,!0,!0),t=b.ya(z.right,z.top,!1,!0),R=b.ya(z.left,z.bottom,!0,!0),K=b.ya(z.left,z.bottom,!1,!0),z=Math.min(M,I,u,R),
I=Math.max(M,I,u,R),M=z,z=Math.min(G,L,t,K),L=Math.max(G,L,t,K),G=z);M-=s;G-=la;I+=s;L+=la;E.left=M/D;E.top=1-G/A;E.right=I/D;E.bottom=1-L/A;R=M=T(M);K=G=T(G);pa=I=qa(I);ta=L=qa(L);R-=s;K-=la;pa+=s;ta+=la;0>M&&(M=0);0>G&&(G=0);I>D&&(I=D);L>A&&(L=A);0>R&&(R=0);0>K&&(K=0);pa>D&&(pa=D);ta>A&&(ta=A);Q.left=M/D;Q.top=1-G/A;Q.right=I/D;Q.bottom=1-L/A}else Q.left=E.left=0,Q.top=E.top=0,Q.right=E.right=1,Q.bottom=E.bottom=1;la=c&&((c.k||ya)&&a.qh(g[0].nb)||0!==s||0!==la||1!==c.opacity||c.type.ka.Io)||b&&
!c&&1!==b.opacity;a.sp();if(la){k[x]||(k[x]=a.Pc(D,A,this.b.X));if(k[x].ug!==D||k[x].tg!==A)a.deleteTexture(k[x]),k[x]=a.Pc(D,A,this.b.X);a.rd(0);a.qd(k[x]);H=ta-K;a.clearRect(R,A-K-H,pa-R,H);c?c.fc(a):(a.Xa(this.b.nc),a.ye(b.opacity),a.pd(),a.translate(-F,-J),a.vd(),a.od(M,L,I,L,I,G,M,G,Q));E.left=E.top=0;E.right=E.bottom=1;c&&(z=Q.top,Q.top=Q.bottom,Q.bottom=z);x=1;oa=0}a.ye(1);s=g.length-1;var ya=a.Il(g[s].nb)||!b&&!c&&!this.b.yc,fa=0;u=0;for(t=g.length;u<t;u++){k[x]||(k[x]=a.Pc(D,A,this.b.X));
if(k[x].ug!==D||k[x].tg!==A)a.deleteTexture(k[x]),k[x]=a.Pc(D,A,this.b.X);a.rd(g[u].nb);fa=g[u].index;a.fj(g[u].nb)&&(this.b.la=!0);0!=u||la?(a.bg(e,1/D,1/A,E.left,E.top,E.right,E.bottom,h,m,p,q,(p+d)/2,(q+n)/2,c?c.Da[fa]:b?b.Da[fa]:this.Da[fa]),a.Xa(null),u!==s||ya?(a.qd(k[x]),H=ta-K,z=A-K-H,a.clearRect(R,z,pa-R,H)):(c?a.xe(c.ub,c.tb):b&&a.xe(b.ub,b.tb),a.qd(e)),a.Xa(k[oa]),a.pd(),a.translate(-F,-J),a.vd(),a.od(M,L,I,L,I,G,M,G,Q),u!==s||ya||a.Xa(null)):(a.qd(k[x]),H=ta-K,z=A-K-H,a.clearRect(R,z,
pa-R,H),c?(a.bg(e,1/c.width,1/c.height,E.left,E.top,E.right,E.bottom,h,m,p,q,(p+d)/2,(q+n)/2,c.Da[fa]),c.fc(a)):(a.bg(e,1/D,1/A,0,0,1,1,h,m,p,q,(p+d)/2,(q+n)/2,b?b.Da[fa]:this.Da[fa]),a.Xa(b?this.b.nc:this.b.Rb),a.pd(),a.translate(-F,-J),a.vd(),a.od(M,L,I,L,I,G,M,G,Q)),E.left=E.top=0,E.right=E.bottom=1,c&&!ya&&(z=L,L=G,G=z));x=0===x?1:0;oa=0===x?1:0}ya&&(a.rd(0),c?a.xe(c.ub,c.tb):b?a.xe(b.ub,b.tb):this.b.yc||(a.dg(this.b.width,this.b.height),F=this.b.width/2,J=this.b.height/2,G=M=0,I=this.b.width,
L=this.b.height),a.qd(e),a.Xa(k[oa]),a.pd(),a.translate(-F,-J),a.vd(),c&&1===g.length&&!la?a.od(M,G,I,G,I,L,M,L,Q):a.od(M,L,I,L,I,G,M,G,Q),a.Xa(null))};h.prototype.ri=function(a){var b,c;b=0;for(c=this.O.length;b<c;b++)if(this.O[b].T===a)return this.O[b];return null};h.prototype.Fb=function(){var a,b,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Cf,persist:this.ue,fx:[],layers:{}};a=0;for(b=this.G.length;a<b;a++)c=this.G[a],e.fx.push({name:c.name,active:c.cc,
params:this.Da[c.index]});a=0;for(b=this.O.length;a<b;a++)c=this.O[a],e.layers[c.T.toString()]=c.Fb();return e};h.prototype.Sb=function(a){var b,c,e,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.ue=a.persist;"undefined"!==typeof a.fv&&(this.Cf=a.fv);var h=a.fx;b=0;for(c=h.length;b<c;b++)if(e=this.xk(h[b].name))e.cc=h[b].active,this.Da[e.index]=h[b].params;this.Ud();b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.ri(parseInt(g,10)))&&a.Sb(b[g])};
Eb=h;e.prototype.Ud=function(){this.Z.length=0;var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],c.cc&&this.Z.push(c)};e.prototype.xk=function(a){var b,c,e;b=0;for(c=this.G.length;b<c;b++)if(e=this.G[b],e.name===a)return e;return null};e.prototype.Dr=function(){var a,b,e,g,h,m;b=a=0;for(e=this.kc.length;a<e;a++){g=this.kc[a];h=this.b.q[g[1]];m=this.b.jm(h);h=!0;if(!m||this.ab.Cf)g=this.b.de(g,this,!0),c.push(g),g.type.global&&(h=!1,this.xg.push(g.uid));h&&(this.kc[b]=this.kc[a],b++)}this.kc.length=
b;this.b.ob();!this.b.n&&this.G.length&&(this.Gb=this.Xr);this.wg=gb(this.Gb);this.b.p&&hb(this,this.Gb,this.b.p);this.Od=!0};e.prototype.$f=function(a,b){var c=Ga(this.d,a);0>c||(b&&this.bd&&a.Mb&&a.Mb.right>=a.Mb.left&&(a.na(),this.Wb.update(a,a.Mb,null),a.Mb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(Da(this.d,c),this.wh(c)),this.Od=!0)};e.prototype.rg=function(a,b){a.cd=this.d.length;this.d.push(a);b&&this.bd&&a.Mb&&a.V();this.Od=!0};e.prototype.bu=function(a){this.d.unshift(a);this.wh(0)};
e.prototype.Jt=function(a,b,c){var e=a.hd();b=b.hd();Da(this.d,e);e<b&&b--;c&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.wh(e<b?e:b)};e.prototype.wh=function(a){-1===this.Wd?this.Wd=a:a<this.Wd&&(this.Wd=a);this.Od=this.sf=!0};e.prototype.om=function(){if(this.sf){-1===this.Wd&&(this.Wd=0);var a,b,c;if(this.bd)for(a=this.Wd,b=this.d.length;a<b;++a)c=this.d[a],c.cd=a,this.Wb.Gt(c.Mb);else for(a=this.Wd,b=this.d.length;a<b;++a)this.d[a].cd=a;this.sf=!1;this.Wd=-1}};e.prototype.ic=
function(a){return this.Os()*(this.b.yc||a?this.b.sg:1)};e.prototype.Os=function(){return(this.scale*this.ab.scale-1)*this.yb+1};e.prototype.Oa=function(){return this.Me?0:La(this.ab.k+this.k)};var a=[],u=[],t=[];e.prototype.Hn=function(){this.om();this.Wb.ij(this.ta,this.ua,this.Ba,this.Aa,t);if(!t.length)return m();if(1===t.length){var a=m();Ea(a,t[0]);t.length=0;return a}for(var b=!0;1<t.length;){for(var a=t,c=void 0,e=void 0,g=void 0,h=void 0,B=void 0,c=0,e=a.length;c<e-1;c+=2){var g=a[c],h=a[c+
1],B=m(),p=g,q=h,d=B,n=0,k=0,C=0,Y=p.length,N=q.length,z=void 0,x=void 0;for(d.length=Y+N;n<Y&&k<N;++C)z=p[n],x=q[k],z.cd<x.cd?(d[C]=z,++n):(d[C]=x,++k);for(;n<Y;++n,++C)d[C]=p[n];for(;k<N;++k,++C)d[C]=q[k];b||(s(g),s(h));u.push(B)}1===e%2&&(b?(g=m(),Ea(g,a[e-1]),u.push(g)):u.push(a[e-1]));Ea(a,u);u.length=0;b=!1}a=t[0];t.length=0;return a};e.prototype.Rc=function(a){this.we=this.qk||1!==this.opacity||0!==this.Gb;var b=this.b.canvas,c=a,e=!1;this.we&&(this.b.Mi||(this.b.Mi=document.createElement("canvas"),
b=this.b.Mi,b.width=this.b.N,b.height=this.b.M,this.b.ko=b.getContext("2d"),e=!0),b=this.b.Mi,c=this.b.ko,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.X,c.mozImageSmoothingEnabled=this.b.X,c.msImageSmoothingEnabled=this.b.X,c.imageSmoothingEnabled=this.b.X),this.Td&&c.clearRect(0,0,this.b.N,this.b.M));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Td||(c.fillStyle="rgb("+this.Pb[0]+","+this.Pb[1]+
","+this.Pb[2]+")",c.fillRect(0,0,this.b.N,this.b.M));c.save();this.Me=!0;var e=this.hb(0,0,!0,!0),g=this.hb(0,0,!1,!0);this.Me=!1;this.b.nd&&(e=Math.round(e),g=Math.round(g));this.Ol(e,g,c);var h=this.ic();c.scale(h,h);c.translate(-e,-g);this.bd?(this.uc.left=this.Wb.$b(this.ta),this.uc.top=this.Wb.ac(this.ua),this.uc.right=this.Wb.$b(this.Ba),this.uc.bottom=this.Wb.ac(this.Aa),this.Od||!this.uc.hi(this.Ii)?(s(this.Nf),e=this.Hn(),this.Od=!1,this.Ii.Yh(this.uc)):e=this.Nf):e=this.d;for(var m,p=null,
g=0,h=e.length;g<h;++g)m=e[g],m!==p&&(this.Ur(m,c),p=m);this.bd&&(this.Nf=e);c.restore();this.we&&(a.globalCompositeOperation=this.wg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};e.prototype.Ur=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.na();var c=a.wa;c.right<this.ta||c.bottom<this.ua||c.left>this.Ba||c.top>this.Aa||(b.globalCompositeOperation=a.wg,a.Rc(b))}};e.prototype.nm=function(){this.Me=!0;var a=this.hb(0,0,!0,!0),b=this.hb(0,0,!1,!0);this.Me=!1;this.b.nd&&(a=Math.round(a),
b=Math.round(b));this.Ol(a,b,null)};e.prototype.Ol=function(a,b,c){var e=this.ic();this.ta=a;this.ua=b;this.Ba=a+1/e*this.b.N;this.Aa=b+1/e*this.b.M;a=this.Oa();0!==a&&(c&&(c.translate(this.b.N/2,this.b.M/2),c.rotate(-a),c.translate(this.b.N/-2,this.b.M/-2)),this.Sd.set(this.ta,this.ua,this.Ba,this.Aa),this.Sd.offset((this.ta+this.Ba)/-2,(this.ua+this.Aa)/-2),this.Np.wp(this.Sd,a),this.Np.Xm(this.Sd),this.Sd.offset((this.ta+this.Ba)/2,(this.ua+this.Aa)/2),this.ta=this.Sd.left,this.ua=this.Sd.top,
this.Ba=this.Sd.right,this.Aa=this.Sd.bottom)};e.prototype.fc=function(a){var b=0,c=0;if(this.we=this.qk||1!==this.opacity||0<this.Z.length||0!==this.Gb){this.b.nc||(this.b.nc=a.Pc(this.b.N,this.b.M,this.b.X));if(this.b.nc.ug!==this.b.N||this.b.nc.tg!==this.b.M)a.deleteTexture(this.b.nc),this.b.nc=a.Pc(this.b.N,this.b.M,this.b.X);a.qd(this.b.nc);this.Td&&a.clear(0,0,0,0)}this.Td||a.clear(this.Pb[0]/255,this.Pb[1]/255,this.Pb[2]/255,1);this.Me=!0;var e=this.hb(0,0,!0,!0),b=this.hb(0,0,!1,!0);this.Me=
!1;this.b.nd&&(e=Math.round(e),b=Math.round(b));this.Ol(e,b,null);e=this.ic();a.pd();a.scale(e,e);a.Pl(-this.Oa());a.translate((this.ta+this.Ba)/-2,(this.ua+this.Aa)/-2);a.vd();this.bd?(this.uc.left=this.Wb.$b(this.ta),this.uc.top=this.Wb.ac(this.ua),this.uc.right=this.Wb.$b(this.Ba),this.uc.bottom=this.Wb.ac(this.Aa),this.Od||!this.uc.hi(this.Ii)?(s(this.Nf),b=this.Hn(),this.Od=!1,this.Ii.Yh(this.uc)):b=this.Nf):b=this.d;var g,h,m=null,c=0;for(g=b.length;c<g;++c)h=b[c],h!==m&&(this.Vr(b[c],a),m=
h);this.bd&&(this.Nf=b);this.we&&(b=this.Z.length?this.Z[0].nb:0,c=this.Z.length?this.Z[0].index:0,0===this.Z.length||1===this.Z.length&&!a.Il(b)&&1===this.opacity?(1===this.Z.length?(a.rd(b),a.bg(this.ab.Gg(),1/this.b.N,1/this.b.M,0,0,1,1,e,this.Oa(),this.ta,this.ua,(this.ta+this.Ba)/2,(this.ua+this.Aa)/2,this.Da[c]),a.fj(b)&&(this.b.la=!0)):a.rd(0),a.qd(this.ab.Gg()),a.ye(this.opacity),a.Xa(this.b.nc),a.xe(this.ub,this.tb),a.pd(),a.vd(),e=this.b.N/2,b=this.b.M/2,a.Zf(-e,b,e,b,e,-b,-e,-b),a.Xa(null)):
this.ab.Ml(a,this,null,this.ab.Gg()))};e.prototype.Vr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.na();var c=a.wa;c.right<this.ta||c.bottom<this.ua||c.left>this.Ba||c.top>this.Aa||(a.aq?this.Wr(a,b):(b.rd(0),b.xe(a.ub,a.tb),a.fc(b)))}};e.prototype.Wr=function(a,b){var c=a.Z[0].nb,e=a.Z[0].index,g=this.ic();if(1!==a.Z.length||b.Il(c)||b.du(c)||(a.k||a.j.Oa())&&b.qh(c)||1!==a.opacity||a.type.ka.Io)this.ab.Ml(b,this,a,this.we?this.b.nc:this.ab.Gg()),b.pd(),b.scale(g,g),b.Pl(-this.Oa()),
b.translate((this.ta+this.Ba)/-2,(this.ua+this.Aa)/-2),b.vd();else{b.rd(c);b.xe(a.ub,a.tb);b.fj(c)&&(this.b.la=!0);var h=0,m=0,p=0,q=0;b.qh(c)&&(c=a.wa,h=this.ya(c.left,c.top,!0,!0),m=this.ya(c.left,c.top,!1,!0),p=this.ya(c.right,c.bottom,!0,!0),c=this.ya(c.right,c.bottom,!1,!0),h/=windowWidth,m=1-m/windowHeight,p/=windowWidth,q=1-c/windowHeight);b.bg(this.we?this.b.nc:this.ab.Gg(),1/a.width,1/a.height,h,m,p,q,g,this.Oa(),this.ta,this.ua,(this.ta+this.Ba)/2,(this.ua+this.Aa)/2,a.Da[e]);a.fc(b)}};
e.prototype.hb=function(a,b,c,e){var g=this.b.devicePixelRatio;this.b.Xe&&(a*=g,b*=g);var g=this.b.cp,h=this.b.dp,g=(this.ab.scrollX-g)*this.Kb+g,h=(this.ab.scrollY-h)*this.Lb+h,m=g,p=h,q=1/this.ic(!e);e?(m-=this.b.N*q/2,p-=this.b.M*q/2):(m-=this.b.width*q/2,p-=this.b.height*q/2);m+=a*q;p+=b*q;b=this.Oa();0!==b&&(m-=g,p-=h,a=Math.cos(b),b=Math.sin(b),e=m*a-p*b,p=p*a+m*b,m=e+g,p+=h);return c?m:p};e.prototype.ya=function(a,b,c,e){var g=this.b.cp,h=this.b.dp,m=(this.ab.scrollX-g)*this.Kb+g,p=(this.ab.scrollY-
h)*this.Lb+h,h=m,g=p,q=this.Oa();if(0!==q){a-=m;b-=p;var d=Math.cos(-q),q=Math.sin(-q),n=a*d-b*q;b=b*d+a*q;a=n+m;b+=p}m=1/this.ic(!e);e?(h-=this.b.N*m/2,g-=this.b.M*m/2):(h-=this.b.width*m/2,g-=this.b.height*m/2);h=(a-h)/m;g=(b-g)/m;a=this.b.devicePixelRatio;this.b.Xe&&!e&&(h/=a,g/=a);return c?h:g};e.prototype.Fb=function(){var a,b,c,e={s:this.scale,a:this.k,vl:this.ta,vt:this.ua,vr:this.Ba,vb:this.Aa,v:this.visible,bc:this.Pb,t:this.Td,px:this.Kb,py:this.Lb,o:this.opacity,zr:this.yb,fx:[],cg:this.xg,
instances:[]};a=0;for(b=this.G.length;a<b;a++)c=this.G[a],e.fx.push({name:c.name,active:c.cc,params:this.Da[c.index]});return e};e.prototype.Sb=function(a){var b,c,e;this.scale=a.s;this.k=a.a;this.ta=a.vl;this.ua=a.vt;this.Ba=a.vr;this.Aa=a.vb;this.visible=a.v;this.Pb=a.bc;this.Td=a.t;this.Kb=a.px;this.Lb=a.py;this.opacity=a.o;this.yb=a.zr;this.xg=a.cg||[];Ea(this.kc,this.Ep);var h=new ba;b=0;for(e=this.xg.length;b<e;++b)h.add(this.xg[b]);c=b=0;for(e=this.kc.length;b<e;++b)h.contains(this.kc[b][2])||
(this.kc[c]=this.kc[b],++c);this.kc.length=c;c=a.fx;b=0;for(e=c.length;b<e;b++)if(a=this.xk(c[b].name))a.cc=c[b].active,this.Da[a.index]=c[b].params;this.Ud();this.d.sort(g);this.sf=!0};Sb=e})();
(function(){function h(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function g(a,b){return a.index-b.index}function e(a){var b,d,c,k;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(g);a.length>=v.length&&(v.length=a.length+1);v[a.length]||(v[a.length]=[]);k=v[a.length];b=0;for(d=k.length;b<d;b++)if(c=k[b],h(a,c))return c;k.push(a);return a}
function m(a,b){this.b=a;this.Qp={};this.un={};this.Hk=!1;this.On=new ba;this.gk=[];this.Oj=[];this.name=b[0];var d=b[1];this.fe=[];var c,k;c=0;for(k=d.length;c<k;c++)this.Qn(d[c],null,this.fe)}function s(a){this.type=a;this.d=[];this.W=[];this.ma=!0}function c(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.za=[];this.Ae=[];this.Mn=this.xj=this.gm=this.Mk=this.group=this.Cp=!1;this.Za=[];this.Kc=[];this.Ic=[];this.Jg="";this.Ig=this.Mk=this.group=!1;this.Wh=null;d[1]&&(this.Jg=d[1][1].toLowerCase(),
this.group=!0,this.Mk=!!d[1][0],this.Wh=[],this.Ig=this.Mk,this.b.xf.push(this),this.b.vi[this.Jg]=this);this.Xc=d[2];this.T=d[4];this.group||(this.b.Wm[this.T.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var k=new Tb(this,c[a]);k.index=a;this.Za.push(k);this.Qm(k.type)}c=d[6];a=0;for(b=c.length;a<b;a++)k=new Ub(this,c[a]),k.index=a,this.Kc.push(k);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Qn(d[a],this,this.Ic);this.Di=!1;this.Za.length&&(this.Di=null==this.Za[0].type&&
this.Za[0].jb==X.prototype.i.kq)}function b(a,b){var d,c,k;if(a&&(-1===b.indexOf(a)&&b.push(a),a.lc))for(d=0,c=a.Qb.length;d<c;d++)k=a.Qb[d],a!==k&&-1===b.indexOf(k)&&b.push(k)}function a(a,b){this.ec=a;this.sheet=a.sheet;this.b=a.b;this.R=[];this.Ea=[];this.B={};this.index=-1;this.pg=!1;this.jb=this.b.Xd(b[1]);this.trigger=0<b[3];this.tn=2===b[3];this.jd=b[4];this.Pk=b[5];this.Dt=b[6];this.T=b[7];this.b.zf[this.T.toString()]=this;-1===b[0]?(this.type=null,this.Qa=this.Rl,this.Je=null,this.Oc=-1):
(this.type=this.b.q[b[0]],this.Qa=this.Dt?this.su:this.Ql,b[2]?(this.Je=this.type.qi(b[2]),this.Oc=this.type.uk(b[2])):(this.Je=null,this.Oc=-1),this.ec.parent&&this.ec.parent.nj());this.tn&&(this.Qa=this.tu);if(10===b.length){var d,c,k=b[9];d=0;for(c=k.length;d<c;d++){var e=new Vb(this,k[d]);this.R.push(e)}this.Ea.length=k.length}}function u(a,b){this.ec=a;this.sheet=a.sheet;this.b=a.b;this.R=[];this.Ea=[];this.B={};this.index=-1;this.pg=!1;this.jb=this.b.Xd(b[1]);-1===b[0]?(this.type=null,this.Qa=
this.Rl,this.Je=null,this.Oc=-1):(this.type=this.b.q[b[0]],this.Qa=this.Ql,b[2]?(this.Je=this.type.qi(b[2]),this.Oc=this.type.uk(b[2])):(this.Je=null,this.Oc=-1));this.T=b[3];this.b.wf[this.T.toString()]=this;if(6===b.length){var d,c,k=b[5];d=0;for(c=k.length;d<c;d++){var e=new Vb(this,k[d]);this.R.push(e)}this.Ea.length=k.length}}function t(){B++;y.length===B&&y.push(new Wb);return y[B]}function f(a,b){this.Ec=a;this.ec=a.ec;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.fd=null;this.Rd=0;this.get=
null;this.gn=0;this.ab=null;this.key=0;this.object=null;this.index=0;this.Gh=this.of=this.Gh=this.of=this.vn=this.Pe=this.Hh=null;this.Jc=!1;var d,c,k;switch(b[0]){case 0:case 7:this.fd=new Xb(this,b[1]);this.Rd=0;this.get=this.$s;break;case 1:this.fd=new Xb(this,b[1]);this.Rd=0;this.get=this.bt;break;case 5:this.fd=new Xb(this,b[1]);this.Rd=0;this.get=this.ft;break;case 3:case 8:this.gn=b[1];this.get=this.Ys;break;case 6:this.ab=this.b.bl[b[1]];this.get=this.gt;break;case 9:this.key=b[1];this.get=
this.et;break;case 4:this.object=this.b.q[b[1]];this.get=this.ht;this.ec.Qm(this.object);this.Ec instanceof Ub?this.ec.nj():this.ec.parent&&this.ec.parent.nj();break;case 10:this.index=b[1];a.type.A?(this.get=this.ct,this.Jc=!0):this.get=this.dt;break;case 11:this.Hh=b[1];this.Pe=null;this.get=this.Zs;break;case 2:case 12:this.vn=b[1];this.get=this.Xs;break;case 13:for(this.get=this.it,this.of=[],this.Gh=[],d=1,c=b.length;d<c;d++)k=new Vb(this.Ec,b[d]),this.of.push(k),this.Gh.push(0)}}function l(a,
b,d){this.sheet=a;this.parent=b;this.b=a.b;this.za=[];this.name=d[1];this.Lk=d[3];this.Tg=!!d[4];this.Ci=!!d[5];this.T=d[6];this.b.mg[this.T.toString()]=this;this.data=this.Lk;this.parent?(this.gf=this.Tg||this.Ci?-1:this.b.Fu++,this.b.ir.push(this)):(this.gf=-1,this.b.hr.push(this))}function w(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.za=[];this.Lg=null;this.ot=d[1];this.cc=!0}function r(){this.Gp=[];this.reset(null)}var v=[];m.prototype.toString=function(){return this.name};m.prototype.Qn=
function(a,b,d){switch(a[0]){case 0:a=new Yb(this,b,a);if(a.Xc)for(d.push(a),d=0,b=a.Za.length;d<b;d++)a.Za[d].trigger&&this.Rn(a,d);else a.$n()?this.Rn(a,0):d.push(a);break;case 1:a=new Pb(this,b,a);d.push(a);break;case 2:a=new Zb(this,b,a),d.push(a)}};m.prototype.La=function(){var a,b;a=0;for(b=this.fe.length;a<b;a++)this.fe[a].La(a<b-1&&this.fe[a+1].Di)};m.prototype.lm=function(){this.gk.length=0;this.Oj.length=0;this.Om(this);this.Oj.length=0};m.prototype.Om=function(a){var b,d,c,k,e=a.gk,f=a.Oj,
g=this.On.Vd();b=0;for(d=g.length;b<d;++b)c=g[b],k=c.Lg,!c.cc||a===k||-1<f.indexOf(k)||(f.push(k),k.Om(a),e.push(k))};m.prototype.Qa=function(a){this.b.hw||(this.Hk=!0,a||(this.b.Tk=!0));var b,d;b=0;for(d=this.fe.length;b<d;b++){var c=this.fe[b];c.Qa();this.b.$j(c.za);this.b.he&&this.b.ob()}a||(this.b.Tk=!1)};m.prototype.Rn=function(a,b){a.Xc||this.b.Bj.push(a);var d,c,k=a.Za[b],e;e=k.type?k.type.name:"system";var f=(d=k.tn)?this.un:this.Qp;f[e]||(f[e]=[]);e=f[e];f=k.jb;if(d){if(k.R.length&&(k=k.R[0],
1===k.type&&2===k.fd.type)){k=k.fd.value.toLowerCase();d=0;for(c=e.length;d<c;d++)if(e[d].method==f){d=e[d].Bg;d[k]?d[k].push([a,b]):d[k]=[[a,b]];return}d={};d[k]=[[a,b]];e.push({method:f,Bg:d})}}else{d=0;for(c=e.length;d<c;d++)if(e[d].method==f){e[d].Bg.push([a,b]);return}mc&&f===mc.prototype.i.vf?e.unshift({method:f,Bg:[[a,b]]}):e.push({method:f,Bg:[[a,b]]})}};Fb=m;s.prototype.Gk=function(){return this.ma?this.type.d.length:this.d.length};s.prototype.hc=function(){return this.ma?this.type.d:this.d};
s.prototype.ph=function(a){a&&(a.b.Bb().vc.Xc?(this.ma&&(this.d.length=0,Ea(this.W,a.type.d),this.ma=!1),a=this.W.indexOf(a),-1!==a&&(this.d.push(this.W[a]),this.W.splice(a,1))):(this.ma=!1,this.d.length=1,this.d[0]=a))};nb=s;window._c2hh_="";c.prototype.La=function(a){var b,d=this.parent;if(this.group)for(this.xj=!0;d;){if(!d.group){this.xj=!1;break}d=d.parent}this.gm=!this.$n()&&(!this.parent||this.parent.group&&this.parent.xj);this.Mn=!!a;this.Ae=this.za.slice(0);for(d=this.parent;d;){a=0;for(b=
d.za.length;a<b;a++)this.gr(d.za[a]);d=d.parent}this.za=e(this.za);this.Ae=e(this.Ae);a=0;for(b=this.Za.length;a<b;a++)this.Za[a].La();a=0;for(b=this.Kc.length;a<b;a++)this.Kc[a].La();a=0;for(b=this.Ic.length;a<b;a++)this.Ic[a].La(a<b-1&&this.Ic[a+1].Di)};c.prototype.xu=function(a){if(this.Ig!==!!a){this.Ig=!!a;var b;a=0;for(b=this.Wh.length;a<b;++a)this.Wh[a].Wp();0<b&&this.b.qa.Oe&&this.b.qa.Oe.lm()}};c.prototype.Qm=function(a){b(a,this.za)};c.prototype.gr=function(a){b(a,this.Ae)};c.prototype.nj=
function(){this.Cp=!0;this.parent&&this.parent.nj()};c.prototype.$n=function(){return this.Za.length?this.Za[0].trigger:!1};c.prototype.Qa=function(){var a,b=!1,d,c=this.b,k=this.b.Bb();k.vc=this;var e=this.Za;this.Di||(k.ik=!1);if(this.Xc){0===e.length&&(b=!0);k.Ra=0;for(a=e.length;k.Ra<a;k.Ra++)e[k.Ra].trigger||(d=e[k.Ra].Qa())&&(b=!0);(k.$e=b)&&this.lj()}else{k.Ra=0;for(a=e.length;k.Ra<a;k.Ra++)if(d=e[k.Ra].Qa(),!d){k.$e=!1;this.gm&&c.he&&c.ob();return}k.$e=!0;this.lj()}this.Zr(k)};c.prototype.Zr=
function(a){a.$e&&this.Mn&&(a.ik=!0);this.gm&&this.b.he&&this.b.ob()};c.prototype.qu=function(a){this.b.Bb().vc=this;this.Za[a].Qa()&&(this.lj(),this.b.Bb().$e=!0)};c.prototype.lj=function(){var a=this.b.Bb(),b;a.rc=0;for(b=this.Kc.length;a.rc<b;a.rc++)if(this.Kc[a.rc].Qa())return;this.op()};c.prototype.mu=function(){var a=this.b.Bb(),b;for(b=this.Kc.length;a.rc<b;a.rc++)if(this.Kc[a.rc].Qa())return;this.op()};c.prototype.op=function(){if(this.Ic.length){var a,b,d,c,k=this.Ic.length-1;this.b.hj(this);
if(this.Cp)for(a=0,b=this.Ic.length;a<b;a++)d=this.Ic[a],(c=!this.xj||!this.group&&a<k)&&this.b.gj(d.za),d.Qa(),c?this.b.lf(d.za):this.b.$j(d.za);else for(a=0,b=this.Ic.length;a<b;a++)this.Ic[a].Qa();this.b.cj()}};c.prototype.ru=function(){var a=this.b.Bb();a.vc=this;var b=!1,d;a.Ra=0;for(d=this.Za.length;a.Ra<d;a.Ra++)if(this.Za[a.Ra].Qa())b=!0;else if(!this.Xc)return!1;return this.Xc?b:!0};c.prototype.nu=function(){this.b.Cg++;var a=this.b.Bb().Ra,b=this.b.hj(this);if(!this.Xc)for(b.Ra=a+1,a=this.Za.length;b.Ra<
a;b.Ra++)if(!this.Za[b.Ra].Qa()){this.b.cj();return}this.lj();this.b.cj()};c.prototype.yt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Za[b].type===a.type)return!1;return!0};Yb=c;a.prototype.La=function(){var a,b,d;a=0;for(b=this.R.length;a<b;a++)d=this.R[a],d.La(),d.Jc&&(this.pg=!0)};a.prototype.tu=function(){return!0};a.prototype.Rl=function(){var a,b;a=0;for(b=this.R.length;a<b;a++)this.Ea[a]=this.R[a].get();return Ua(this.jb.apply(this.b.sd,this.Ea),this.Pk)};a.prototype.su=
function(){var a,b;a=0;for(b=this.R.length;a<b;a++)this.Ea[a]=this.R[a].get();a=this.jb.apply(this.Je?this.Je:this.type,this.Ea);this.type.Mc();return a};a.prototype.Ql=function(){var a,b,d,c,k,e,f,g,h=this.type,l=h.aa(),r=this.ec.Xc&&!this.trigger;b=0;var m=h.lc,u=h.A,t=h.Hd,v=this.Oc,s=-1<v,y=this.pg,E=this.R,w=this.Ea,B=this.Pk,G=this.jb,K;if(y)for(b=0,k=E.length;b<k;++b)e=E[b],e.Jc||(w[b]=e.get(0));else for(b=0,k=E.length;b<k;++b)w[b]=E[b].get(0);if(l.ma){l.d.length=0;l.W.length=0;K=h.d;a=0;for(c=
K.length;a<c;++a){g=K[a];if(y)for(b=0,k=E.length;b<k;++b)e=E[b],e.Jc&&(w[b]=e.get(a));s?(b=0,u&&(b=g.type.Bf[t]),b=G.apply(g.L[v+b],w)):b=G.apply(g,w);(f=Ua(b,B))?l.d.push(g):r&&l.W.push(g)}h.finish&&h.finish(!0);l.ma=!1;h.Mc();return l.Gk()}d=0;K=(f=r&&!this.ec.yt(this))?l.W:l.d;var I=!1;a=0;for(c=K.length;a<c;++a){g=K[a];if(y)for(b=0,k=E.length;b<k;++b)e=E[b],e.Jc&&(w[b]=e.get(a));s?(b=0,u&&(b=g.type.Bf[t]),b=G.apply(g.L[v+b],w)):b=G.apply(g,w);if(Ua(b,B))if(I=!0,f){if(l.d.push(g),m)for(b=0,k=g.siblings.length;b<
k;b++)e=g.siblings[b],e.type.aa().d.push(e)}else{K[d]=g;if(m)for(b=0,k=g.siblings.length;b<k;b++)e=g.siblings[b],e.type.aa().d[d]=e;d++}else if(f){K[d]=g;if(m)for(b=0,k=g.siblings.length;b<k;b++)e=g.siblings[b],e.type.aa().W[d]=e;d++}else if(r&&(l.W.push(g),m))for(b=0,k=g.siblings.length;b<k;b++)e=g.siblings[b],e.type.aa().W.push(e)}K.length=d;if(m)for(u=h.Qb,a=0,c=u.length;a<c;a++)g=u[a].aa(),f?g.W.length=d:g.d.length=d;d=I;if(f&&!I)for(a=0,c=l.d.length;a<c;a++){g=l.d[a];if(y)for(b=0,k=E.length;b<
k;b++)e=E[b],e.Jc&&(w[b]=e.get(a));b=s?G.apply(g.L[v],w):G.apply(g,w);if(Ua(b,B)){I=!0;break}}h.finish&&h.finish(d||r);return r?I:l.Gk()};Tb=a;u.prototype.La=function(){var a,b,d;a=0;for(b=this.R.length;a<b;a++)d=this.R[a],d.La(),d.Jc&&(this.pg=!0)};u.prototype.Rl=function(){var a=this.b,b,d,c=this.R,e=this.Ea;b=0;for(d=c.length;b<d;++b)e[b]=c[b].get();return this.jb.apply(a.sd,e)};u.prototype.Ql=function(){var a=this.type,b=this.Oc,d=a.Hd,c=this.pg,e=this.R,f=this.Ea,g=this.jb,h=a.aa().hc(),a=a.A,
l=-1<b,r,m,u,t,v,s;if(c)for(m=0,t=e.length;m<t;++m)v=e[m],v.Jc||(f[m]=v.get(0));else for(m=0,t=e.length;m<t;++m)f[m]=e[m].get(0);r=0;for(u=h.length;r<u;++r){s=h[r];if(c)for(m=0,t=e.length;m<t;++m)v=e[m],v.Jc&&(f[m]=v.get(r));l?(m=0,a&&(m=s.type.Bf[d]),g.apply(s.L[b+m],f)):g.apply(s,f)}return!1};Ub=u;var y=[],B=-1;f.prototype.La=function(){var a,b;if(11===this.type)this.Pe=this.b.Dn(this.Hh,this.ec.parent);else if(13===this.type)for(a=0,b=this.of.length;a<b;a++)this.of[a].La();this.fd&&this.fd.La()};
f.prototype.It=function(a){this.Jc||!a||a.ka.oj||(this.Jc=!0)};f.prototype.up=function(){this.Jc=!0};f.prototype.$s=function(a){this.Rd=a||0;a=t();this.fd.get(a);B--;return a.data};f.prototype.bt=function(a){this.Rd=a||0;a=t();this.fd.get(a);B--;return S(a.data)?a.data:""};f.prototype.ht=function(){return this.object};f.prototype.Ys=function(){return this.gn};f.prototype.ft=function(a){this.Rd=a||0;a=t();this.fd.get(a);B--;return a.Ua()?this.b.Jd(a.data):this.b.Fg(a.data)};f.prototype.gt=function(){return this.ab};
f.prototype.et=function(){return this.key};f.prototype.dt=function(){return this.index};f.prototype.ct=function(a){a=a||0;var b=this.Ec.type,d=null,d=b.aa(),c=d.hc();if(c.length)d=c[a%c.length].type;else if(d.W.length)d=d.W[a%d.W.length].type;else if(b.d.length)d=b.d[a%b.d.length].type;else return 0;return this.index+d.ji[b.Hd]};f.prototype.Zs=function(){return this.Pe};f.prototype.Xs=function(){return this.vn};f.prototype.it=function(){var a,b;a=0;for(b=this.of.length;a<b;a++)this.Gh[a]=this.of[a].get();
return this.Gh};Vb=f;l.prototype.La=function(){this.za=e(this.za)};l.prototype.Bu=function(a){var b=this.b.Cn();this.parent&&!this.Tg&&b?(this.gf>=b.length&&(b.length=this.gf+1),b[this.gf]=a):this.data=a};l.prototype.Ws=function(){var a=this.b.Cn();return!this.parent||this.Tg||!a||this.Ci?this.data:this.gf>=a.length||"undefined"===typeof a[this.gf]?this.Lk:a[this.gf]};l.prototype.Qa=function(){!this.parent||this.Tg||this.Ci||this.Bu(this.Lk)};Pb=l;w.prototype.toString=function(){return"include:"+
this.Lg.toString()};w.prototype.La=function(){this.Lg=this.b.kk[this.ot];this.sheet.On.add(this);this.za=e(this.za);for(var a=this.parent;a;)a.group&&a.Wh.push(this),a=a.parent;this.Wp()};w.prototype.Qa=function(){this.parent&&this.b.sh(this.b.q);this.Lg.Hk||this.Lg.Qa(!0);this.parent&&this.b.lf(this.b.q)};w.prototype.Wp=function(){for(var a=this.parent;a;){if(a.group&&!a.Ig){this.cc=!1;return}a=a.parent}this.cc=!0};Zb=w;r.prototype.reset=function(a){this.vc=a;this.rc=this.Ra=0;this.Gp.length=0;this.ik=
this.$e=!1};Ob=r})();
(function(){function h(b,a){this.Ec=b;this.b=b.b;this.type=a[0];this.get=[this.ns,this.js,this.xs,this.As,this.as,this.ys,this.ss,this.es,this.rs,this.ws,this.bs,this.vs,this.gs,this.ts,this.os,this.qs,this.ks,this.ls,this.ds,this.zs,this.us,this.ms,this.cs,this.hs][this.type];var c=null;this.Md=this.R=this.Ea=this.jb=this.vj=this.eb=this.first=this.value=null;this.Oc=-1;this.ie=null;this.bq=-1;this.Pe=this.Hh=null;this.ag=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Xb(b,a[1]);break;case 18:this.first=new Xb(b,a[1]);this.eb=new Xb(b,a[2]);this.vj=new Xb(b,a[3]);break;case 19:this.jb=this.b.Xd(a[1]);this.jb!==X.prototype.$a.random&&this.jb!==X.prototype.$a.xr||this.Ec.up();this.Ea=[];this.R=[];3===a.length?(c=a[2],this.Ea.length=c.length+1):this.Ea.length=1;break;case 20:this.Md=this.b.q[a[1]];this.Oc=-1;this.jb=this.b.Xd(a[2]);this.ag=a[3];bc.Function&&this.jb===bc.Function.prototype.$a.Wu&&this.Ec.up();this.ie=a[4]?new Xb(b,a[4]):null;this.Ea=[];this.R=
[];6===a.length?(c=a[5],this.Ea.length=c.length+1):this.Ea.length=1;break;case 21:this.Md=this.b.q[a[1]];this.ag=a[2];this.ie=a[3]?new Xb(b,a[3]):null;this.bq=a[4];break;case 22:this.Md=this.b.q[a[1]];this.Md.qi(a[2]);this.Oc=this.Md.uk(a[2]);this.jb=this.b.Xd(a[3]);this.ag=a[4];this.ie=a[5]?new Xb(b,a[5]):null;this.Ea=[];this.R=[];7===a.length?(c=a[6],this.Ea.length=c.length+1):this.Ea.length=1;break;case 23:this.Hh=a[1],this.Pe=null}this.Ec.It(this.Md);4<=this.type&&17>=this.type&&(this.first=new Xb(b,
a[1]),this.eb=new Xb(b,a[2]));if(c){var e,f;e=0;for(f=c.length;e<f;e++)this.R.push(new Xb(b,c[e]))}}function g(){++c;s.length===c&&s.push(new Wb);return s[c]}function e(b,a,c){var e,f;e=0;for(f=b.length;e<f;++e)b[e].get(c),a[e+1]=c.data}function m(b,a){this.type=b||$b.uf;this.data=a||0;this.jf=null;this.type==$b.uf&&(this.data=Math.floor(this.data))}h.prototype.La=function(){23===this.type&&(this.Pe=this.Ec.b.Dn(this.Hh,this.Ec.ec.parent));this.first&&this.first.La();this.eb&&this.eb.La();this.vj&&
this.vj.La();this.ie&&this.ie.La();if(this.R){var b,a;b=0;for(a=this.R.length;b<a;b++)this.R[b].La()}};var s=[],c=-1;h.prototype.zs=function(b){var a=this.R,h=this.Ea;h[0]=b;b=g();e(a,h,b);--c;this.jb.apply(this.b.sd,h)};h.prototype.us=function(b){var a=this.Md,h=this.Ea,m=this.R,f=this.ie,l=this.jb,s=this.Ec.Rd,r=a.aa(),v=r.hc();if(!v.length)if(r.W.length)v=r.W;else{this.ag?b.mb(""):b.fa(0);return}h[0]=b;b.jf=a;b=g();e(m,h,b);f&&(f.get(b),b.Ua()&&(s=b.data,v=a.d));--c;a=v.length;if(s>=a||s<=-a)s%=
a;0>s&&(s+=a);l.apply(v[s],h)};h.prototype.cs=function(b){var a=this.Md,h=this.Ea,m=this.R,f=this.ie,l=this.Oc,s=this.jb,r=this.Ec.Rd,v=a.aa(),y=v.hc();if(!y.length)if(v.W.length)y=v.W;else{this.ag?b.mb(""):b.fa(0);return}h[0]=b;b.jf=a;b=g();e(m,h,b);f&&(f.get(b),b.Ua()&&(r=b.data,y=a.d));--c;m=y.length;if(r>=m||r<=-m)r%=m;0>r&&(r+=m);r=y[r];y=0;a.A&&(y=r.type.Bf[a.Hd]);s.apply(r.L[l+y],h)};h.prototype.ms=function(b){var a=this.ie,e=this.Md,h=this.bq,f=this.Ec.Rd,l=e.aa(),m=l.hc();if(!m.length)if(l.W.length)m=
l.W;else{this.ag?b.mb(""):b.fa(0);return}if(a){l=g();a.get(l);if(l.Ua()){f=l.data;e=e.d;f%=e.length;0>f&&(f+=e.length);h=e[f].Ta[h];S(h)?b.mb(h):b.r(h);--c;return}--c}a=m.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);f=m[f];m=0;e.A&&(m=f.type.ji[e.Hd]);h=f.Ta[h+m];S(h)?b.mb(h):b.r(h)};h.prototype.ns=function(b){b.type=$b.uf;b.data=this.value};h.prototype.js=function(b){b.type=$b.tf;b.data=this.value};h.prototype.xs=function(b){b.type=$b.String;b.data=this.value};h.prototype.As=function(b){this.first.get(b);
b.Ua()&&(b.data=-b.data)};h.prototype.as=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data+=a.data,a.If()&&b.Sf());--c};h.prototype.ys=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data-=a.data,a.If()&&b.Sf());--c};h.prototype.ss=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data*=a.data,a.If()&&b.Sf());--c};h.prototype.es=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data/=a.data,b.Sf());
--c};h.prototype.rs=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data%=a.data,a.If()&&b.Sf());--c};h.prototype.ws=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data=Math.pow(b.data,a.data),a.If()&&b.Sf());--c};h.prototype.bs=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()?a.Ei()?b.mb(b.data.toString()+a.data):b.data&&a.data?b.fa(1):b.fa(0):b.Ei()&&(b.data=a.Ei()?b.data+a.data:b.data+(Math.round(1E10*a.data)/1E10).toString());--c};
h.prototype.vs=function(b){this.first.get(b);var a=g();this.eb.get(a);b.Ua()&&a.Ua()&&(b.data||a.data?b.fa(1):b.fa(0));--c};h.prototype.ds=function(b){this.first.get(b);b.data?this.eb.get(b):this.vj.get(b)};h.prototype.gs=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data===a.data?1:0);--c};h.prototype.ts=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data!==a.data?1:0);--c};h.prototype.os=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data<a.data?1:0);
--c};h.prototype.qs=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data<=a.data?1:0);--c};h.prototype.ks=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data>a.data?1:0);--c};h.prototype.ls=function(b){this.first.get(b);var a=g();this.eb.get(a);b.fa(b.data>=a.data?1:0);--c};h.prototype.hs=function(b){var a=this.Pe.Ws();ga(a)?b.r(a):b.mb(a)};Xb=h;m.prototype.If=function(){return this.type===$b.tf};m.prototype.Ua=function(){return this.type===$b.uf||this.type===$b.tf};m.prototype.Ei=
function(){return this.type===$b.String};m.prototype.Sf=function(){this.If()||(this.Ei()&&(this.data=parseFloat(this.data)),this.type=$b.tf)};m.prototype.fa=function(b){this.type=$b.uf;this.data=Math.floor(b)};m.prototype.r=function(b){this.type=$b.tf;this.data=b};m.prototype.mb=function(b){this.type=$b.String;this.data=b};m.prototype.Cu=function(b){ga(b)?(this.type=$b.tf,this.data=b):S(b)?(this.type=$b.String,this.data=b.toString()):(this.type=$b.uf,this.data=0)};Wb=m;$b={uf:0,tf:1,String:2}})();
function X(h){this.b=h;this.Zb=[]}X.prototype.Fb=function(){var h={},g,e,m,s,c,b,a,u;h.waits=[];var t=h.waits,f;g=0;for(e=this.Zb.length;g<e;g++){b=this.Zb[g];f={t:b.time,st:b.Eu,s:b.Ap,ev:b.Ag.T,sm:[],sols:{}};b.Ag.Kc[b.rc]&&(f.act=b.Ag.Kc[b.rc].T);m=0;for(s=b.za.length;m<s;m++)f.sm.push(b.za[m].T);for(c in b.Xb)if(b.Xb.hasOwnProperty(c)){a=this.b.q[parseInt(c,10)];u={sa:b.Xb[c].pp,insts:[]};m=0;for(s=b.Xb[c].We.length;m<s;m++)u.insts.push(b.Xb[c].We[m].uid);f.sols[a.T.toString()]=u}t.push(f)}return h};
X.prototype.Sb=function(h){h=h.waits;var g,e,m,s,c,b,a,u,t,f,l;g=this.Zb.length=0;for(e=h.length;g<e;g++)if(b=h[g],u=this.b.Wm[b.ev.toString()]){t=-1;m=0;for(s=u.Kc.length;m<s;m++)if(u.Kc[m].T===b.act){t=m;break}if(-1!==t){a={Xb:{},za:[],nn:!1};a.time=b.t;a.Eu=b.st||"";a.Ap=!!b.s;a.Ag=u;a.rc=t;m=0;for(s=b.sm.length;m<s;m++)(u=this.b.ti(b.sm[m]))&&a.za.push(u);for(c in b.sols)if(b.sols.hasOwnProperty(c)&&(u=this.b.ti(parseInt(c,10)))){t=b.sols[c];f={pp:t.sa,We:[]};m=0;for(s=t.insts.length;m<s;m++)(l=
this.b.si(t.insts[m]))&&f.We.push(l);a.Xb[u.index.toString()]=f}this.Zb.push(a)}}};
(function(){function h(){}function g(){}function e(){}var m=X.prototype;h.prototype.Jq=function(){return!0};h.prototype.Iq=function(){return!0};h.prototype.lq=function(b){var a=this.b.vk(),c=a.B.Every_lastTime||0,e=this.b.mc.ga;"undefined"===typeof a.B.Every_seconds&&(a.B.Every_seconds=b);var f=a.B.Every_seconds;if(e>=c+f)return a.B.Every_lastTime=c+f,e>=a.B.Every_lastTime+.04&&(a.B.Every_lastTime=e),a.B.Every_seconds=b,!0;e<c-.1&&(a.B.Every_lastTime=e);return!1};h.prototype.kq=function(){var b=this.b.Bb();
return b.ik?!1:!b.$e};h.prototype.zm=function(){return!0};h.prototype.vq=function(){return!0};h.prototype.Mj=function(){return!0};h.prototype.Kq=function(){return!0};h.prototype.Lj=function(){return!0};h.prototype.fq=function(b,a,c){return Oa(U(b),U(c))<=U(a)};h.prototype.oq=function(b,a){return Qa(U(b),U(a))};h.prototype.nq=function(b,a,c){b=Na(b);a=Na(a);c=Na(c);return Qa(c,a)?Qa(b,a)&&!Qa(b,c):!(!Qa(b,a)&&Qa(b,c))};m.i=new h;g.prototype.mq=function(b){this.b.Ug||this.b.vg||(this.b.vg=b)};g.prototype.jq=
function(b,a,c,e){if(a&&b&&(a=this.b.jn(b,a,c,e))){this.b.Tc++;var f;this.b.trigger(Object.getPrototypeOf(b.ka).i.Jj,a);if(a.lc)for(c=0,e=a.siblings.length;c<e;c++)f=a.siblings[c],this.b.trigger(Object.getPrototypeOf(f.type.ka).i.Jj,f);this.b.Tc--;b=b.aa();b.ma=!1;b.d.length=1;b.d[0]=a;if(a.lc)for(c=0,e=a.siblings.length;c<e;c++)f=a.siblings[c],b=f.type.aa(),b.ma=!1,b.d.length=1,b.d[0]=f}};var s=[],c=[];g.prototype.Wq=function(b,a){if(b){var c=xa(a),e=Aa(a),f=Ba(a);if(b.Pb[0]!==c||b.Pb[1]!==e||b.Pb[2]!==
f)b.Pb[0]=c,b.Pb[1]=e,b.Pb[2]=f,this.b.la=!0}};m.Ha=new g;e.prototype["int"]=function(b,a){S(a)?(b.fa(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.fa(a)};e.prototype["float"]=function(b,a){S(a)?(b.r(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.r(a)};e.prototype.random=function(b,a,c){void 0===c?b.r(Math.random()*a):b.r(Math.random()*(c-a)+a)};e.prototype.sqrt=function(b,a){b.r(Math.sqrt(a))};e.prototype.abs=function(b,a){b.r(Math.abs(a))};e.prototype.round=function(b,a){b.fa(Math.round(a))};e.prototype.floor=
function(b,a){b.fa(Math.floor(a))};e.prototype.ceil=function(b,a){b.fa(Math.ceil(a))};e.prototype.sin=function(b,a){b.r(Math.sin(U(a)))};e.prototype.cos=function(b,a){b.r(Math.cos(U(a)))};e.prototype.tan=function(b,a){b.r(Math.tan(U(a)))};e.prototype.asin=function(b,a){b.r(Ia(Math.asin(a)))};e.prototype.acos=function(b,a){b.r(Ia(Math.acos(a)))};e.prototype.atan=function(b,a){b.r(Ia(Math.atan(a)))};e.prototype.exp=function(b,a){b.r(Math.exp(a))};e.prototype.log10=function(b,a){b.r(Math.log(a)/Math.LN10)};
e.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,e,f;c=2;for(e=arguments.length;c<e;c++)f=arguments[c],"number"===typeof f&&a<f&&(a=f);b.r(a)};e.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,e,f;c=2;for(e=arguments.length;c<e;c++)f=arguments[c],"number"===typeof f&&a>f&&(a=f);b.r(a)};e.prototype.Ne=function(b){b.r(this.b.Ne)};e.prototype.hg=function(b){b.r(this.b.hg)};e.prototype.time=function(b){b.r(this.b.mc.ga)};e.prototype.td=function(b){b.fa(this.b.td)};
e.prototype.Xi=function(b){b.fa(this.b.Xi)};e.prototype.rk=function(b){b.fa(this.b.rk)};e.prototype.k=function(b,a,c,e,f){b.r(Ia(V(a,c,e,f)))};e.prototype.find=function(b,a,c){S(a)&&S(c)?b.fa(a.search(new RegExp(cb(c),"i"))):b.fa(-1)};e.prototype.left=function(b,a,c){b.mb(S(a)?a.substr(0,c):"")};e.prototype.right=function(b,a,c){b.mb(S(a)?a.substr(a.length-c):"")};e.prototype.replace=function(b,a,c,e){S(a)&&S(c)&&S(e)?b.mb(a.replace(new RegExp(cb(c),"gi"),e)):b.mb(S(a)?a:"")};e.prototype.trim=function(b,
a){b.mb(S(a)?a.trim():"")};e.prototype.xr=function(b){var a=T(Math.random()*(arguments.length-1));b.Cu(arguments[a+1])};e.prototype.ou=function(b,a,c,e){b.fa(wa(a,c,e))};e.prototype.bk=function(b){b.r(this.b.bk/1E3)};e.prototype.Qf=function(b){b.r(this.b.Qf)};m.$a=new e;m.pu=function(){var b,a,e,g,f,h,m=this.b.Bb();b=0;for(e=this.Zb.length;b<e;b++){g=this.Zb[b];if(-1===g.time){if(!g.Ap)continue}else if(g.time>this.b.mc.ga)continue;m.vc=g.Ag;m.rc=g.rc;m.Ra=0;for(a in g.Xb)g.Xb.hasOwnProperty(a)&&(f=
this.b.q[parseInt(a,10)].aa(),h=g.Xb[a],f.ma=h.pp,Ea(f.d,h.We),f=h,f.We.length=0,c.push(f));g.Ag.mu();this.b.$j(g.za);g.nn=!0}a=b=0;for(e=this.Zb.length;b<e;b++)g=this.Zb[b],this.Zb[a]=g,g.nn?(Wa(g.Xb),g.za.length=0,s.push(g)):a++;this.Zb.length=a}})();
(function(){mb=function(g,e){var h=g[1],s=g[3],c=g[4],b=g[5],a=g[6],u=g[7],t=g[8];e.i||(e.i={});e.Ha||(e.Ha={});e.$a||(e.$a={});var f=e.i,l=e.Ha,w=e.$a;s&&(f.$u=function(a,b){return ac(this.x,a,b)},f.av=function(a,b){return ac(this.y,a,b)},f.jv=function(){var a=this.j;this.na();var b=this.wa;return!(b.right<a.ta||b.bottom<a.ua||b.left>a.Ba||b.top>a.Aa)},f.kv=function(){this.na();var a=this.wa,b=this.b.qa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},f.wv=function(a,b,c){var e=this.aa(),
f=e.hc();if(!f.length)return!1;var g=f[0],d=g,h=W(g.x,g.y,b,c),k,l,m;k=1;for(l=f.length;k<l;k++)if(g=f[k],m=W(g.x,g.y,b,c),0===a&&m<h||1===a&&m>h)h=m,d=g;e.ph(d);return!0},l.Qv=function(a){this.x!==a&&(this.x=a,this.V())},l.Rv=function(a){this.y!==a&&(this.y=a,this.V())},l.Lv=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.V()},l.Mv=function(a,b){var c=a.Ps(this);if(c){var e;c.zk?(e=c.zk(b,!0),c=c.zk(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.V()}},l.pv=function(a){0!==
a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.V())},l.ov=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.V())},w.Im=function(a){a.r(this.x)},w.Jm=function(a){a.r(this.y)},w.Ne=function(a){a.r(this.b.wk(this))});c&&(f.Zu=function(a,b){return ac(this.width,a,b)},f.Xu=function(a,b){return ac(this.height,a,b)},l.Xq=function(a){this.width!==a&&(this.width=a,this.V())},l.Iv=function(a){this.height!==a&&(this.height=a,this.V())},l.Nv=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.V()},w.Uv=function(a){a.r(this.width)},w.dv=function(a){a.r(this.height)},w.Tu=function(a){this.na();a.r(this.wa.left)},w.Vu=function(a){this.na();a.r(this.wa.top)},w.Uu=function(a){this.na();a.r(this.wa.right)},w.Su=function(a){this.na();a.r(this.wa.bottom)});b&&(f.fq=function(a,b){return Oa(this.k,U(b))<=U(a)},f.oq=function(a){return Qa(this.k,U(a))},f.nq=function(a,b){var c=Na(a),e=Na(b),f=La(this.k);return Qa(e,c)?Qa(f,c)&&!Qa(f,e):!(!Qa(f,c)&&
Qa(f,e))},l.Ev=function(a){a=U(Ka(a));isNaN(a)||this.k===a||(this.k=a,this.V())},l.Av=function(a){0===a||isNaN(a)||(this.k+=U(a),this.k=La(this.k),this.V())},l.Bv=function(a){0===a||isNaN(a)||(this.k-=U(a),this.k=La(this.k),this.V())},l.Cv=function(a,b){var c=Pa(this.k,U(b),U(a));isNaN(c)||this.k===c||(this.k=c,this.V())},l.Dv=function(a,b,c){a=Pa(this.k,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.k===a||(this.k=a,this.V())},l.Ov=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.k===c||(this.k=c,this.V())},w.Ru=function(a){a.r(Ma(this.k))});h||(f.iq=function(a,b,c){return ac(this.Ta[a],b,c)},f.hv=function(a){return this.Ta[a]},f.xv=function(a,b){var c=this.aa(),e=c.hc();if(!e.length)return!1;var f=e[0],g=f,d=f.Ta[b],h,k,m;h=1;for(k=e.length;h<k;h++)if(f=e[h],m=f.Ta[b],0===a&&m<d||1===a&&m>d)d=m,g=f;c.ph(g);return!0},f.vv=function(a){var b,c,e,f,g;if(this.b.vk().Pk){g=this.aa();if(g.ma)for(g.ma=!1,g.d.length=0,g.W.length=0,e=this.d,b=0,c=e.length;b<c;b++)f=e[b],f.uid===
a?g.W.push(f):g.d.push(f);else{e=b=0;for(c=g.d.length;b<c;b++)f=g.d[b],g.d[e]=f,f.uid===a?g.W.push(f):e++;g.d.length=e}this.Mc();return!!g.d.length}f=this.b.si(a);if(!f)return!1;g=this.aa();if(!g.ma&&-1===g.d.indexOf(f))return!1;if(this.A)for(a=f.type.xa,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.ph(f),this.Mc(),!0}else if(f.type===this)return g.ph(f),this.Mc(),!0;return!1},f.Jj=function(){return!0},f.xq=function(){return!0},l.Jv=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):
S(c[a])&&(c[a]=S(b)?b:b.toString())},l.dq=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):S(c[a])&&(c[a]=S(b)?c[a]+b:c[a]+b.toString())},l.Yq=function(a,b){var c=this.Ta;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},l.Fv=function(a,b){this.Ta[a]=b?1:0},l.Sv=function(a){this.Ta[a]=1-this.Ta[a]},l.cv=function(){this.b.Fe(this)},l.qq||(l.qq=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.Pi(this,b,!0);this.xd&&this.xd();if(this.L)for(a=0,b=this.L.length;a<
b;++a)c=this.L[a],c.xd&&c.xd()}),w.bv=function(a){var b=a.jf.d.length,c,e,f;c=0;for(e=this.b.Qc.length;c<e;c++)f=this.b.Qc[c],a.jf.A?0<=f.type.xa.indexOf(a.jf)&&b++:f.type===a.jf&&b++;a.fa(b)},w.zv=function(a){a.fa(a.jf.aa().hc().length)},w.Tv=function(a){a.fa(this.uid)},w.gv=function(a){a.fa(this.Hg())},w.xm||(w.xm=function(a){a.mb(JSON.stringify(this.b.Sl(this,!0)))}));a&&(f.lv=function(){return this.visible},l.Pv=function(a){!a!==!this.visible&&(this.visible=a,this.b.la=!0)},f.Yu=function(a,b){return ac(ib(100*
this.opacity),a,b)},l.Kv=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.la=!0)},w.Opacity=function(a){a.r(ib(100*this.opacity))});u&&(f.iv=function(a){return a?this.j===a:!1},f.yv=function(a){var b=this.aa(),c=b.hc();if(!c.length)return!1;var e=c[0],f=e,g,d;g=1;for(d=c.length;g<d;g++)if(e=c[g],0===a){if(e.j.index>f.j.index||e.j.index===f.j.index&&e.hd()>f.hd())f=e}else if(e.j.index<f.j.index||e.j.index===f.j.index&&e.hd()<f.hd())f=e;b.ph(f);return!0},l.sv=function(){var a=
this.j,b=a.d;b.length&&b[b.length-1]===this||(a.$f(this,!1),a.rg(this,!1),this.b.la=!0)},l.qv=function(){var a=this.j,b=a.d;b.length&&b[0]===this||(a.$f(this,!1),a.bu(this),this.b.la=!0)},l.rv=function(a){a&&a!=this.j&&(this.j.$f(this,!0),this.j=a,a.rg(this,!0),this.b.la=!0)},l.Wv=function(a,b){var c=0===a;if(b){var e=b.Ks(this);e&&e.uid!==this.uid&&(this.j.index!==e.j.index&&(this.j.$f(this,!0),this.j=e.j,e.j.rg(this,!0)),this.j.Jt(this,e,c),this.b.la=!0)}},w.nv=function(a){a.fa(this.j.Mo)},w.mv=
function(a){a.mb(this.j.name)},w.Vv=function(a){a.fa(this.hd())});t&&(l.Gv=function(a,b){if(this.b.n){var c=this.type.yk(b);if(!(0>c)){var e=1===a;this.Yd[c]!==e&&(this.Yd[c]=e,this.Ud(),this.b.la=!0)}}},l.Hv=function(a,b,c){if(this.b.n){var e=this.type.yk(a);0>e||(a=this.type.G[e],e=this.Da[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.n.Us(a.nb,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.cc&&(this.b.la=!0))))}})};Gb=function(){this.Wj=this.Qj=!0;this.type.Kh=!0;this.b.la=!0;var g,e,h=this.Rj;g=0;for(e=
h.length;g<e;++g)h[g](this);this.j.bd&&this.na()};Hb=function(g){g&&this.Rj.push(g)};Jb=function(){if(this.Qj){var g=this.wa,e=this.gb;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.Ib*this.width,-this.Jb*this.height);this.k?(g.offset(-this.x,-this.y),e.wp(g,this.k),e.offset(this.x,this.y),e.Xm(g)):e.nf(g);g.normalize();this.Qj=!1;this.Nu()}};var h=new ua(0,0,0,0);Kb=function(){if(this.j.bd){var g=this.j.Wb,e=this.wa;h.set(g.$b(e.left),g.ac(e.top),g.$b(e.right),g.ac(e.bottom));
this.Mb.hi(h)||(this.Mb.right<this.Mb.left?g.update(this,null,h):g.update(this,this.Mb,h),this.Mb.Yh(h),this.j.Od=!0)}};Lb=function(){if(this.Wj&&this.Ad){this.na();var g=this.type.Vh,e=this.wa;h.set(g.$b(e.left),g.ac(e.top),g.$b(e.right),g.ac(e.bottom));this.be.hi(h)||(this.be.right<this.be.left?g.update(this,null,h):g.update(this,this.be,h),this.be.Yh(h),this.Wj=!1)}};Ib=function(g,e){return this.wa.zb(g,e)&&this.gb.zb(g,e)?this.H&&!this.H.le()?(this.H.$d(this.width,this.height,this.k),this.H.zb(g-
this.x,e-this.y)):!0:!1};Cb=function(){this.type.Cj();return this.Ue};Mb=function(){this.j.om();return this.cd};Nb=function(){this.Z.length=0;var g,e;g=0;for(e=this.Yd.length;g<e;g++)this.Yd[g]&&this.Z.push(this.type.G[g]);this.aq=!!this.Z.length};Db=function(){return"Inst"+this.jp};pb=function(g){if(g&&g.lc&&g.type!=this){var e,h,s;e=0;for(h=g.siblings.length;e<h;e++)if(s=g.siblings[e],s.type==this)return s}g=this.aa().hc();return g.length?g[0]:null};qb=function(g){var e=this.aa().hc();return e.length?
e[g.Hg()%e.length]:null};ob=function(){if(this.fg&&!this.A){var g,e;g=0;for(e=this.d.length;g<e;g++)this.d[g].Ue=g;var h=g,s=this.b.Qc;g=0;for(e=s.length;g<e;++g)s[g].type===this&&(s[g].Ue=h++);this.fg=!1}};Ab=function(g){if(g<this.d.length)return this.d[g];g-=this.d.length;var e=this.b.Qc,h,s;h=0;for(s=e.length;h<s;++h)if(e[h].type===this){if(0===g)return e[h];--g}return null};rb=function(){return this.Be[this.Ed]};sb=function(){this.Ed++;this.Ed===this.Be.length?this.Be.push(new nb(this)):this.Be[this.Ed].ma=
!0};ub=function(){this.Ed++;this.Ed===this.Be.length&&this.Be.push(new nb(this));var g=this.Be[this.Ed],e=this.Be[this.Ed-1];e.ma?g.ma=!0:(g.ma=!1,Ea(g.d,e.d),Ea(g.W,e.W))};vb=function(){this.Ed--};wb=function(g){var e,h,s,c,b,a=0;if(!this.A)for(e=0,h=this.xa.length;e<h;e++)for(b=this.xa[e],s=0,c=b.Ma.length;s<c;s++){if(g===b.Ma[s].name)return this.B.lastBehIndex=a,b.Ma[s];a++}e=0;for(h=this.Ma.length;e<h;e++){if(g===this.Ma[e].name)return this.B.lastBehIndex=a,this.Ma[e];a++}return null};xb=function(g){return this.qi(g)?
this.B.lastBehIndex:-1};yb=function(g){var e,h;e=0;for(h=this.G.length;e<h;e++)if(this.G[e].name===g)return e;return-1};zb=function(){if(this.lc&&!this.A){var g,e,h,s,c,b,a;this.Cj();b=this.aa();var u=b.ma,t=(g=this.b.Bb())&&g.vc&&g.vc.Xc;g=0;for(e=this.Qb.length;g<e;g++)if(c=this.Qb[g],c!==this&&(c.Cj(),a=c.aa(),a.ma=u,!u)){a.d.length=b.d.length;h=0;for(s=b.d.length;h<s;h++)a.d[h]=c.En(b.d[h].Ue);if(t)for(a.W.length=b.W.length,h=0,s=b.W.length;h<s;h++)a.W[h]=c.En(b.W[h].Ue)}}};Bb=function(){return"Type"+
this.T};ac=function(g,e,h){if("undefined"===typeof g||"undefined"===typeof h)return!1;switch(e){case 0:return g===h;case 1:return g!==h;case 2:return g<h;case 3:return g<=h;case 4:return g>h;case 5:return g>=h;default:return!1}}})();var jc={};function nc(h){this.b=h}
(function(){function h(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function g(a){a=a.toLowerCase();return O.hasOwnProperty(a)&&O[a].length?O[a][0].gc():A.destination}function e(){return A.createGain?A.createGain():A.createGainNode()}function m(a){return A.createDelay?A.createDelay(a):A.createDelayNode(a)}function s(a){a.start?a.start(0):a.noteOn(0)}function c(a,b,d){a.start?a.start(0,b):a.noteGrainOn(0,b,d-b)}function b(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function a(a,
b,d,c,k,f){this.type="filter";this.Yc=[a,b,d,c,k,f];this.U=e();this.F=e();this.F.gain.value=f;this.C=e();this.C.gain.value=1-f;this.Na=A.createBiquadFilter();this.Na.type="number"===typeof this.Na.type?a:zc[a];this.Na.frequency.value=b;this.Na.detune&&(this.Na.detune.value=d);this.Na.Q.value=c;this.Na.gain.value=k;this.U.connect(this.Na);this.U.connect(this.C);this.Na.connect(this.F)}function u(a,b,d){this.type="delay";this.Yc=[a,b,d];this.U=e();this.F=e();this.F.gain.value=d;this.C=e();this.C.gain.value=
1-d;this.hh=e();this.xc=m(a);this.xc.delayTime.value=a;this.ei=e();this.ei.gain.value=b;this.U.connect(this.hh);this.U.connect(this.C);this.hh.connect(this.F);this.hh.connect(this.xc);this.xc.connect(this.ei);this.ei.connect(this.hh)}function t(a,b,d,c){this.type="convolve";this.Yc=[b,d,c];this.U=e();this.F=e();this.F.gain.value=d;this.C=e();this.C.gain.value=1-d;this.Ke=A.createConvolver();a&&(this.Ke.normalize=b,this.Ke.buffer=a);this.U.connect(this.Ke);this.U.connect(this.C);this.Ke.connect(this.F)}
function f(a,b,d,c,k){this.type="flanger";this.Yc=[a,b,d,c,k];this.U=e();this.C=e();this.C.gain.value=1-k/2;this.F=e();this.F.gain.value=k/2;this.ki=e();this.ki.gain.value=c;this.xc=m(a+b);this.xc.delayTime.value=a;this.cb=A.createOscillator();this.cb.frequency.value=d;this.Ub=e();this.Ub.gain.value=b;this.U.connect(this.xc);this.U.connect(this.C);this.xc.connect(this.F);this.xc.connect(this.ki);this.ki.connect(this.xc);this.cb.connect(this.Ub);this.Ub.connect(this.xc.delayTime);s(this.cb)}function l(a,
b,d,c,k,f){this.type="phaser";this.Yc=[a,b,d,c,k,f];this.U=e();this.C=e();this.C.gain.value=1-f/2;this.F=e();this.F.gain.value=f/2;this.Na=A.createBiquadFilter();this.Na.type="number"===typeof this.Na.type?7:"allpass";this.Na.frequency.value=a;this.Na.detune&&(this.Na.detune.value=b);this.Na.Q.value=d;this.cb=A.createOscillator();this.cb.frequency.value=k;this.Ub=e();this.Ub.gain.value=c;this.U.connect(this.Na);this.U.connect(this.C);this.Na.connect(this.F);this.cb.connect(this.Ub);this.Ub.connect(this.Na.frequency);
s(this.cb)}function w(a){this.type="gain";this.Yc=[a];this.Y=e();this.Y.gain.value=a}function r(a,b){this.type="tremolo";this.Yc=[a,b];this.Y=e();this.Y.gain.value=1-b/2;this.cb=A.createOscillator();this.cb.frequency.value=a;this.Ub=e();this.Ub.gain.value=b/2;this.cb.connect(this.Ub);this.Ub.connect(this.Y.gain);s(this.cb)}function v(a,b){this.type="ringmod";this.Yc=[a,b];this.U=e();this.F=e();this.F.gain.value=b;this.C=e();this.C.gain.value=1-b;this.uh=e();this.uh.gain.value=0;this.cb=A.createOscillator();
this.cb.frequency.value=a;this.cb.connect(this.uh.gain);s(this.cb);this.U.connect(this.uh);this.U.connect(this.C);this.uh.connect(this.F)}function y(a,b,d,c,k){this.type="distortion";this.Yc=[a,b,d,c,k];this.U=e();this.ej=e();this.dj=e();this.wu(d,Math.pow(10,c/20));this.F=e();this.F.gain.value=k;this.C=e();this.C.gain.value=1-k;this.Gj=A.createWaveShaper();this.ci=new Float32Array(65536);this.Hs(a,b);this.Gj.ci=this.ci;this.U.connect(this.ej);this.U.connect(this.C);this.ej.connect(this.Gj);this.Gj.connect(this.dj);
this.dj.connect(this.F)}function B(a,b,d,c,e){this.type="compressor";this.Yc=[a,b,d,c,e];this.Y=A.createDynamicsCompressor();try{this.Y.threshold.value=a,this.Y.knee.value=b,this.Y.ratio.value=d,this.Y.attack.value=c,this.Y.release.value=e}catch(k){}}function p(a,b){this.type="analyser";this.Yc=[a,b];this.Y=A.createAnalyser();this.Y.fftSize=a;this.Y.smoothingTimeConstant=b;this.Fs=new Float32Array(this.Y.frequencyBinCount);this.zp=new Uint8Array(a);this.oh=0}function q(){this.D=null;this.Si=0;this.Ce=
[];this.pl=this.Hi=this.Gi=0}function d(a,b){this.src=a;this.J=D;this.Vc=b;this.Sm=!1;var d=this;this.nl=this.Dl=null;this.Yf=[];this.mj=0;this.um=this.nk=this.Fp=this.$i=!1;1===D&&b&&(this.J=0,this.Dl=e());this.Ie=this.da=null;var c;switch(this.J){case 0:this.da=new Audio;this.da.addEventListener("canplaythrough",function(){d.um=!0});1===D&&A.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Fp=!0,this.da.addEventListener("canplay",function(){d.nl||(d.nl=A.createMediaElementSource(d.da),
d.nl.connect(d.Dl))}));this.da.autoplay=!1;this.da.fw="auto";this.da.src=a;break;case 1:c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){d.Ie=c.response;d.Fr()};c.onerror=function(){d.nk=!0};c.send();break;case 2:this.da=!0;break;case 3:this.da=!0}}function n(a,b){var d=this;this.tag=b;this.Yb=this.gd=!0;this.src=a.src;this.buffer=a;this.J=D;this.Vc=a.Vc;this.playbackRate=1;this.ak=!0;this.Bc=this.Pd=!1;this.Nb=0;this.Sg=this.Jf=this.jd=!1;this.volume=1;this.Ye=
1===M&&!this.Vc||2===M;this.Uf=1;this.startTime=this.Ye?z.mc.ga:z.wd.ga;this.Ka=this.Sa=null;this.ld=!1;this.Ja=null;this.Zo=this.Yo=this.Xo=this.Wo=this.bp=this.$o=0;this.m=null;var c=!1;1!==this.J||0!==this.buffer.J||this.buffer.Fp||(this.J=0);switch(this.J){case 0:this.Vc?(this.m=a.da,c=!a.Sm,a.Sm=!0):(this.m=new Audio,this.m.autoplay=!1,this.m.src=a.da.src,c=!0);c&&this.m.addEventListener("ended",function(){oa=d.tag;d.Yb=!0;z.trigger(nc.prototype.i.Kj,x)});break;case 1:this.Sa=e();this.Sa.connect(g(b));
1===this.buffer.J?a.da&&(this.m=A.createBufferSource(),this.m.buffer=a.da,this.m.connect(this.Sa)):(this.m=this.buffer.da,this.buffer.Dl.connect(this.Sa));break;case 2:this.m=new window.Media(H+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(d.ak=!0,d.Yb=!0,oa=d.tag,z.trigger(nc.prototype.i.Kj,x))});break;case 3:this.m=!0}}function k(a,b){O.hasOwnProperty(a)?O[a].push(b):O[a]=[b];var d,c,e,k,f=A.destination;if(O.hasOwnProperty(a)&&(e=O[a],e.length))for(f=e[0].gc(),d=0,c=e.length;d<
c;d++)k=e[d],d+1===c?k.sc(A.destination):k.sc(e[d+1].gc());Ja.length=0;if(a.length)for(d=0,c=J.length;d<c;d++)e=J[d],jb(a,e.tag)&&Ja.push(e);else Q&&!Q.Te()&&(Ja.length=1,Ja[0]=Q);d=0;for(c=Ja.length;d<c;d++)Ja[d].iu(f);fa&&tb===a&&(fa.disconnect(),fa.connect(f))}function C(){}function Y(){}var N=nc.prototype;N.pa=function(a){this.ka=a;this.b=a.b};N.pa.prototype.P=function(){};var z=null,x=null,oa="",H="",D=0,A=null,F=[],J=[],Q=null,E=!1,M=0,R=!1,G=1,K=0,I=0,pa=1,L=1,ta=10,la=1E4,ya=1,fa=null,tb=
"",Z=!1,za=[],O={},zc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");a.prototype.sc=function(a){this.F.disconnect();this.F.connect(a);this.C.disconnect();this.C.connect(a)};a.prototype.remove=function(){this.U.disconnect();this.Na.disconnect();this.F.disconnect();this.C.disconnect()};a.prototype.gc=function(){return this.U};u.prototype.sc=function(a){this.F.disconnect();this.F.connect(a);this.C.disconnect();this.C.connect(a)};u.prototype.remove=function(){this.U.disconnect();
this.hh.disconnect();this.xc.disconnect();this.ei.disconnect();this.F.disconnect();this.C.disconnect()};u.prototype.gc=function(){return this.U};t.prototype.sc=function(a){this.F.disconnect();this.F.connect(a);this.C.disconnect();this.C.connect(a)};t.prototype.remove=function(){this.U.disconnect();this.Ke.disconnect();this.F.disconnect();this.C.disconnect()};t.prototype.gc=function(){return this.U};f.prototype.sc=function(a){this.C.disconnect();this.C.connect(a);this.F.disconnect();this.F.connect(a)};
f.prototype.remove=function(){this.U.disconnect();this.xc.disconnect();this.cb.disconnect();this.Ub.disconnect();this.C.disconnect();this.F.disconnect();this.ki.disconnect()};f.prototype.gc=function(){return this.U};l.prototype.sc=function(a){this.C.disconnect();this.C.connect(a);this.F.disconnect();this.F.connect(a)};l.prototype.remove=function(){this.U.disconnect();this.Na.disconnect();this.cb.disconnect();this.Ub.disconnect();this.C.disconnect();this.F.disconnect()};l.prototype.gc=function(){return this.U};
w.prototype.sc=function(a){this.Y.disconnect();this.Y.connect(a)};w.prototype.remove=function(){this.Y.disconnect()};w.prototype.gc=function(){return this.Y};r.prototype.sc=function(a){this.Y.disconnect();this.Y.connect(a)};r.prototype.remove=function(){this.cb.disconnect();this.Ub.disconnect();this.Y.disconnect()};r.prototype.gc=function(){return this.Y};v.prototype.sc=function(a){this.F.disconnect();this.F.connect(a);this.C.disconnect();this.C.connect(a)};v.prototype.remove=function(){this.cb.disconnect();
this.uh.disconnect();this.U.disconnect();this.F.disconnect();this.C.disconnect()};v.prototype.gc=function(){return this.U};y.prototype.wu=function(a,b){.01>a&&(a=.01);this.ej.gain.value=a;this.dj.gain.value=Math.pow(1/a,.6)*b};y.prototype.shape=function(a,b,d){var c=1.05*d*b-b;d=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+c*(1-Math.exp(-(1/c)*(a-b)));return b*d};y.prototype.Hs=function(a,b){for(var d=Math.pow(10,a/20),c=Math.pow(10,b/20),e=0,k=0;32768>k;++k)e=k/32768,e=this.shape(e,d,c),this.ci[32768+k]=e,this.ci[32768-
k-1]=-e};y.prototype.sc=function(a){this.F.disconnect();this.F.connect(a);this.C.disconnect();this.C.connect(a)};y.prototype.remove=function(){this.U.disconnect();this.ej.disconnect();this.Gj.disconnect();this.dj.disconnect();this.F.disconnect();this.C.disconnect()};y.prototype.gc=function(){return this.U};B.prototype.sc=function(a){this.Y.disconnect();this.Y.connect(a)};B.prototype.remove=function(){this.Y.disconnect()};B.prototype.gc=function(){return this.Y};p.prototype.fb=function(){this.Y.getFloatFrequencyData(this.Fs);
this.Y.getByteTimeDomainData(this.zp);for(var a=this.Y.fftSize,b=0,d=this.oh=0,c=0;b<a;b++)c=(this.zp[b]-128)/128,0>c&&(c=-c),this.oh<c&&(this.oh=c),d+=c*c;this.oh=h(this.oh);h(Math.sqrt(d/a))};p.prototype.sc=function(a){this.Y.disconnect();this.Y.connect(a)};p.prototype.remove=function(){this.Y.disconnect()};p.prototype.gc=function(){return this.Y};q.prototype.vh=function(a){if(this.D=a)this.Gi=this.D.x,this.Hi=this.D.y;this.Ce.length=0};q.prototype.xi=function(){return!!this.D};q.prototype.fb=function(a){this.D&&
0!==a&&(this.pl=V(this.Gi,this.Hi,this.D.x,this.D.y),a=W(this.Gi,this.Hi,this.D.x,this.D.y)/a,4>this.Ce.length||this.Ce.shift(),this.Ce.push(a),this.Gi=this.D.x,this.Hi=this.D.y)};q.prototype.Jn=function(){if(!this.Ce.length)return 0;var a,b,d=0;a=0;for(b=this.Ce.length;a<b;a++)d+=this.Ce[a];return d/this.Ce.length};q.prototype.Ck=function(){return Math.cos(this.pl)*this.Jn()};q.prototype.Dk=function(){return Math.sin(this.pl)*this.Jn()};var tc=!1;d.prototype.Fr=function(){if(!this.da&&this.Ie){var a=
this;if(A.decodeAudioData)A.decodeAudioData(this.Ie,function(b){a.da=b;a.Ie=null;var d,c,e;if(ea(a.aj)||R)ea(a.Xh)||(d=a.Xh.Ke,d.normalize=a.Lo,d.buffer=b);else if(a.Yf.length){d=0;for(c=a.Yf.length;d<c;d++){b=a.Yf[d];e=new n(a,b.Kp);e.Wl(!0);if("undefined"!==typeof b.No&&(b.D=z.si(b.No),!b.D))continue;if(b.D){var k=Ta(b.D.x,b.D.y,-b.D.j.Oa(),K,I,!0),f=Ta(b.D.x,b.D.y,-b.D.j.Oa(),K,I,!1);e.Vl(k,f,Ia(b.D.k-b.D.j.Oa()),b.Ik,b.sl,b.wl);e.vh(b.D)}else e.Vl(b.x,b.y,b.cr,b.Ik,b.sl,b.wl);e.play(a.ll,a.rm,
a.mj);a.$i&&e.pause();J.push(e)}a.Yf.length=0}else e=new n(a,a.aj),e.play(a.ll,a.rm,a.mj),a.$i&&e.pause(),J.push(e)},function(){a.nk=!0});else if(this.da=A.createBuffer(this.Ie,!1),this.Ie=null,ea(this.aj)||R)ea(this.Xh)||(b=this.Xh.Ke,b.normalize=this.Lo,b.buffer=this.da);else{var b=new n(this,this.aj);b.play(this.ll,this.rm,this.mj);this.$i&&b.pause();J.push(b)}}};d.prototype.Un=function(){switch(this.J){case 0:var a=4<=this.da.readyState;a&&(this.um=!0);return a||this.um;case 1:return!!this.Ie||
!!this.da;case 2:return!0;case 3:return!0}return!1};d.prototype.zt=function(){switch(this.J){case 0:return this.Un();case 1:return!!this.da;case 2:return!0;case 3:return!0}return!1};d.prototype.nt=function(){switch(this.J){case 0:return!!this.da.error;case 1:return this.nk}return!1};n.prototype.Te=function(){var a;switch(this.J){case 0:return this.m.ended;case 1:if(1===this.buffer.J){if(!this.gd&&!this.Yb&&this.m.loop||this.Bc)return!1;a=this.Ye?z.mc.ga:z.wd.ga;var b=this.playbackRate;0===b&&(b=1E-6);
return a-this.startTime>this.buffer.da.duration/b}return this.m.ended;case 2:return this.ak;case 3:!0}return!0};n.prototype.tr=function(){return this.gd||this.Yb?!0:this.Te()};n.prototype.Wl=function(a){1===D&&(!this.ld&&a?this.Sa&&(this.Ka||(this.Ka=A.createPanner(),this.Ka.panningModel="number"===typeof this.Ka.panningModel?pa:["equalpower","HRTF","soundfield"][pa],this.Ka.distanceModel="number"===typeof this.Ka.distanceModel?L:["linear","inverse","exponential"][L],this.Ka.refDistance=ta,this.Ka.maxDistance=
la,this.Ka.rolloffFactor=ya),this.Sa.disconnect(),this.Sa.connect(this.Ka),this.Ka.connect(g(this.tag)),this.ld=!0):this.ld&&!a&&this.Sa&&(this.Ka.disconnect(),this.Sa.disconnect(),this.Sa.connect(g(this.tag)),this.ld=!1))};n.prototype.Vl=function(a,b,d,c,e,k){this.ld&&1===D&&(this.Ka.setPosition(a,b,0),this.Ka.setOrientation(Math.cos(U(d)),Math.sin(U(d)),0),this.Ka.coneInnerAngle=c,this.Ka.coneOuterAngle=e,this.Ka.coneOuterGain=k,this.$o=a,this.bp=b,this.Wo=d,this.Xo=c,this.Yo=e,this.Zo=k)};n.prototype.vh=
function(a){this.ld&&1===D&&(this.Ja||(this.Ja=new q),this.Ja.vh(a))};n.prototype.fb=function(a){if(this.ld&&1===D&&this.Ja&&this.Ja.xi()&&this.Gf()){this.Ja.fb(a);a=this.Ja.D;var b=Ta(a.x,a.y,-a.j.Oa(),K,I,!0),d=Ta(a.x,a.y,-a.j.Oa(),K,I,!1);this.Ka.setPosition(b,d,0);b=0;"undefined"!==typeof this.Ja.D.k&&(b=a.k-a.j.Oa(),this.Ka.setOrientation(Math.cos(b),Math.sin(b),0));b=Ta(this.Ja.Ck(),this.Ja.Dk(),-a.j.Oa(),0,0,!0);d=Ta(this.Ja.Ck(),this.Ja.Dk(),-a.j.Oa(),0,0,!1);this.Ka.setVelocity(b,d,0)}};
n.prototype.play=function(a,b,d){var e=this.m;this.jd=a;this.volume=b;d=d||0;switch(this.J){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*G&&(e.volume=b*G);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==d)try{e.currentTime=d}catch(k){}if(this.Vc&&Z&&!z.Ia)za.push(this);else try{this.m.play()}catch(f){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",f)}break;case 1:this.muted=!1;this.Uf=1;if(1===this.buffer.J)this.Sa.gain.value=
b*G,this.gd||(this.m=A.createBufferSource(),this.m.buffer=this.buffer.da,this.m.connect(this.Sa)),this.m.loop=a,0===d?s(this.m):c(this.m,d,this.Re());else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=b*G;if(e.currentTime!==d)try{e.currentTime=d}catch(g){}this.Vc&&Z&&!z.Ia?za.push(this):e.play()}break;case 2:(!this.gd&&this.Yb||0!==d)&&e.seekTo(d);e.play();this.ak=!1;break;case 3:z.kb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.Ye?z.mc.ga:z.wd.ga)-d;this.Bc=this.Yb=this.gd=!1};n.prototype.stop=function(){switch(this.J){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.J?b(this.m):this.m.paused||this.m.pause();break;case 2:this.m.stop();break;case 3:z.kb&&AppMobi.context.stopSound(this.src)}this.Yb=!0;this.Bc=!1};n.prototype.pause=function(){if(!(this.gd||this.Yb||this.Te()||this.Bc)){switch(this.J){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.J?(this.Nb=this.Ak(),
this.jd&&(this.Nb%=this.Re()),b(this.m)):this.m.paused||this.m.pause();break;case 2:this.m.pause();break;case 3:z.kb&&AppMobi.context.stopSound(this.src)}this.Bc=!0}};n.prototype.lu=function(){if(!(this.gd||this.Yb||this.Te())&&this.Bc){switch(this.J){case 0:this.m.play();break;case 1:1===this.buffer.J?(this.m=A.createBufferSource(),this.m.buffer=this.buffer.da,this.m.connect(this.Sa),this.m.loop=this.jd,this.Sa.gain.value=G*this.volume*this.Uf,this.startTime=(this.Ye?z.mc.ga:z.wd.ga)-this.Nb,c(this.m,
this.Nb,this.Re())):this.m.play();break;case 2:this.m.play();break;case 3:z.kb&&AppMobi.context.resumeSound(this.src)}this.Bc=!1}};n.prototype.seek=function(a){if(!(this.gd||this.Yb||this.Te()))switch(this.J){case 0:try{this.m.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.J)this.Bc?this.Nb=a:(this.pause(),this.Nb=a,this.lu());else try{this.m.currentTime=a}catch(d){}break;case 3:z.kb&&AppMobi.context.seekSound(this.src,a)}};n.prototype.iu=function(a){1===this.J&&(this.ld?(this.Ka.disconnect(),
this.Ka.connect(a)):(this.Sa.disconnect(),this.Sa.connect(a)))};n.prototype.Re=function(){switch(this.J){case 0:if("undefined"!==typeof this.m.duration)return this.m.duration;break;case 1:return this.buffer.da.duration;case 2:return this.m.getDuration();case 3:if(z.kb)return AppMobi.context.getDurationSound(this.src)}return 0};n.prototype.Ak=function(){var a=this.Re(),b=0;switch(this.J){case 0:"undefined"!==typeof this.m.currentTime&&(b=this.m.currentTime);break;case 1:if(1===this.buffer.J){if(this.Bc)return this.Nb;
b=(this.Ye?z.mc.ga:z.wd.ga)-this.startTime}else"undefined"!==typeof this.m.currentTime&&(b=this.m.currentTime);break;case 3:z.kb&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.jd&&b>a&&(b=a);return b};n.prototype.Gf=function(){return!this.Bc&&!this.gd&&!this.Yb&&!this.Te()};n.prototype.Lu=function(){var a=this.volume*G;switch(this.J){case 0:"undefined"!==typeof this.m.volume&&this.m.volume!==a&&(this.m.volume=a);break;case 1:1===this.buffer.J?this.Sa.gain.value=a*this.Uf:"undefined"!==
typeof this.m.volume&&this.m.volume!==a&&(this.m.volume=a)}};n.prototype.fi=function(a){switch(this.J){case 0:this.m.muted!==!!a&&(this.m.muted=!!a);break;case 1:1===this.buffer.J?(this.Uf=a?0:1,this.Sa.gain.value=G*this.volume*this.Uf):this.m.muted!==!!a&&(this.m.muted=!!a)}};n.prototype.yu=function(){this.Jf=!0;this.fi(this.Jf||this.Sg)};n.prototype.tp=function(a){this.Sg=!!a;this.fi(this.Jf||this.Sg)};n.prototype.Zp=function(){var a=this.playbackRate;this.Ye&&(a*=z.hg);switch(this.J){case 0:this.m.playbackRate!==
a&&(this.m.playbackRate=a);break;case 1:1===this.buffer.J?this.m.playbackRate.value!==a&&(this.m.playbackRate.value=a):this.m.playbackRate!==a&&(this.m.playbackRate=a)}};n.prototype.Au=function(a){switch(this.J){case 0:a?this.Gf()?(this.m.pause(),this.Pd=!0):this.Pd=!1:this.Pd&&this.m.play();break;case 1:a?this.Gf()?(1===this.buffer.J?(this.Nb=this.Ak(),this.jd&&(this.Nb%=this.Re()),b(this.m)):this.m.pause(),this.Pd=!0):this.Pd=!1:this.Pd&&(1===this.buffer.J?(this.m=A.createBufferSource(),this.m.buffer=
this.buffer.da,this.m.connect(this.Sa),this.m.loop=this.jd,this.Sa.gain.value=G*this.volume*this.Uf,this.startTime=(this.Ye?z.mc.ga:z.wd.ga)-this.Nb,c(this.m,this.Nb,this.Re())):this.m.play());break;case 2:a?this.Gf()?(this.m.pause(),this.Pd=!0):this.Pd=!1:this.Pd&&this.m.play()}};N.ca=function(a){this.type=a;z=this.b=a.b;x=this;this.Db=null;this.Zg=-600;!(this.b.Fi||this.b.yi&&(this.b.Og||this.b.Ai))||this.b.Pg||this.b.ra||this.b.Qk||(Z=!0);A=null;"undefined"!==typeof AudioContext?(D=1,A=new AudioContext):
"undefined"!==typeof webkitAudioContext&&(D=1,A=new webkitAudioContext);(this.b.Fi&&1===D||Z)&&document.addEventListener("touchstart",function(){var a,b,d;!tc&&A&&(a=A.createBuffer(1,1,22050),b=A.createBufferSource(),b.buffer=a,b.connect(A.destination),s(b),tc=!0);if(Z){if(!R)for(a=0,b=za.length;a<b;++a)d=za[a],d.Yb||d.Bc||d.m.play();za.length=0}},!0);1!==D&&(this.b.Ac&&"undefined"!==typeof window.Media?D=2:this.b.Ff&&(D=3));2===D&&(H=location.href,a=H.lastIndexOf("/"),-1<a&&(H=H.substr(0,a+1)),H=
H.replace("file://",""));if(this.b.Vn&&this.b.At&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Fe(this);else{if(this.b.kb)E=this.b.yi;else try{E=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){E=!1}this.b.Eh(this)}};var ra=N.ca.prototype;ra.P=function(){this.b.yf=this;M=this.K[0];this.Qd=this.K[1];this.Wt=0!==this.K[2];pa=this.K[3];L=this.K[4];this.Zg=-this.K[5];ta=
this.K[6];la=this.K[7];ya=this.K[8];this.Db=new q;var a=this.b.N||this.b.width,b=this.b.M||this.b.height;1===D&&("undefined"!==typeof A.listener.dopplerFactor&&(A.listener.dopplerFactor=0),A.listener.setPosition(a/2,b/2,this.Zg),A.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){fa&&fa.disconnect();tb=b.toLowerCase();fa=A.createMediaStreamSource(a);fa.connect(g(tb))});this.b.Rm(function(a){x.St(a)});var d=this;this.b.Pm(function(a){d.Ot(a)})};ra.Ot=function(a){var b,d,
c;b=0;for(d=J.length;b<d;b++)c=J[b],c.Ja&&c.Ja.D===a&&(c.Ja.D=null,c.ld&&c.Gf()&&c.jd&&c.stop());this.Db.D===a&&(this.Db.D=null)};ra.Fb=function(){var a={silent:R,masterVolume:G,listenerZ:this.Zg,listenerUid:this.Db.xi()?this.Db.D.uid:-1,playing:[],effects:{}},b=a.playing,d,c,e,k,f,g;d=0;for(c=J.length;d<c;d++)e=J[d],!e.Gf()||3===this.Qd||e.Vc&&1===this.Qd||!e.Vc&&2===this.Qd||(k=e.Ak(),e.jd&&(k%=e.Re()),k={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Vc,playbackTime:k,volume:e.volume,looping:e.jd,
muted:e.Jf,playbackRate:e.playbackRate,paused:e.Bc,resume_position:e.Nb},e.ld&&(k.pan={},g=k.pan,e.Ja&&e.Ja.xi()?g.objUid=e.Ja.D.uid:(g.x=e.$o,g.y=e.bp,g.a=e.Wo),g.ia=e.Xo,g.oa=e.Yo,g.og=e.Zo),b.push(k));b=a.effects;for(f in O)if(O.hasOwnProperty(f)){e=[];d=0;for(c=O[f].length;d<c;d++)e.push({type:O[f][d].type,params:O[f][d].Yc});b[f]=e}return a};var Ra=[];ra.Sb=function(b){var d=b.silent;G=b.masterVolume;this.Zg=b.listenerZ;this.Db.vh(null);var c=b.listenerUid;-1!==c&&(this.Db.Si=c,Ra.push(this.Db));
var c=b.playing,e,g,h,n,m,s,C,E,F,x,z;if(3!==this.Qd)for(e=0,g=J.length;e<g;e++)F=J[e],F.Vc&&1===this.Qd||(F.Vc||2!==this.Qd)&&F.stop();for(m in O)if(O.hasOwnProperty(m))for(e=0,g=O[m].length;e<g;e++)O[m][e].remove();Wa(O);for(m in b.effects)if(b.effects.hasOwnProperty(m))for(s=b.effects[m],e=0,g=s.length;e<g;e++)switch(h=s[e].type,x=s[e].params,h){case "filter":k(m,new a(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":k(m,new u(x[0],x[1],x[2]));break;case "convolve":h=x[2];F=this.pi(h,!1);F.da?
h=new t(F.da,x[0],x[1],h):(h=new t(null,x[0],x[1],h),F.Lo=x[0],F.Xh=h);k(m,h);break;case "flanger":k(m,new f(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":k(m,new l(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":k(m,new w(x[0]));break;case "tremolo":k(m,new r(x[0],x[1]));break;case "ringmod":k(m,new v(x[0],x[1]));break;case "distortion":k(m,new y(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":k(m,new B(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":k(m,new p(x[0],x[1]))}e=0;for(g=c.length;e<
g;e++)3===this.Qd||(b=c[e],h=b.buffersrc,n=b.is_music,m=b.tag,s=b.playbackTime,C=b.looping,E=b.volume,z=(x=b.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,n&&1===this.Qd)||!n&&2===this.Qd||((F=this.zn(h,m,n,C,E))?(F.Nb=b.resume_position,F.Wl(!!x),F.play(C,E,s),F.Zp(),F.Lu(),F.fi(F.Jf||F.Sg),b.paused&&F.pause(),b.muted&&F.yu(),F.fi(F.Jf||F.Sg),x&&(-1!==z?(F.Ja=F.Ja||new q,F.Ja.Si=z,Ra.push(F.Ja)):F.Vl(x.x,x.y,x.a,x.ia,x.oa,x.og))):(F=this.pi(h,n),F.mj=s,F.$i=b.paused,x&&(-1!==z?F.Yf.push({No:z,Ik:x.ia,
sl:x.oa,wl:x.og,Kp:m}):F.Yf.push({x:x.x,y:x.y,cr:x.a,Ik:x.ia,sl:x.oa,wl:x.og,Kp:m}))));if(d&&!R){e=0;for(g=J.length;e<g;e++)J[e].tp(!0);R=!0}else if(!d&&R){e=0;for(g=J.length;e<g;e++)J[e].tp(!1);R=!1}};ra.xd=function(){var a,b,d,c;a=0;for(b=Ra.length;a<b;a++)d=Ra[a],c=this.b.si(d.Si),d.vh(c),d.Si=-1,c&&(K=c.x,I=c.y);Ra.length=0};ra.St=function(a){if(!this.Wt){!a&&A&&A.resume&&A.resume();var b,d;b=0;for(d=J.length;b<d;b++)J[b].Au(a);a&&A&&A.suspend&&A.suspend()}};ra.fb=function(){var a=this.b.Ne,b,
d,c;b=0;for(d=J.length;b<d;b++)c=J[b],c.fb(a),0===c.J||3===c.J||c.gd||c.Yb||!c.Te()||(c.Yb=!0,oa=c.tag,z.trigger(nc.prototype.i.Kj,x)),0!==M&&c.Zp();var e,k;for(e in O)if(O.hasOwnProperty(e))for(c=O[e],b=0,d=c.length;b<d;b++)k=c[b],k.fb&&k.fb();1===D&&this.Db.xi()&&(this.Db.fb(a),K=this.Db.D.x,I=this.Db.D.y,A.listener.setPosition(this.Db.D.x,this.Db.D.y,this.Zg),A.listener.setVelocity(this.Db.Ck(),this.Db.Dk(),0))};var Sa=[];ra.zu=function(a){var b,d,c,e,k,f=0;b=0;for(d=a.length;b<d;++b)if(c=a[b],
e=c[0],c=2*c[1],(k=4<e.length&&".ogg"===e.substr(e.length-4))&&E||!k&&!E)Sa.push({filename:e,size:c,D:null}),f+=c;return f};ra.Gu=function(){var a,b,d,c;a=0;for(b=Sa.length;a<b;++a)d=Sa[a],c=this.b.ok+d.filename,d.D=this.pi(c,!1)};ra.Rs=function(){var a=0,b,d,c;b=0;for(d=Sa.length;b<d;++b)c=Sa[b],c.D.zt()||c.D.nt()||this.b.ra||this.b.Ai?a+=c.size:c.D.Un()&&(a+=Math.floor(c.size/2));return a};ra.pi=function(a,b){var c,e,k,f=null;c=0;for(e=F.length;c<e;c++)if(k=F[c],k.src===a){f=k;break}f||(f=new d(a,
b),F.push(f));return f};ra.zn=function(a,b,d,c,e){var k,f,g;k=0;for(f=J.length;k<f;k++)if(g=J[k],g.src===a&&(g.tr()||d))return g.tag=b,g;a=this.pi(a,d);if(!a.da)return"<preload>"!==b&&(a.aj=b,a.ll=c,a.rm=e),null;g=new n(a,b);J.push(g);return g};var Ja=[];C.prototype.Kj=function(a){return jb(oa,a)};N.i=new C;Y.prototype.Play=function(a,b,d,c){!R&&(d=Math.pow(10,d/20),0>d&&(d=0),1<d&&(d=1),Q=this.zn(this.b.ok+a[0]+(E?".ogg":".m4a"),c,a[1],0!==b,d))&&(Q.Wl(!1),Q.play(0!==b,d))};N.Ha=new Y;N.$a=new function(){}})();
function oc(h){this.b=h}
(function(){function h(){}function g(){}var e=oc.prototype;e.pa=function(e){this.ka=e;this.b=e.b};e.pa.prototype.P=function(){};e.ca=function(e){this.type=e;this.b=e.b};e.ca.prototype.P=function(){var e=this;window.addEventListener("resize",function(){e.b.trigger(oc.prototype.i.Qq,e)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){e.b.trigger(oc.prototype.i.Mq,e)}),window.addEventListener("offline",function(){e.b.trigger(oc.prototype.i.Lq,e)}));"undefined"!==
typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){e.b.Qf=1;e.b.trigger(oc.prototype.i.Hm,e)}),window.applicationCache.addEventListener("progress",function(g){e.b.Qf=g.loaded/g.total}));this.b.kb||(document.addEventListener("appMobi.device.update.available",function(){e.b.trigger(oc.prototype.i.Hm,e)}),document.addEventListener("backbutton",function(){e.b.trigger(oc.prototype.i.Hj,e)}),document.addEventListener("menubutton",function(){e.b.trigger(oc.prototype.i.Am,
e)}),document.addEventListener("searchbutton",function(){e.b.trigger(oc.prototype.i.Rq,e)}),document.addEventListener("tizenhwkey",function(g){var c;switch(g.keyName){case "back":c=e.b.trigger(oc.prototype.i.Hj,e);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=e.b.trigger(oc.prototype.i.Am,e))||g.preventDefault()}}));this.b.Bi&&(WinJS.Application.onbackclick=function(){return!!e.b.trigger(oc.prototype.i.Hj,e)});this.b.Rm(function(g){g?e.b.trigger(oc.prototype.i.Nq,
e):e.b.trigger(oc.prototype.i.Oq,e)})};h.prototype.Mq=function(){return!0};h.prototype.Lq=function(){return!0};h.prototype.Hm=function(){return!0};h.prototype.Oq=function(){return!0};h.prototype.Nq=function(){return!0};h.prototype.Qq=function(){return!0};h.prototype.Hj=function(){return!0};h.prototype.Am=function(){return!0};h.prototype.Rq=function(){return!0};e.i=new h;e.Ha=new function(){};g.prototype.URL=function(e){e.mb(this.b.ra?"":window.location.toString())};e.$a=new g})();
function pc(h){this.b=h}
(function(){function h(){}var g=pc.prototype;g.pa=function(e){this.ka=e;this.b=e.b};g.pa.prototype.P=function(){};g.ca=function(e){this.type=e;this.b=e.b;this.Xk=Array(256);this.Dj=Array(256);this.Ee=0};var e=g.ca.prototype;e.P=function(){var e=this;this.b.ra||(jQuery(document).keydown(function(c){e.Pt(c)}),jQuery(document).keyup(function(c){e.Qt(c)}))};var m=[32,33,34,35,36,37,38,39,40,44];e.Pt=function(e){var c=!1;window!=window.top&&-1<m.indexOf(e.which)&&(e.preventDefault(),c=!0,e.stopPropagation());
if(this.Xk[e.which])this.Dj[e.which]&&!c&&e.preventDefault();else{this.Xk[e.which]=!0;this.Ee=e.which;this.b.Ia=!0;this.b.trigger(pc.prototype.i.tq,this);var b=this.b.trigger(pc.prototype.i.Eq,this),a=this.b.trigger(pc.prototype.i.Fq,this);this.b.Ia=!1;if(b||a)this.Dj[e.which]=!0,c||e.preventDefault()}};e.Qt=function(e){this.Xk[e.which]=!1;this.Ee=e.which;this.b.Ia=!0;this.b.trigger(pc.prototype.i.uq,this);var c=this.b.trigger(pc.prototype.i.Hq,this),b=this.b.trigger(pc.prototype.i.Gq,this);this.b.Ia=
!1;if(c||b||this.Dj[e.which])this.Dj[e.which]=!0,e.preventDefault()};e.Fb=function(){return{triggerKey:this.Ee}};e.Sb=function(e){this.Ee=e.triggerKey};h.prototype.Eq=function(e){return e===this.Ee};h.prototype.tq=function(){return!0};h.prototype.uq=function(){return!0};h.prototype.Hq=function(e){return e===this.Ee};h.prototype.Fq=function(e){return e===this.Ee};h.prototype.Gq=function(e){return e===this.Ee};g.i=new h;g.Ha=new function(){};g.$a=new function(){}})();function qc(h){this.b=h}
(function(){function h(){}function g(){}var e=qc.prototype;e.pa=function(c){this.ka=c;this.b=c.b};e.pa.prototype.P=function(){};e.ca=function(c){this.type=c;this.b=c.b;this.Sj=Array(4);this.Op=this.zj=this.ig=this.te=this.se=0;this.Fk=!1};var m=e.ca.prototype;m.P=function(){var c=this;if(!this.b.ra){jQuery(document).mousemove(function(a){c.zl(a)});jQuery(document).mousedown(function(a){c.yl(a)});jQuery(document).mouseup(function(a){c.Al(a)});jQuery(document).dblclick(function(a){c.Nt(a)});var b=function(a){c.Tt(a)};
document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var s={left:0,top:0};m.zl=function(c){var b=this.b.ra?s:jQuery(this.b.canvas).offset();this.se=c.pageX-b.left;this.te=c.pageY-b.top};m.Ho=function(){return 0<this.b.Hb?!0:0<=this.se&&0<=this.te&&this.se<this.b.width&&this.te<this.b.height};m.yl=function(c){this.Ho()&&(this.b.Ef&&!this.b.Uc&&c.preventDefault(),this.Sj[c.which]=!0,this.b.Ia=!0,this.b.trigger(qc.prototype.i.ym,this),this.ig=c.which-1,this.zj=
0,this.b.trigger(qc.prototype.i.Ij,this),this.b.trigger(qc.prototype.i.Dm,this),this.b.Ia=!1)};m.Al=function(c){this.Sj[c.which]&&(this.b.Ef&&!this.b.Uc&&c.preventDefault(),this.b.Ef=!0,this.Sj[c.which]=!1,this.b.Ia=!0,this.ig=c.which-1,this.b.trigger(qc.prototype.i.Pq,this),this.b.Ia=!1)};m.Nt=function(c){this.Ho()&&(c.preventDefault(),this.b.Ia=!0,this.ig=c.which-1,this.zj=1,this.b.trigger(qc.prototype.i.Ij,this),this.b.trigger(qc.prototype.i.Dm,this),this.b.Ia=!1)};m.Tt=function(c){this.Op=0>(c.wheelDelta?
c.wheelDelta:c.detail?-c.detail:0)?0:1;this.Fk=!1;this.b.Ia=!0;this.b.trigger(qc.prototype.i.Uq,this);this.b.Ia=!1;this.Fk&&kb(c)&&c.preventDefault()};h.prototype.Ij=function(c,b){return c===this.ig&&b===this.zj};h.prototype.ym=function(){return!0};h.prototype.Pq=function(c){return c===this.ig};h.prototype.Dm=function(c,b,a){return c!==this.ig||b!==this.zj?!1:this.b.Ch(a,this.se,this.te)};h.prototype.Uq=function(c){this.Fk=!0;return c===this.Op};e.i=new h;e.Ha=new function(){};g.prototype.Im=function(c,
b){var a,e,g,f,h;ea(b)?(a=this.b.Jd(0),e=a.scale,g=a.yb,f=a.Kb,h=a.k,a.scale=1,a.yb=1,a.Kb=1,a.k=0,c.r(a.hb(this.se,this.te,!0)),a.scale=e,a.yb=g,a.Kb=f,a.k=h):(a=ga(b)?this.b.Jd(b):this.b.Fg(b))?c.r(a.hb(this.se,this.te,!0)):c.r(0)};g.prototype.Jm=function(c,b){var a,e,g,f,h;ea(b)?(a=this.b.Jd(0),e=a.scale,g=a.yb,f=a.Lb,h=a.k,a.scale=1,a.yb=1,a.Lb=1,a.k=0,c.r(a.hb(this.se,this.te,!1)),a.scale=e,a.yb=g,a.Lb=f,a.k=h):(a=ga(b)?this.b.Jd(b):this.b.Fg(b))?c.r(a.hb(this.se,this.te,!1)):c.r(0)};e.$a=new g})();
function mc(h){this.b=h}
(function(){function h(){if(0===this.fk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.eg?b.drawImage(this.ba,this.Vf,this.Wf,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ba,0,0,this.width,this.height);this.fk=a.toDataURL("image/png")}return this.fk}function g(){}function e(a){a[0]=0;a[1]=0;a[2]=0;w.push(a)}function m(a,b){return a<b?""+a+","+b:""+b+","+a}function s(a,b,d,c){b=b.uid;d=d.uid;var e=m(b,d);if(a.hasOwnProperty(e))a[e][2]=
c;else{var f=w.length?w.pop():[0,0,0];f[0]=b;f[1]=d;f[2]=c;a[e]=f}}function c(a,b,d){b=m(b.uid,d.uid);a.hasOwnProperty(b)&&(e(a[b]),delete a[b])}function b(a,b,d){b=m(b.uid,d.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function a(){}var u=mc.prototype;u.pa=function(a){this.ka=a;this.b=a.b};var t=u.pa.prototype;t.P=function(){if(!this.A){var a,b,d,c,e,f,g,l,m;this.Lc=[];this.Kg=!1;a=0;for(b=this.Ob.length;a<b;a++){e=this.Ob[a];g={};g.name=e[0];g.speed=e[1];g.loop=e[2];g.Nl=e[3];g.kj=
e[4];g.ep=e[5];g.T=e[6];g.frames=[];d=0;for(c=e[7].length;d<c;d++)f=e[7][d],l={},l.cm=f[0],l.dm=f[1],l.Vf=f[2],l.Wf=f[3],l.width=f[4],l.height=f[5],l.duration=f[6],l.Ib=f[7],l.Jb=f[8],l.Jk=f[9],l.bj=f[10],l.fp=f[11],l.eg=0!==l.width,l.fk="",l.aw=h,m={left:0,top:0,right:1,bottom:1},l.Yl=m,l.I=null,(m=this.b.Ds(f[0]))?l.ba=m:(l.ba=new Image,l.ba.Ar=f[0],l.ba.ck=f[1],l.ba.or=null,this.b.tm(l.ba,f[0])),g.frames.push(l),this.Lc.push(l);this.Ob[a]=g}}};t.Yp=function(){var a,b,d;a=0;for(b=this.d.length;a<
b;a++)d=this.d[a],d.ai=d.tc.I};t.kh=function(){if(!this.A){var a,b,d;a=0;for(b=this.Lc.length;a<b;++a)d=this.Lc[a],d.ba.or=null,d.I=null;this.Kg=!1;this.Yp()}};t.Zi=function(){if(!this.A&&this.d.length){var a,b,d;a=0;for(b=this.Lc.length;a<b;++a)d=this.Lc[a],d.I=this.b.n.Ri(d.ba,!1,this.b.X,d.fp);this.Yp()}};t.gl=function(){if(!this.A&&!this.Kg&&this.b.n){var a,b,d;a=0;for(b=this.Lc.length;a<b;++a)d=this.Lc[a],d.I=this.b.n.Ri(d.ba,!1,this.b.X,d.fp);this.Kg=!0}};t.km=function(){if(!this.A&&!this.d.length&&
this.Kg){var a,b,d;a=0;for(b=this.Lc.length;a<b;++a)d=this.Lc[a],this.b.n.deleteTexture(d.I),d.I=null;this.Kg=!1}};var f=[];t.Hl=function(a){var b,d,c;b=f.length=0;for(d=this.Lc.length;b<d;++b)c=this.Lc[b].ba,-1===f.indexOf(c)&&(a.drawImage(c,0,0),f.push(c))};u.ca=function(a){this.type=a;this.b=a.b;a=this.type.Ob[0].frames[0].bj;this.Hc?this.H.xh(a):this.H=new db(a)};var l=u.ca.prototype;l.P=function(){this.visible=0===this.K[0];this.Kk=this.Uk=!1;this.Ad=0!==this.K[3];1===this.type.Ob.length&&1===
this.type.Ob[0].frames.length||0===this.type.Ob[0].speed||(this.b.Eh(this),this.Uk=!0);this.Ca=this.yn(this.K[1])||this.type.Ob[0];this.u=this.K[2];0>this.u&&(this.u=0);this.u>=this.Ca.frames.length&&(this.u=this.Ca.frames.length-1);var a=this.Ca.frames[this.u];this.H.xh(a.bj);this.Ib=a.Ib;this.Jb=a.Jb;this.yg=this.Ca.speed;this.Hc?this.dd.reset():this.dd=new bb;this.Id=this.dd.ga;this.He=!0;this.yd=0;this.Ge=!0;this.Uh=this.Tm="";this.en=0;this.Zj=-1;this.type.gl();var b,d,c,e,f,g,h,a=0;for(b=this.type.Ob.length;a<
b;a++)for(e=this.type.Ob[a],d=0,c=e.frames.length;d<c;d++)f=e.frames[d],0===f.width&&(f.width=f.ba.width,f.height=f.ba.height),f.eg&&(h=f.ba,g=f.Yl,g.left=f.Vf/h.width,g.top=f.Wf/h.height,g.right=(f.Vf+f.width)/h.width,g.bottom=(f.Wf+f.height)/h.height,0===f.Vf&&0===f.Wf&&f.width===h.width&&f.height===h.height&&(f.eg=!1));this.tc=this.Ca.frames[this.u];this.ai=this.tc.I};l.Fb=function(){var a={a:this.Ca.T,f:this.u,cas:this.yg,fs:this.Id,ar:this.yd,at:this.dd.ga};this.He||(a.ap=this.He);this.Ge||(a.af=
this.Ge);return a};l.Sb=function(a){var b=this.Is(a.a);b&&(this.Ca=b);this.u=a.f;0>this.u&&(this.u=0);this.u>=this.Ca.frames.length&&(this.u=this.Ca.frames.length-1);this.yg=a.cas;this.Id=a.fs;this.yd=a.ar;this.dd.reset();this.dd.ga=a.at;this.He=a.hasOwnProperty("ap")?a.ap:!0;this.Ge=a.hasOwnProperty("af")?a.af:!0;this.tc=this.Ca.frames[this.u];this.ai=this.tc.I;this.H.xh(this.tc.bj);this.Ib=this.tc.Ib;this.Jb=this.tc.Jb};l.Pj=function(a){this.u=a?0:this.Ca.frames.length-1;this.He=!1;this.Tm=this.Ca.name;
this.Kk=!0;this.b.trigger(mc.prototype.i.sq,this);this.b.trigger(mc.prototype.i.rq,this);this.Kk=!1;this.yd=0};l.cw=function(){return this.dd.ga};l.fb=function(){this.dd.add(this.b.wk(this));this.Uh.length&&this.pn();0<=this.Zj&&this.Hr();var a=this.dd.ga,b=this.Ca,d=b.frames[this.u],c=d.duration/this.yg;this.He&&a>=this.Id+c&&(this.Ge?this.u++:this.u--,this.Id+=c,this.u>=b.frames.length&&(b.ep?(this.Ge=!1,this.u=b.frames.length-2):b.loop?this.u=b.kj:(this.yd++,this.yd>=b.Nl?this.Pj(!1):this.u=b.kj)),
0>this.u&&(b.ep?(this.u=1,this.Ge=!0,b.loop||(this.yd++,this.yd>=b.Nl&&this.Pj(!0))):b.loop?this.u=b.kj:(this.yd++,this.yd>=b.Nl?this.Pj(!0):this.u=b.kj)),0>this.u?this.u=0:this.u>=b.frames.length&&(this.u=b.frames.length-1),a>this.Id+b.frames[this.u].duration/this.yg&&(this.Id=a),a=b.frames[this.u],this.vf(d,a),this.b.la=!0)};l.yn=function(a){var b,d,c;b=0;for(d=this.type.Ob.length;b<d;b++)if(c=this.type.Ob[b],jb(c.name,a))return c;return null};l.Is=function(a){var b,d,c;b=0;for(d=this.type.Ob.length;b<
d;b++)if(c=this.type.Ob[b],c.T===a)return c;return null};l.pn=function(){var a=this.Ca.frames[this.u],b=this.yn(this.Uh);this.Uh="";!b||jb(b.name,this.Ca.name)&&this.He||(this.Ca=b,this.yg=b.speed,0>this.u&&(this.u=0),this.u>=this.Ca.frames.length&&(this.u=this.Ca.frames.length-1),1===this.en&&(this.u=0),this.He=!0,this.Id=this.dd.ga,this.Ge=!0,this.vf(a,this.Ca.frames[this.u]),this.b.la=!0)};l.Hr=function(){var a=this.Ca.frames[this.u],b=this.u;this.u=T(this.Zj);0>this.u&&(this.u=0);this.u>=this.Ca.frames.length&&
(this.u=this.Ca.frames.length-1);b!==this.u&&(this.vf(a,this.Ca.frames[this.u]),this.Id=this.dd.ga,this.b.la=!0);this.Zj=-1};l.vf=function(a,b){var d=a.width,c=a.height,e=b.width,f=b.height;d!=e&&(this.width*=e/d);c!=f&&(this.height*=f/c);this.Ib=b.Ib;this.Jb=b.Jb;this.H.xh(b.bj);this.V();this.tc=b;this.ai=b.I;d=0;for(c=this.L.length;d<c;d++)e=this.L[d],e.Rt&&e.Rt(a,b);this.b.trigger(mc.prototype.i.vf,this)};l.Rc=function(a){a.globalAlpha=this.opacity;var b=this.tc,d=b.eg,c=b.ba,e=this.x,f=this.y,
g=this.width,h=this.height;if(0===this.k&&0<=g&&0<=h)e-=this.Ib*g,f-=this.Jb*h,this.b.nd&&(e=Math.round(e),f=Math.round(f)),d?a.drawImage(c,b.Vf,b.Wf,b.width,b.height,e,f,g,h):a.drawImage(c,e,f,g,h);else{this.b.nd&&(e=Math.round(e),f=Math.round(f));a.save();var l=0<g?1:-1,m=0<h?1:-1;a.translate(e,f);1===l&&1===m||a.scale(l,m);a.rotate(this.k*l*m);e=0-this.Ib*ja(g);f=0-this.Jb*ja(h);d?a.drawImage(c,b.Vf,b.Wf,b.width,b.height,e,f,ja(g),ja(h)):a.drawImage(c,e,f,ja(g),ja(h));a.restore()}};l.fc=function(a){a.Xa(this.ai);
a.ye(this.opacity);var b=this.tc,d=this.gb;if(this.b.nd){var c=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.eg?a.od(d.Fa+c,d.Ga+e,d.wb+c,d.xb+e,d.rb+c,d.sb+e,d.pb+c,d.qb+e,b.Yl):a.Zf(d.Fa+c,d.Ga+e,d.wb+c,d.xb+e,d.rb+c,d.sb+e,d.pb+c,d.qb+e)}else b.eg?a.od(d.Fa,d.Ga,d.wb,d.xb,d.rb,d.sb,d.pb,d.qb,b.Yl):a.Zf(d.Fa,d.Ga,d.wb,d.xb,d.rb,d.sb,d.pb,d.qb)};l.Ms=function(a){var b=this.tc,d,c;d=0;for(c=b.Jk.length;d<c;d++)if(jb(a,b.Jk[d][0]))return d;return-1};l.zk=function(a,b){var d=this.tc,c=d.Jk,
e;e=S(a)?this.Ms(a):a-1;e=T(e);if(0>e||e>=c.length)return b?this.x:this.y;var f=(c[e][1]-d.Ib)*this.width,c=c[e][2],c=(c-d.Jb)*this.height,d=Math.cos(this.k);e=Math.sin(this.k);var g=f*d-c*e,c=c*d+f*e,f=g+this.x,c=c+this.y;return b?f:c};var w=[],r=-2,v=[];g.prototype.wq=function(a){if(!a)return!1;var f=this.b,d=f.vk(),g=d.type;d.B.collmemory||(d.B.collmemory={},f.Pm(function(a){return function(b){b=b.uid;var d,c;for(d in a)a.hasOwnProperty(d)&&(c=a[d],c[0]===b||c[1]===b)&&(e(a[d]),delete a[d])}}(d.B.collmemory)));
var d=d.B.collmemory,k=g.aa(),h=a.aa(),k=k.hc(),l,m,u,x,t,w,y,A=this.b.td,F=A-1,J=f.Bb().vc;for(m=0;m<k.length;m++){u=k[m];h.ma?(u.na(),this.b.An(u.j,a,u.wa,v),l=v):l=h.hc();for(x=0;x<l.length;x++)t=l[x],f.pf(u,t)||f.ur(u,t)?(w=b(d,u,t),w=!w||r<F,s(d,u,t,A),w&&(f.gj(J.za),w=g.aa(),y=a.aa(),w.ma=!1,y.ma=!1,g===a?(w.d.length=2,w.d[0]=u,w.d[1]=t,g.Mc()):(w.d.length=1,y.d.length=1,w.d[0]=u,y.d[0]=t,g.Mc(),a.Mc()),J.nu(),f.lf(J.za))):c(d,u,t);v.length=0}return!1};var y=new ba,B=!1;new ua(0,0,0,0);t.finish=
function(a){if(B){if(a){var b=this.b.Bb().vc.Xc;a=null.aa();var d=y.Vd(),c,e;if(a.ma){a.ma=!1;a.d.length=d.length;c=0;for(e=d.length;c<e;c++)a.d[c]=d[c];if(b)for(c=a.W.length=0,e=null.d.length;c<e;c++)d=null.d[c],y.contains(d)||a.W.push(d)}else if(b)for(b=a.d.length,a.d.length=b+d.length,c=0,e=d.length;c<e;c++)a.d[b+c]=d[c],Ha(a.W,d[c]);else Ea(a.d,d);null.Mc()}y.clear();B=!1}};g.prototype.rq=function(a){return jb(this.Tm,a)};g.prototype.sq=function(){return!0};g.prototype.vf=function(){return!0};
u.i=new g;a.prototype.Vq=function(a,b){this.Uh=a;this.en=b;this.Uk||(this.b.Eh(this),this.Uk=!0);this.Kk||this.pn()};u.Ha=new a;u.$a=new function(){}})();function rc(h){this.b=h}
(function(){function h(){return b.length?b.pop():{}}function g(a){var c,e;c=0;for(e=a.length;c<e;c++)b.push(a[c]);a.length=0}function e(){}var m=rc.prototype;m.P=function(){m.Ha.Xq=function(a){this.width!==a&&(this.width=a,this.gg=!0,this.V())}};m.pa=function(a){this.ka=a;this.b=a.b};var s=m.pa.prototype;s.P=function(){};s.kh=function(){if(!this.A){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.kd=null,c.hf=null,c.Tb=null}};m.ca=function(a){this.type=a;this.b=a.b;this.Hc?this.qe.length=0:
this.qe=[];this.gg=!0};s=m.ca.prototype;s.P=function(){this.text=this.K[0];this.visible=0===this.K[1];this.font=this.K[2];this.color=this.K[3];this.wi=this.K[4];this.Ej=this.K[5];this.wm=0===this.K[7];this.al=this.Li=this.width;this.Ki=this.height;this.fl=this.K[8];this.mi=this.Af="";this.Ip=this.Jp=this.rh=0;this.Ut();this.Tb=this.hf=this.kd=null;this.Jo=!1;this.Yg=this.b.td;this.Hc?this.ve.set(0,0,1,1):this.ve=new ua(0,0,1,1);this.b.n&&this.b.Eh(this)};s.Ut=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.rh=parseInt(a[b].substr(0,a[b].length-2));this.Jl=Math.ceil(this.rh/72*96)+4;0<b&&(this.mi=a[b-1]);this.Af=a[b+1];for(b+=2;b<a.length;b++)this.Af+=" "+a[b];break}};s.Fb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.wi,va:this.Ej,wr:this.wm,lho:this.fl,fn:this.Af,fs:this.mi,ps:this.rh,pxh:this.Jl,tw:this.Jp,th:this.Ip,lrt:this.Yg}};s.Sb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.wi=a.ha;this.Ej=
a.va;this.wm=a.wr;this.fl=a.lho;this.Af=a.fn;this.mi=a.fs;this.rh=a.ps;this.Jl=a.pxh;this.Jp=a.tw;this.Ip=a.th;this.Yg=a.lrt;this.gg=!0;this.al=this.Li=this.width;this.Ki=this.height};s.fb=function(){if(this.b.n&&this.Tb&&300<=this.b.td-this.Yg){var a=this.j;this.na();var b=this.wa;if(b.right<a.ta||b.bottom<a.ua||b.left>a.Ba||b.top>a.Aa)this.b.n.deleteTexture(this.Tb),this.kd=this.hf=this.Tb=null}};s.Xf=function(){this.kd=this.hf=null;this.b.n&&this.Tb&&this.b.n.deleteTexture(this.Tb);this.Tb=null};
s.lw=function(){this.font=this.mi+" "+this.rh.toString()+"pt "+this.Af;this.gg=!0;this.b.la=!0};s.Rc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.j.ic(),a.save(),a.scale(c,c));if(this.gg||this.width!==this.al)this.type.ka.$q(this.text,this.qe,a,this.width,this.wm),this.gg=!1,this.al=this.width;this.na();var c=b?0:this.gb.Fa,e=b?0:this.gb.Ga;this.b.nd&&(c=c+.5|0,e=e+.5|0);0===this.k||b||(a.save(),a.translate(c,e),a.rotate(this.k),
e=c=0);var g=e+this.height,h=this.Jl,h=h+this.fl,m,s;1===this.Ej?e+=Math.max(this.height/2-this.qe.length*h/2,0):2===this.Ej&&(e+=Math.max(this.height-this.qe.length*h-2,0));for(s=0;s<this.qe.length&&!(m=c,1===this.wi?m=c+(this.width-this.qe[s].width)/2:2===this.wi&&(m=c+(this.width-this.qe[s].width)),a.fillText(this.qe[s].text,m,e),e+=h,e>=g-h);s++);(0!==this.k||b)&&a.restore();this.Yg=this.b.td};s.fc=function(a){if(!(1>this.width||1>this.height)){var b=this.gg||this.Jo;this.Jo=!1;var c=this.j.ic(),
e=this.j.Oa(),g=this.ve,h=c*this.width,m=c*this.height,s=Math.ceil(h),y=Math.ceil(m),B=this.b.N/2,p=this.b.M/2;this.hf||(this.kd=document.createElement("canvas"),this.kd.width=s,this.kd.height=y,this.Li=s,this.Ki=y,b=!0,this.hf=this.kd.getContext("2d"));if(s!==this.Li||y!==this.Ki)this.kd.width=s,this.kd.height=y,this.Tb&&(a.deleteTexture(this.Tb),this.Tb=null),b=!0;b&&(this.hf.clearRect(0,0,s,y),this.Rc(this.hf,!0),this.Tb||(this.Tb=a.Pc(s,y,this.b.X,this.b.Uc)),a.qm(this.kd,this.Tb,this.b.Uc));
this.Li=s;this.Ki=y;a.Xa(this.Tb);a.ye(this.opacity);a.pd();a.translate(-B,-p);a.vd();var q=this.gb,b=this.j.ya(q.Fa,q.Ga,!0,!0),B=this.j.ya(q.Fa,q.Ga,!1,!0),p=this.j.ya(q.wb,q.xb,!0,!0),d=this.j.ya(q.wb,q.xb,!1,!0),n=this.j.ya(q.rb,q.sb,!0,!0),k=this.j.ya(q.rb,q.sb,!1,!0),C=this.j.ya(q.pb,q.qb,!0,!0),q=this.j.ya(q.pb,q.qb,!1,!0);if(this.b.nd||0===this.k&&0===e)var Y=(b+.5|0)-b,N=(B+.5|0)-B,b=b+Y,B=B+N,p=p+Y,d=d+N,n=n+Y,k=k+N,C=C+Y,q=q+N;0===this.k&&0===e?(p=b+s,d=B,n=p,k=B+y,C=b,q=k,g.right=1,g.bottom=
1):(g.right=h/s,g.bottom=m/y);a.od(b,B,p,d,n,k,C,q,g);a.pd();a.scale(c,c);a.Pl(-this.j.Oa());a.translate((this.j.ta+this.j.Ba)/-2,(this.j.ua+this.j.Aa)/-2);a.vd();this.Yg=this.b.td}};var c=[];m.Zq=function(a){c.length=0;for(var b="",e,f=0;f<a.length;)if(e=a.charAt(f),"\n"===e)b.length&&(c.push(b),b=""),c.push("\n"),++f;else if(" "===e||"\t"===e||"-"===e){do b+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));c.push(b);b=""}else f<a.length&&(b+=e,f++);b.length&&c.push(b)};
var b=[];m.$q=function(a,b,c,e,l){if(a&&a.length)if(2>=e)g(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var m=c.measureText(a).width;if(m<=e){g(b);b.push(h());b[0].text=a;b[0].width=m;return}}this.br(a,b,c,e,l)}else g(b)};m.br=function(a,e,g,f,l){l&&(this.Zq(a),a=c);var m="",r,s,y,B=0;for(y=0;y<a.length;y++)"\n"===a[y]?(B>=e.length&&e.push(h()),s=e[B],s.text=m,s.width=g.measureText(m).width,B++,m=""):(r=m,m+=a[y],s=g.measureText(m).width,s>=f&&(B>=e.length&&e.push(h()),s=e[B],s.text=r,s.width=
g.measureText(r).width,B++,m=a[y],l||" "!==m||(m="")));m.length&&(B>=e.length&&e.push(h()),s=e[B],s.text=m,s.width=g.measureText(m).width,B++);for(y=B;y<e.length;y++)b.push(e[y]);e.length=B};m.i=new function(){};m.Ha=new function(){};e.prototype.Text=function(a){a.mb(this.text)};m.$a=new e})();function sc(h){this.b=h}
(function(){var h=sc.prototype;h.pa=function(e){this.ka=e;this.b=e.b};var g=h.pa.prototype;g.P=function(){this.A||(this.ba=new Image,this.ba.ck=this.dm,this.b.tm(this.ba,this.cm),this.I=this.pattern=null)};g.kh=function(){this.A||(this.I=null)};g.Zi=function(){if(!this.A&&this.d.length){this.I||(this.I=this.b.n.Ri(this.ba,!0,this.b.X,this.em));var e,g;e=0;for(g=this.d.length;e<g;e++)this.d[e].I=this.I}};g.gl=function(){this.A||this.I||!this.b.n||(this.I=this.b.n.Ri(this.ba,!0,this.b.X,this.em))};
g.km=function(){this.A||this.d.length||!this.I||(this.b.n.deleteTexture(this.I),this.I=null)};g.Hl=function(e){e.drawImage(this.ba,0,0)};h.ca=function(e){this.type=e;this.b=e.b};g=h.ca.prototype;g.P=function(){this.visible=0===this.K[0];this.ve=new ua(0,0,0,0);this.Nn=!1;this.ba=this.type.ba;this.b.n?(this.type.gl(),this.I=this.type.I):(this.type.pattern||(this.type.pattern=this.b.ja.createPattern(this.type.ba,"repeat")),this.pattern=this.type.pattern)};g.xd=function(){this.Nn=!1;this.ba=this.type.ba};
g.Xf=function(){this.b.n&&this.Nn&&this.I&&(this.b.n.deleteTexture(this.I),this.I=null)};g.Rc=function(e){e.globalAlpha=this.opacity;e.save();e.fillStyle=this.pattern;var g=this.x,h=this.y;this.b.nd&&(g=Math.round(g),h=Math.round(h));var c=-(this.Ib*this.width),b=-(this.Jb*this.height),a=c%this.ba.width,u=b%this.ba.height;0>a&&(a+=this.ba.width);0>u&&(u+=this.ba.height);e.translate(g,h);e.rotate(this.k);e.translate(a,u);e.fillRect(c-a,b-u,this.width,this.height);e.restore()};g.fc=function(e){e.Xa(this.I);
e.ye(this.opacity);var g=this.ve;g.right=this.width/this.ba.width;g.bottom=this.height/this.ba.height;var h=this.gb;if(this.b.nd){var c=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;e.od(h.Fa+c,h.Ga+b,h.wb+c,h.xb+b,h.rb+c,h.sb+b,h.pb+c,h.qb+b,g)}else e.od(h.Fa,h.Ga,h.wb,h.xb,h.rb,h.sb,h.pb,h.qb,g)};h.i=new function(){};h.Ha=new function(){};h.$a=new function(){}})();function uc(h){this.b=h}
(function(){function h(a){t=a.x;f=a.y;l=a.z}function g(a){w=a.x;r=a.y;v=a.z}function e(a,b,c,e){var f;f=y.length?y.pop():new m;f.init(a,b,c,e);return f}function m(){this.zh=this.id=this.df=this.cf=this.y=this.x=this.sj=this.rj=this.$k=this.time=this.$l=0;this.Fh=this.Aj=!1}function s(){}function c(){}var b=uc.prototype;b.pa=function(a){this.ka=a;this.b=a.b};b.pa.prototype.P=function(){};b.ca=function(a){this.type=a;this.b=a.b;this.touches=[];this.ol=!1};var a=b.ca.prototype,u={left:0,top:0};a.Eg=
function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var t=0,f=0,l=0,w=0,r=0,v=0,y=[];m.prototype.init=function(a,b,c,e){var f=Xa();this.$l=this.$k=this.time=f;this.rj=a;this.sj=b;this.x=a;this.y=b;this.cf=a;this.df=b;this.id=c;this.zh=e;this.Fh=this.Aj=!1};m.prototype.update=function(a,b,c){this.$k=this.time;this.time=a;this.cf=this.x;this.df=this.y;this.x=b;this.y=c;!this.Fh&&15<=W(this.rj,this.sj,this.x,this.y)&&(this.Fh=!0)};m.prototype.Ht=function(a,
b){!this.Aj&&500<=Xa()-this.$l&&!this.Fh&&15>W(this.rj,this.sj,this.x,this.y)&&(this.Aj=!0,a.ud=this.zh,a.jg=this.id,a.Df=b,a.b.trigger(uc.prototype.i.Cq,a),a.Cd=this.x,a.Dd=this.y,a.b.trigger(uc.prototype.i.Dq,a),a.Df=0)};var B=-1E3,p=-1E3,q=-1E4;m.prototype.Eo=function(a,b){if(!this.Aj){var c=Xa();333>=c-this.$l&&!this.Fh&&15>W(this.rj,this.sj,this.x,this.y)&&(a.ud=this.zh,a.jg=this.id,a.Df=b,666>=c-q&&25>W(B,p,this.x,this.y)?(a.b.trigger(uc.prototype.i.yq,a),a.Cd=this.x,a.Dd=this.y,a.b.trigger(uc.prototype.i.zq,
a),p=B=-1E3,q=-1E4):(a.b.trigger(uc.prototype.i.Sq,a),a.Cd=this.x,a.Dd=this.y,a.b.trigger(uc.prototype.i.Tq,a),B=this.x,p=this.y,q=c),a.Df=0)}};a.P=function(){this.Bt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Df=this.jg=this.ud=this.Dd=this.Cd=this.Mm=this.Lm=this.Km=this.fr=this.er=this.dr=this.nh=this.mh=this.lh=0;this.Pu=0!==this.K[0];var a=0<this.b.Hb?document:this.b.canvas,b=document;this.b.kb?b=a=window.Canvas:this.b.zc&&(b=a=window);var c=this;window.navigator.pointerEnabled?
(a.addEventListener("pointerdown",function(a){c.So(a)},!1),a.addEventListener("pointermove",function(a){c.Ro(a)},!1),b.addEventListener("pointerup",function(a){c.Yi(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Yi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.So(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Ro(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Yi(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Yi(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",
function(a){c.Uo(a)},!1),a.addEventListener("touchmove",function(a){c.To(a)},!1),b.addEventListener("touchend",function(a){c.Bl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Bl(a,!0)},!1));if(this.Bt){var e=function(a){a=a.reading;c.Km=a.accelerationX;c.Lm=a.accelerationY;c.Mm=a.accelerationZ},f=function(a){a=a.reading;c.lh=a.yawDegrees;c.mh=a.pitchDegrees;c.nh=a.rollDegrees},l=Windows.Devices.Sensors.Accelerometer.getDefault();l&&(l.reportInterval=Math.max(l.minimumReportInterval,16),
l.addEventListener("readingchanged",e));var m=Windows.Devices.Sensors.Inclinometer.getDefault();m&&(m.reportInterval=Math.max(m.minimumReportInterval,16),m.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(l&&l.removeEventListener("readingchanged",e),m&&m.removeEventListener("readingchanged",f)):(l&&l.addEventListener("readingchanged",e),m&&m.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){c.lh=a.alpha||0;c.mh=a.beta||0;c.nh=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.dr=a.accelerationIncludingGravity.x||0,c.er=a.accelerationIncludingGravity.y||0,c.fr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Km=a.acceleration.x||0,c.Lm=a.acceleration.y||0,c.Mm=a.acceleration.z||0)},!1);this.Pu&&!this.b.ra&&(jQuery(document).mousemove(function(a){c.zl(a)}),jQuery(document).mousedown(function(a){c.yl(a)}),jQuery(document).mouseup(function(a){c.Al(a)}));
this.b.Ff&&!this.b.kb&&AppMobi.accelerometer.watchAcceleration(h,{frequency:40,adjustForRotation:!0});this.b.Ac&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(g,null,{frequency:40});this.b.Lp(this)};a.Ro=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Eg(a.pointerId),c=Xa();if(0<=b){var e=this.b.ra?u:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-e.left,a.pageY-e.top)}}};a.So=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var b=this.b.ra?u:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Xa();this.ud=this.touches.length;this.jg=a.pointerId;this.touches.push(e(c,b,a.pointerId,this.ud));this.b.Ia=!0;this.b.trigger(uc.prototype.i.Cm,this);this.b.trigger(uc.prototype.i.Gm,this);this.Cd=c;this.Dd=b;this.b.trigger(uc.prototype.i.Fm,this);
this.b.Ia=!1}};a.Yi=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.Eg(a.pointerId);this.ud=0<=c?this.touches[c].zh:-1;this.jg=0<=c?this.touches[c].id:-1;this.b.Ia=!0;this.b.trigger(uc.prototype.i.Bm,this);this.b.trigger(uc.prototype.i.Em,this);0<=c&&(b||this.touches[c].Eo(this,c),100>y.length&&y.push(this.touches[c]),this.touches.splice(c,1));this.b.Ia=!1}};a.To=function(a){a.preventDefault&&a.preventDefault();
var b=Xa(),c,e,f,g;c=0;for(e=a.changedTouches.length;c<e;c++)if(f=a.changedTouches[c],g=this.Eg(f.identifier),0<=g){var h=this.b.ra?u:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,f.pageX-h.left,f.pageY-h.top)}};a.Uo=function(a){a.preventDefault&&kb(a)&&a.preventDefault();var b=this.b.ra?u:jQuery(this.b.canvas).offset();Xa();this.b.Ia=!0;var c,f,g,h;c=0;for(f=a.changedTouches.length;c<f;c++)if(g=a.changedTouches[c],h=this.Eg(g.identifier),-1===h){h=g.pageX-b.left;var l=g.pageY-
b.top;this.ud=this.touches.length;this.jg=g.identifier;this.touches.push(e(h,l,g.identifier,this.ud));this.b.trigger(uc.prototype.i.Cm,this);this.b.trigger(uc.prototype.i.Gm,this);this.Cd=h;this.Dd=l;this.b.trigger(uc.prototype.i.Fm,this)}this.b.Ia=!1};a.Bl=function(a,b){a.preventDefault&&kb(a)&&a.preventDefault();this.b.Ia=!0;var c,e,f;c=0;for(e=a.changedTouches.length;c<e;c++)f=a.changedTouches[c],f=this.Eg(f.identifier),0<=f&&(this.ud=this.touches[f].zh,this.jg=this.touches[f].id,this.b.trigger(uc.prototype.i.Bm,
this),this.b.trigger(uc.prototype.i.Em,this),b||this.touches[f].Eo(this,f),100>y.length&&y.push(this.touches[f]),this.touches.splice(f,1));this.b.Ia=!1};a.Zv=function(){return this.b.Ff&&0===this.lh&&0!==l?90*l:this.b.Ac&&0===this.lh&&0!==v?90*v:this.lh};a.$v=function(){return this.b.Ff&&0===this.mh&&0!==f?-90*f:this.b.Ac&&0===this.mh&&0!==r?90*r:this.mh};a.bw=function(){return this.b.Ff&&0===this.nh&&0!==t?90*t:this.b.Ac&&0===this.nh&&0!==w?90*w:this.nh};a.yl=function(a){a.preventDefault&&this.b.Ef&&
!this.b.Uc&&a.preventDefault();this.Uo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ol=!0};a.zl=function(a){this.ol&&this.To({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.Al=function(a){a.preventDefault&&this.b.Ef&&!this.b.Uc&&a.preventDefault();this.b.Ef=!0;this.Bl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ol=!1};a.wj=function(){var a,b,c,e=Xa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=e-50&&(c.$k=e),c.Ht(this,
a)};s.prototype.Gm=function(){return!0};s.prototype.Em=function(){return!0};s.prototype.Fm=function(a){return a?this.b.Ch(a,this.Cd,this.Dd):!1};s.prototype.Cm=function(a){a=Math.floor(a);return a===this.ud};s.prototype.Bm=function(a){a=Math.floor(a);return a===this.ud};s.prototype.Cq=function(){return!0};s.prototype.Sq=function(){return!0};s.prototype.yq=function(){return!0};s.prototype.Dq=function(a){return a?this.b.Ch(a,this.Cd,this.Dd):!1};s.prototype.Tq=function(a){return a?this.b.Ch(a,this.Cd,
this.Dd):!1};s.prototype.zq=function(a){return a?this.b.Ch(a,this.Cd,this.Dd):!1};b.i=new s;c.prototype.Im=function(a,b){var c=this.Df;if(0>c||c>=this.touches.length)a.r(0);else{var e,f,g,h,l;ea(b)?(e=this.b.Jd(0),f=e.scale,g=e.yb,h=e.Kb,l=e.k,e.scale=1,e.yb=1,e.Kb=1,e.k=0,a.r(e.hb(this.touches[c].x,this.touches[c].y,!0)),e.scale=f,e.yb=g,e.Kb=h,e.k=l):(e=ga(b)?this.b.Jd(b):this.b.Fg(b))?a.r(e.hb(this.touches[c].x,this.touches[c].y,!0)):a.r(0)}};c.prototype.Jm=function(a,b){var c=this.Df;if(0>c||
c>=this.touches.length)a.r(0);else{var e,f,g,h,l;ea(b)?(e=this.b.Jd(0),f=e.scale,g=e.yb,h=e.Lb,l=e.k,e.scale=1,e.yb=1,e.Lb=1,e.k=0,a.r(e.hb(this.touches[c].x,this.touches[c].y,!1)),e.scale=f,e.yb=g,e.Lb=h,e.k=l):(e=ga(b)?this.b.Jd(b):this.b.Fg(b))?a.r(e.hb(this.touches[c].x,this.touches[c].y,!1)):a.r(0)}};b.$a=new c})();function vc(h){this.b=h}
(function(){function h(){}var g=vc.prototype;g.pa=function(c){this.ka=c;this.b=c.b};g.pa.prototype.P=function(){};g.ca=function(c){this.type=c;this.b=c.b};var e=g.ca.prototype,m="",s="undefined"!==typeof window.is_scirra_arcade;s&&(m="arcade"+window.scirra_arcade_id);e.P=function(){"undefined"===typeof localStorage&&P("[Construct 2] Webstorage plugin: local storage is not supported on this platform.");"undefined"===typeof sessionStorage&&P("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")};
g.i=new function(){};g.Ha=new function(){};h.prototype.xm=function(c){if("undefined"===typeof localStorage)c.mb("");else{var b={},a,e,g;a=0;for(e=localStorage.length;a<e;a++)g=localStorage.key(a),s?g.substr(0,m.length)===m&&(b[g.substr(m.length)]=localStorage.getItem(g)):b[g]=localStorage.getItem(g);c.mb(JSON.stringify({c2dictionary:!0,data:b}))}};g.$a=new h})();function wc(h){this.b=h}
(function(){function h(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function g(e){a[e.gamepad.index]=e.gamepad;c.trigger(wc.prototype.i.Aq,b)}function e(e){c.trigger(wc.prototype.i.Bq,b);a[e.gamepad.index]=null}function m(){}var s=wc.prototype;s.pa=function(a){this.ka=a;this.b=a.b};s.pa.prototype.P=function(){};var c=null,b=null,a=Array(16),u="",t="",f=null,l={windows:{}};l.windows.firefox={};var w=[0,1,2,3,4,5,8,9,10,11],r=[0,1,[7,6],2,3,[14,15],[12,13]];l.windows.firefox.xbox360=function(a,b){return b?
a>=r.length?-1:ga(r[a])?r[a]+16:r[a]:a>=w.length?-1:w[a]};var v=[2,0,1,3,4,6,5,7,8,9],y=[0,1,2,3,[14,15],[12,13]];l.windows.firefox.logitechdualaction=function(a,b){return b?a>=y.length?-1:ga(y[a])?y[a]+16:y[a]:a>=v.length?-1:v[a]};s.ca=function(a){this.type=a;c=this.b=a.b;b=this};var B=s.ca.prototype;B.P=function(){this.Yk=0;var a=navigator.userAgent;u="windows";/mac/i.test(a)&&(u="mac");f=l[u];t="chrome";/firefox/i.test(a)&&(t="firefox");f&&(f=f[t]);window.addEventListener("webkitgamepadconnected",
g,!1);window.addEventListener("webkitgamepaddisconnected",e,!1);window.addEventListener("MozGamepadConnected",g,!1);window.addEventListener("MozGamepadDisconnected",e,!1);window.addEventListener("gamepadconnected",g,!1);window.addEventListener("gamepaddisconnected",e,!1);this.b.Eh(this);this.Nm=[]};B.fb=function(){this.Nm.length=0;var b=null,c=!1;navigator.getGamepads?b=navigator.getGamepads():navigator.webkitGetGamepads?b=navigator.webkitGetGamepads():navigator.mozGetGamepads?b=navigator.mozGetGamepads():
navigator.msGetGamepads?b=navigator.msGetGamepads():this.b.Zn&&window.cr_getGamepads?(b=window.cr_getGamepads(),c=!0):b=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||a;if(b){var d,e,g,l,m,r,s;d=0;for(e=b.length;d<e;d++){var t=b[d];if(t){if(t.zd)for(g=0;20>g;g++)t.Uj[g]=t.zd[g];else for(t.zd=Array(20),t.Uj=Array(20),g=0;20>g;g++)t.Uj[g]=0;c?g=h:f?(g="",l=t.id.toLowerCase(),-1<l.indexOf("xbox 360")?g="xbox360":-1<l.indexOf("logitech dual action")&&(g="logitechdualaction"),g=f[g]||
h):g=h;m=g;g=0;for(l=t.buttons.length;g<l;g++)s="undefined"!==typeof t.buttons[g].value?t.buttons[g].value:t.buttons[g],r=m(g,!1,s),0<=r&&20>r&&(t.zd[r]=100*s,50<=t.zd[r]&&50>t.Uj[r]&&(this.Yk=r));g=0;for(l=t.axes.length;g<l;g++)s=t.axes[g],r=m(g,!0,s),ga(r)?0<=r&&20>r&&(t.zd[r]=100*s):(t.zd[r[0]]=0,t.zd[r[1]]=0,0>=s?t.zd[r[0]]=Math.abs(100*s):t.zd[r[1]]=Math.abs(100*s));this.Nm.push(t)}}}};B.Fb=function(){return{lastButton:this.Yk}};B.Sb=function(a){this.Yk=a.lastButton};m.prototype.Aq=function(){return!0};
m.prototype.Bq=function(){return!0};s.i=new m;s.Ha=new function(){};s.$a=new function(){}})();function xc(h){this.b=h}
(function(){function h(a){a%=l.length;0>a&&(a+=l.length);return a}function g(){var a,b,c,d;a=0;for(b=l.length;a<b;++a)c=l[a],(d=l[h(a-1)])&&!c&&(r=a),!d&&c&&(y=a)}var e=xc.prototype;e.pa=function(a){this.ka=a;this.b=a.b};var m=e.pa.prototype,s=!1,c=null,b=null;m.P=function(){this.A||s||(s=!0,c=new Image,c.ck=15E3,this.b.tm(c,"penumbra.png"))};m.kh=function(){if(!this.A){this.Vb=this.I=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.I=null,c.Vb=null}};m.Zi=function(){if(!this.A){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].kn()}};e.ca=function(a){this.type=a;this.b=a.b};m=e.ca.prototype;m.P=function(){if(!b){var a=c.width,d=c.height,e=document.createElement("canvas");e.width=a;e.height=d;e=e.getContext("2d");e.clearRect(0,0,a,d);e.drawImage(c,0,0,a,d);b=e.getImageData(0,0,a,d).data}this.oe=this.x;this.pe=this.y;this.mo=this.K[0];this.oc=1E3;this.Of=this.K[1];this.cn=this.K[2];this.tag=this.K[3];this.cl=this.dl=this.el=0;this.co=this.x;this.eo=this.y;this.Vb=this.I=null;this.b.n?
this.kn():this.Of=0;this.b.Lp(this)};m.dn=function(a){return 1===this.cn?jb(this.tag,a):2===this.cn?!jb(this.tag,a):!0};m.wj=function(){if(this.co!==this.x||this.eo!==this.y)this.oe=this.x,this.pe=this.y;var a=this.j,b=(a.ta+a.Ba)/2,c=(a.ua+a.Aa)/2,d=a.Ba-a.ta,e=a.Aa-a.ua;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.V();this.co=this.x;this.eo=this.y;this.oc=1.5*W(a.ta,a.ua,a.Ba,a.Aa)};m.Xf=function(){this.b.n&&(this.I&&(this.b.n.deleteTexture(this.I),
this.I=null),this.Vb&&(this.b.n.deleteTexture(this.Vb),this.Vb=null))};m.Fb=function(){return{}};m.Sb=function(){};var a=[],u=[];m.In=function(){this.b.Xl&&(this.b.Kn(this.j,this.b.Xl.ew,this.wa,a),Ya(a))};var t=[],f=0,l=[],w=[],r=-1,v=-1,y=-1,B=-1,p=0,q=0,d=[],n=0,k=0,C=0,Y=0,N=0,z=0,x=0,oa=0,H=new db([]);m.Rc=function(b){this.In();b.save();b.fillStyle="rgba("+this.el+","+this.dl+","+this.cl+","+this.opacity+")";var c,e,f,g,k,h,m,n,p,q;c=0;for(e=a.length;c<e;++c)if(f=a[c],f.B.shadowcasterEnabled&&
this.dn(f.B.shadowcasterTag))if(f.na(),m=f.B.shadowcasterHeight,f.rf){f.Bn(this.wa,u);n=f.x;p=f.y;f=0;for(g=u.length;f<g;++f){k=u[f];q=k.lp;k.kf?(k=k.kf,h=q.left,q=q.top):(H.nf(q,0,0),k=H,q=h=0);this.Th(k,n+h,p+q,m);b.beginPath();b.moveTo(d[0],d[1]);k=2;for(h=d.length;k<h;k+=2)b.lineTo(d[k],d[k+1]);b.closePath();b.fill();l.length=0;d.length=0}u.length=0}else{f.H&&!f.H.le()?(f.H.$d(f.width,f.height,f.k),k=f.H):(H.ze(f.gb,f.x,f.y,f.width,f.height),k=H);this.Th(k,f.x,f.y,m);b.beginPath();b.moveTo(d[0],
d[1]);f=2;for(g=d.length;f<g;f+=2)b.lineTo(d[f],d[f+1]);b.closePath();b.fill();l.length=0;d.length=0}b.restore();a.length=0};m.Qs=function(a,b,c){f=a.Fc;t.length=0;var d,e=a.Pa;q=p=0;var g;for(g=0;g<f;++g)d=2*g,a=e[d]+b,d=e[d+1]+c,t.push(a),t.push(d),p+=a,q+=d;p/=f;q/=f};m.Th=function(a,b,c,e){this.Qs(a,b,c);var k;l.length=0;w.length=0;d.length=0;B=v=y=r=-1;c=this.oe;var h=this.pe;if(0<this.Of)this.Vj(-this.Of),g(),Ea(w,l),v=r,B=y,l.length=0,y=r=-1,this.Vj(this.Of),g(),-1!==r&&-1!==y&&-1!==v&&-1!==
B&&this.qr();else for(this.Vj(0),g(),a=0;a<f;++a)k=2*a,b=t[k],k=t[k+1],this.pr(a,c,h,b,k,e)};m.pr=function(a,b,c,e,f,g){var k;k=l[h(a-1)];var m=a===r,n=a===y;l[a]||k?(a=V(b,c,e,f),k=W(b,c,e,f),g=this.rr(b,c,e,f,g),b+=Math.cos(a)*(k+g),c+=Math.sin(a)*(k+g)):(b=e,c=f);n&&(d.push(e),d.push(f));d.push(b);d.push(c);m&&(d.push(e),d.push(f))};m.Vj=function(a){var b=this.oe,c=this.pe,d=b,e=c,g,k,h,m,n;for(g=0;g<f;++g)k=2*g,h=g+1,h=h===f?0:2*h,m=t[k],k=t[k+1],n=t[h],h=t[h+1],0!==a&&(e=V(b,c,p,q)-Math.PI/2,
d=b+Math.cos(e)*a,e=c+Math.sin(e)*a),l.push(Oa(V(m,k,d,e),V(m,k,n,h)-Math.PI/2)>=Math.PI/2)};var D=0,A=0;m.qr=function(){for(var a=v,b,c,e;a%=f,b=2*a,c=t[b],e=t[b+1],d.push(c),d.push(e),a!==y;++a);var g=this.Of,h=V(this.oe,this.pe,p,q),a=this.oe+Math.cos(h-Math.PI/2)*g,l=this.pe+Math.sin(h-Math.PI/2)*g,h=V(a,l,c,e),m=W(a,l,c,e),a=a+Math.cos(h)*(m+this.oc),l=l+Math.sin(h)*(m+this.oc);b=2*v;var r=t[b];b=t[b+1];var h=V(this.oe,this.pe,p,q),s=this.oe+Math.cos(h+Math.PI/2)*g,u=this.pe+Math.sin(h+Math.PI/
2)*g,h=V(s,u,r,b),m=W(s,u,r,b),g=s+Math.cos(h)*(m+this.oc),h=u+Math.sin(h)*(m+this.oc);N=c;z=e;n=r;k=b;var w,B,H,m=a-c,s=l-e;w=g-r;B=h-b;H=-w*s+m*B;0===H?c=!1:(u=(-s*(c-r)+m*(e-b))/H,H=-w*s+m*B,0===H?c=!1:(r=(w*(e-b)-B*(c-r))/H,0<=u&&1>=u&&0<=r&&1>=r?(D=c+r*m,A=e+r*s,c=!0):c=!1));c?(d.push(D),d.push(A),x=D,oa=A,C=D,Y=A):(d.push(a),d.push(l),d.push(g),d.push(h),x=a,oa=l,C=g,Y=h)};m.rr=function(a,b,c,d,e){if(e>=this.mo)return this.oc;if(0>=e)return 0;a=W(a,b,c,d);a=Math.atan(a/(this.mo-e));e*=Math.tan(a);
e>=this.oc&&(e=this.oc);0>e&&(e=0);return e};m.fc=function(b){b.ye(this.opacity);this.In();var c,e,f,g,k,h,m,n,p,q;c=0;for(e=a.length;c<e;++c)if(f=a[c],f.B.shadowcasterEnabled&&this.dn(f.B.shadowcasterTag))if(f.na(),k=f.B.shadowcasterHeight,f.rf){f.Bn(this.wa,u);m=f.x;n=f.y;f=0;for(g=u.length;f<g;++f)h=u[f],p=h.lp,h.kf?(h=h.kf,q=p.left,p=p.top):(H.nf(p,0,0),h=H,p=q=0),this.Th(h,m+q,n+p,k),6>d.length||(b.Xa(this.I),b.hn(d),-1<r&&-1<v&&(b.Xa(this.Vb),this.gi(b,!0)),-1<y&&-1<B&&(b.Xa(this.Vb),this.gi(b,
!1)),l.length=0,d.length=0);u.length=0}else f.H&&!f.H.le()?(f.H.$d(f.width,f.height,f.k),h=f.H):(H.ze(f.gb,f.x,f.y,f.width,f.height),h=H),this.Th(h,f.x,f.y,k),6>d.length||(b.Xa(this.I),b.hn(d),-1<r&&-1<v&&(b.Xa(this.Vb),this.gi(b,!0)),-1<y&&-1<B&&(b.Xa(this.Vb),this.gi(b,!1)),l.length=0,d.length=0);a.length=0};m.gi=function(a,b){var c=this.oe,d=this.pe,e,f,g,h,l,m;b?(g=n,h=k,l=C,m=Y):(g=N,h=z,l=x,m=oa);var s=this.Of,u=V(c,d,p,q),w=Math.PI/2;b&&(w=-w);c+=Math.cos(u+w)*s;d+=Math.sin(u+w)*s;s=!1;if(b){if(s=
r!==v)e=t[2*r],f=t[2*r+1]}else if(s=y!==B)e=t[2*B],f=t[2*B+1];var u=s?V(e,f,g,h):V(c,d,g,h),w=g+Math.cos(u)*this.oc,A=h+Math.sin(u)*this.oc,D,H,Z,za=Z=0,O=1;s&&(Z=V(c,d,e,f),D=e+Math.cos(Z)*this.oc,H=f+Math.sin(Z)*this.oc,c=V(g,h,l,m),Z=Oa(u,Z)/Oa(c,Z),u=W(e,f,g,h),u/=u+this.oc,c=V(0,1,Z,0),d=W(0,1,Z,0),za+=Math.cos(c)*u*d,O+=Math.sin(c)*u*d);a.kp(g,h,l,m,w,A,w,A,za,O,1,Z,Z);s&&a.kp(e,f,w,A,D,H,D,H,0,1,Z,0,0)};m.kn=function(){this.b.n&&(this.I&&(this.b.n.deleteTexture(this.I),this.I=null),this.Vb&&
(this.b.n.deleteTexture(this.Vb),this.Vb=null),this.Br(),this.Er())};m.Br=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.el+","+this.dl+","+this.cl+")";b.fillRect(0,0,16,16);this.I=this.b.n.Pc(16,16,!1,!1,!0);this.b.n.qm(a,this.I)};m.Er=function(){var a=c.width,d=c.height,e=this.el,f=this.dl,g=this.cl,k=b,h=document.createElement("canvas");h.width=a;h.height=d;var l=h.getContext("2d"),m=l.createImageData(a,d),n=m.data,p,q;
p=0;for(q=n.length;p<q;p+=4)n[p]=e,n[p+1]=f,n[p+2]=g,n[p+3]=k[p+3];l.putImageData(m,0,0);this.Vb=this.b.n.Pc(a,d,this.b.X,!1,!1);this.b.n.qm(h,this.Vb)};e.i=new function(){};e.Ha=new function(){};e.$a=new function(){}})();function yc(h){this.b=h}
(function(){var h=yc.prototype;h.pa=function(e){this.behavior=e;this.b=e.b};h.pa.prototype.P=function(){};h.ca=function(e,g){this.type=e;this.behavior=e.behavior;this.S=g;this.b=e.b};var g=h.ca.prototype;g.P=function(){var e=this.K[0];this.Jh=this.K[1];this.oi=this.K[2];this.mr=0!==this.K[3];this.Ul=0!==this.K[4];this.Ab=Math.cos(this.S.k)*e;this.ib=Math.sin(this.S.k)*e;this.cf=this.S.x;this.df=this.S.y;this.Mf=this.S.k;this.yj=0;this.enabled=0!==this.K[5]};g.Fb=function(){return{acc:this.Jh,g:this.oi,
dx:this.Ab,dy:this.ib,lx:this.cf,ly:this.df,lka:this.Mf,t:this.yj,e:this.enabled}};g.Sb=function(e){this.Jh=e.acc;this.oi=e.g;this.Ab=e.dx;this.ib=e.dy;this.cf=e.lx;this.df=e.ly;this.Mf=e.lka;this.yj=e.t;this.enabled=e.e};g.fb=function(){if(this.enabled){var e=this.b.wk(this.S),g,h;this.S.k!==this.Mf&&(this.Ul&&(g=W(0,0,this.Ab,this.ib),this.Ab=Math.cos(this.S.k)*g,this.ib=Math.sin(this.S.k)*g),this.Mf=this.S.k);0!==this.Jh&&(g=W(0,0,this.Ab,this.ib),h=0===this.Ab&&0===this.ib?this.S.k:V(0,0,this.Ab,
this.ib),g+=this.Jh*e,0>g&&(g=0),this.Ab=Math.cos(h)*g,this.ib=Math.sin(h)*g);0!==this.oi&&(this.ib+=this.oi*e);this.cf=this.S.x;this.df=this.S.y;if(0!==this.Ab||0!==this.ib)if(this.S.x+=this.Ab*e,this.S.y+=this.ib*e,this.yj+=W(0,0,this.Ab*e,this.ib*e),this.Ul&&(this.S.k=V(0,0,this.Ab,this.ib),this.S.V(),this.Mf=this.S.k),this.S.V(),this.mr&&(g=this.b.qf(this.S)))this.b.ju(this.S,g),g=W(0,0,this.Ab,this.ib),h=this.b.sr(this.S,this.cf,this.df),this.Ab=Math.cos(h)*g,this.ib=Math.sin(h)*g,this.S.x+=
this.Ab*e,this.S.y+=this.ib*e,this.S.V(),this.Ul&&(this.Mf=this.S.k=h,this.S.V()),this.b.gu(this.S,this.Ab/g,this.ib/g,Math.max(2.5*g*e,30))||this.b.hu(this.S)}};h.i=new function(){};h.Ha=new function(){};h.$a=new function(){}})();function lc(h){this.b=h}
(function(){var h=lc.prototype;h.pa=function(e){this.behavior=e;this.b=e.b};h.pa.prototype.P=function(){};h.ca=function(e,g){this.type=e;this.behavior=e.behavior;this.S=g;this.b=e.b};var g=h.ca.prototype;g.P=function(){this.S.B.solidEnabled=0!==this.K[0]};g.fb=function(){};h.i=new function(){};h.Ha=new function(){}})();
function kc(){return[nc,oc,wc,pc,qc,xc,mc,rc,sc,uc,vc,lc,yc,qc.prototype.i.ym,X.prototype.Ha.jq,mc.prototype.i.wq,mc.prototype.i.iq,mc.prototype.Ha.Vq,mc.prototype.Ha.dq,mc.prototype.Ha.Yq,qc.prototype.i.Ij,X.prototype.Ha.mq,X.prototype.i.lq,X.prototype.Ha.Wq,X.prototype.$a.ou]};
